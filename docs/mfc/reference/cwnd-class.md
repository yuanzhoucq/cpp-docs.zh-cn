---
title: CWnd 类
ms.date: 11/19/2018
f1_keywords:
- CWnd
- AFXWIN/CWnd
- AFXWIN/CWnd::CWnd
- AFXWIN/CWnd::accDoDefaultAction
- AFXWIN/CWnd::accHitTest
- AFXWIN/CWnd::accLocation
- AFXWIN/CWnd::accNavigate
- AFXWIN/CWnd::accSelect
- AFXWIN/CWnd::AnimateWindow
- AFXWIN/CWnd::ArrangeIconicWindows
- AFXWIN/CWnd::Attach
- AFXWIN/CWnd::BeginModalState
- AFXWIN/CWnd::BeginPaint
- AFXWIN/CWnd::BindDefaultProperty
- AFXWIN/CWnd::BindProperty
- AFXWIN/CWnd::BringWindowToTop
- AFXWIN/CWnd::CalcWindowRect
- AFXWIN/CWnd::CancelToolTips
- AFXWIN/CWnd::CenterWindow
- AFXWIN/CWnd::ChangeClipboardChain
- AFXWIN/CWnd::CheckDlgButton
- AFXWIN/CWnd::CheckRadioButton
- AFXWIN/CWnd::ChildWindowFromPoint
- AFXWIN/CWnd::ClientToScreen
- AFXWIN/CWnd::CloseWindow
- AFXWIN/CWnd::ContinueModal
- AFXWIN/CWnd::Create
- AFXWIN/CWnd::CreateAccessibleProxy
- AFXWIN/CWnd::CreateCaret
- AFXWIN/CWnd::CreateControl
- AFXWIN/CWnd::CreateEx
- AFXWIN/CWnd::CreateGrayCaret
- AFXWIN/CWnd::CreateSolidCaret
- AFXWIN/CWnd::DeleteTempMap
- AFXWIN/CWnd::DestroyWindow
- AFXWIN/CWnd::Detach
- AFXWIN/CWnd::DlgDirList
- AFXWIN/CWnd::DlgDirListComboBox
- AFXWIN/CWnd::DlgDirSelect
- AFXWIN/CWnd::DlgDirSelectComboBox
- AFXWIN/CWnd::DragAcceptFiles
- AFXWIN/CWnd::DragDetect
- AFXWIN/CWnd::DrawAnimatedRects
- AFXWIN/CWnd::DrawCaption
- AFXWIN/CWnd::DrawMenuBar
- AFXWIN/CWnd::EnableActiveAccessibility
- AFXWIN/CWnd::EnableDynamicLayout
- AFXWIN/CWnd::EnableD2DSupport
- AFXWIN/CWnd::EnableScrollBar
- AFXWIN/CWnd::EnableScrollBarCtrl
- AFXWIN/CWnd::EnableToolTips
- AFXWIN/CWnd::EnableTrackingToolTips
- AFXWIN/CWnd::EnableWindow
- AFXWIN/CWnd::EndModalLoop
- AFXWIN/CWnd::EndModalState
- AFXWIN/CWnd::EndPaint
- AFXWIN/CWnd::ExecuteDlgInit
- AFXWIN/CWnd::FilterToolTipMessage
- AFXWIN/CWnd::FindWindow
- AFXWIN/CWnd::FindWindowEx
- AFXWIN/CWnd::FlashWindow
- AFXWIN/CWnd::FlashWindowEx
- AFXWIN/CWnd::FromHandle
- AFXWIN/CWnd::FromHandlePermanent
- AFXWIN/CWnd::get_accChild
- AFXWIN/CWnd::get_accChildCount
- AFXWIN/CWnd::get_accDefaultAction
- AFXWIN/CWnd::get_accDescription
- AFXWIN/CWnd::get_accFocus
- AFXWIN/CWnd::get_accHelp
- AFXWIN/CWnd::get_accHelpTopic
- AFXWIN/CWnd::get_accKeyboardShortcut
- AFXWIN/CWnd::get_accName
- AFXWIN/CWnd::get_accParent
- AFXWIN/CWnd::get_accRole
- AFXWIN/CWnd::get_accSelection
- AFXWIN/CWnd::get_accState
- AFXWIN/CWnd::get_accValue
- AFXWIN/CWnd::GetActiveWindow
- AFXWIN/CWnd::GetAncestor
- AFXWIN/CWnd::GetCapture
- AFXWIN/CWnd::GetCaretPos
- AFXWIN/CWnd::GetCheckedRadioButton
- AFXWIN/CWnd::GetClientRect
- AFXWIN/CWnd::GetClipboardOwner
- AFXWIN/CWnd::GetClipboardViewer
- AFXWIN/CWnd::GetControlUnknown
- AFXWIN/CWnd::GetDC
- AFXWIN/CWnd::GetDCEx
- AFXWIN/CWnd::GetDCRenderTarget
- AFXWIN/CWnd::GetDescendantWindow
- AFXWIN/CWnd::GetDesktopWindow
- AFXWIN/CWnd::GetDlgCtrlID
- AFXWIN/CWnd::GetDlgItem
- AFXWIN/CWnd::GetDlgItemInt
- AFXWIN/CWnd::GetDlgItemText
- AFXWIN/CWnd::GetDSCCursor
- AFXWIN/CWnd::GetDynamicLayout
- AFXWIN/CWnd::GetExStyle
- AFXWIN/CWnd::GetFocus
- AFXWIN/CWnd::GetFont
- AFXWIN/CWnd::GetForegroundWindow
- AFXWIN/CWnd::GetIcon
- AFXWIN/CWnd::GetLastActivePopup
- AFXWIN/CWnd::GetLayeredWindowAttributes
- AFXWIN/CWnd::GetMenu
- AFXWIN/CWnd::GetNextDlgGroupItem
- AFXWIN/CWnd::GetNextDlgTabItem
- AFXWIN/CWnd::GetNextWindow
- AFXWIN/CWnd::GetOleControlSite
- AFXWIN/CWnd::GetOpenClipboardWindow
- AFXWIN/CWnd::GetOwner
- AFXWIN/CWnd::GetParent
- AFXWIN/CWnd::GetParentFrame
- AFXWIN/CWnd::GetParentOwner
- AFXWIN/CWnd::GetProperty
- AFXWIN/CWnd::GetRenderTarget
- AFXWIN/CWnd::GetSafeHwnd
- AFXWIN/CWnd::GetSafeOwner
- AFXWIN/CWnd::GetScrollBarCtrl
- AFXWIN/CWnd::GetScrollBarInfo
- AFXWIN/CWnd::GetScrollInfo
- AFXWIN/CWnd::GetScrollLimit
- AFXWIN/CWnd::GetScrollPos
- AFXWIN/CWnd::GetScrollRange
- AFXWIN/CWnd::GetStyle
- AFXWIN/CWnd::GetSystemMenu
- AFXWIN/CWnd::GetTitleBarInfo
- AFXWIN/CWnd::GetTopLevelFrame
- AFXWIN/CWnd::GetTopLevelOwner
- AFXWIN/CWnd::GetTopLevelParent
- AFXWIN/CWnd::GetTopWindow
- AFXWIN/CWnd::GetUpdateRect
- AFXWIN/CWnd::GetUpdateRgn
- AFXWIN/CWnd::GetWindow
- AFXWIN/CWnd::GetWindowContextHelpId
- AFXWIN/CWnd::GetWindowDC
- AFXWIN/CWnd::GetWindowedChildCount
- AFXWIN/CWnd::GetWindowInfo
- AFXWIN/CWnd::GetWindowlessChildCount
- AFXWIN/CWnd::GetWindowPlacement
- AFXWIN/CWnd::GetWindowRect
- AFXWIN/CWnd::GetWindowRgn
- AFXWIN/CWnd::GetWindowText
- AFXWIN/CWnd::GetWindowTextLength
- AFXWIN/CWnd::HideCaret
- AFXWIN/CWnd::HiliteMenuItem
- AFXWIN/CWnd::HtmlHelp
- AFXWIN/CWnd::Invalidate
- AFXWIN/CWnd::InvalidateRect
- AFXWIN/CWnd::InvalidateRgn
- AFXWIN/CWnd::InvokeHelper
- AFXWIN/CWnd::IsChild
- AFXWIN/CWnd::IsD2DSupportEnabled
- AFXWIN/CWnd::IsDialogMessage
- AFXWIN/CWnd::IsDlgButtonChecked
- AFXWIN/CWnd::IsDynamicLayoutEnabled
- AFXWIN/CWnd::IsIconic
- AFXWIN/CWnd::IsTouchWindow
- AFXWIN/CWnd::IsWindowEnabled
- AFXWIN/CWnd::IsWindowVisible
- AFXWIN/CWnd::IsZoomed
- AFXWIN/CWnd::KillTimer
- AFXWIN/CWnd::LockWindowUpdate
- AFXWIN/CWnd::MapWindowPoints
- AFXWIN/CWnd::MessageBox
- AFXWIN/CWnd::ModifyStyle
- AFXWIN/CWnd::ModifyStyleEx
- AFXWIN/CWnd::MoveWindow
- AFXWIN/CWnd::NotifyWinEvent
- AFXWIN/CWnd::OnAmbientProperty
- AFXWIN/CWnd::OnDrawIconicThumbnailOrLivePreview
- AFXWIN/CWnd::OnHelp
- AFXWIN/CWnd::OnHelpFinder
- AFXWIN/CWnd::OnHelpIndex
- AFXWIN/CWnd::OnHelpUsing
- AFXWIN/CWnd::OnToolHitTest
- AFXWIN/CWnd::OpenClipboard
- AFXWIN/CWnd::PaintWindowlessControls
- AFXWIN/CWnd::PostMessage
- AFXWIN/CWnd::PreCreateWindow
- AFXWIN/CWnd::PreSubclassWindow
- AFXWIN/CWnd::PreTranslateMessage
- AFXWIN/CWnd::Print
- AFXWIN/CWnd::PrintClient
- AFXWIN/CWnd::PrintWindow
- AFXWIN/CWnd::RedrawWindow
- AFXWIN/CWnd::RegisterTouchWindow
- AFXWIN/CWnd::ReleaseDC
- AFXWIN/CWnd::RepositionBars
- AFXWIN/CWnd::RunModalLoop
- AFXWIN/CWnd::ScreenToClient
- AFXWIN/CWnd::ScrollWindow
- AFXWIN/CWnd::ScrollWindowEx
- AFXWIN/CWnd::SendChildNotifyLastMsg
- AFXWIN/CWnd::SendDlgItemMessage
- AFXWIN/CWnd::SendMessage
- AFXWIN/CWnd::SendMessageToDescendants
- AFXWIN/CWnd::SendNotifyMessage
- AFXWIN/CWnd::SetActiveWindow
- AFXWIN/CWnd::SetCapture
- AFXWIN/CWnd::SetCaretPos
- AFXWIN/CWnd::SetClipboardViewer
- AFXWIN/CWnd::SetDlgCtrlID
- AFXWIN/CWnd::SetDlgItemInt
- AFXWIN/CWnd::SetDlgItemText
- AFXWIN/CWnd::SetFocus
- AFXWIN/CWnd::SetFont
- AFXWIN/CWnd::SetForegroundWindow
- AFXWIN/CWnd::SetIcon
- AFXWIN/CWnd::SetLayeredWindowAttributes
- AFXWIN/CWnd::SetMenu
- AFXWIN/CWnd::SetOwner
- AFXWIN/CWnd::SetParent
- AFXWIN/CWnd::SetProperty
- AFXWIN/CWnd::SetRedraw
- AFXWIN/CWnd::SetScrollInfo
- AFXWIN/CWnd::SetScrollPos
- AFXWIN/CWnd::SetScrollRange
- AFXWIN/CWnd::SetTimer
- AFXWIN/CWnd::SetWindowContextHelpId
- AFXWIN/CWnd::SetWindowPlacement
- AFXWIN/CWnd::SetWindowPos
- AFXWIN/CWnd::SetWindowRgn
- AFXWIN/CWnd::SetWindowText
- AFXWIN/CWnd::ShowCaret
- AFXWIN/CWnd::ShowOwnedPopups
- AFXWIN/CWnd::ShowScrollBar
- AFXWIN/CWnd::ShowWindow
- AFXWIN/CWnd::SubclassDlgItem
- AFXWIN/CWnd::SubclassWindow
- AFXWIN/CWnd::UnlockWindowUpdate
- AFXWIN/CWnd::UnsubclassWindow
- AFXWIN/CWnd::UpdateData
- AFXWIN/CWnd::UpdateDialogControls
- AFXWIN/CWnd::UpdateLayeredWindow
- AFXWIN/CWnd::UpdateWindow
- AFXWIN/CWnd::ValidateRect
- AFXWIN/CWnd::ValidateRgn
- AFXWIN/CWnd::WindowFromPoint
- AFXWIN/CWnd::WinHelp
- AFXWIN/CWnd::Default
- AFXWIN/CWnd::DefWindowProc
- AFXWIN/CWnd::DoDataExchange
- AFXWIN/CWnd::GetCurrentMessage
- AFXWIN/CWnd::InitDynamicLayout
- AFXWIN/CWnd::LoadDynamicLayoutResource
- AFXWIN/CWnd::OnActivate
- AFXWIN/CWnd::OnActivateApp
- AFXWIN/CWnd::OnAppCommand
- AFXWIN/CWnd::OnAskCbFormatName
- AFXWIN/CWnd::OnCancelMode
- AFXWIN/CWnd::OnCaptureChanged
- AFXWIN/CWnd::OnChangeCbChain
- AFXWIN/CWnd::OnChangeUIState
- AFXWIN/CWnd::OnChar
- AFXWIN/CWnd::OnCharToItem
- AFXWIN/CWnd::OnChildActivate
- AFXWIN/CWnd::OnChildNotify
- AFXWIN/CWnd::OnClipboardUpdate
- AFXWIN/CWnd::OnClose
- AFXWIN/CWnd::OnColorizationColorChanged
- AFXWIN/CWnd::OnCommand
- AFXWIN/CWnd::OnCompacting
- AFXWIN/CWnd::OnCompareItem
- AFXWIN/CWnd::OnCompositionChanged
- AFXWIN/CWnd::OnContextMenu
- AFXWIN/CWnd::OnCopyData
- AFXWIN/CWnd::OnCreate
- AFXWIN/CWnd::OnCtlColor
- AFXWIN/CWnd::OnDeadChar
- AFXWIN/CWnd::OnDeleteItem
- AFXWIN/CWnd::OnDestroy
- AFXWIN/CWnd::OnDestroyClipboard
- AFXWIN/CWnd::OnDeviceChange
- AFXWIN/CWnd::OnDevModeChange
- AFXWIN/CWnd::OnDrawClipboard
- AFXWIN/CWnd::OnDrawItem
- AFXWIN/CWnd::OnDropFiles
- AFXWIN/CWnd::OnEnable
- AFXWIN/CWnd::OnEndSession
- AFXWIN/CWnd::OnEnterIdle
- AFXWIN/CWnd::OnEnterMenuLoop
- AFXWIN/CWnd::OnEnterSizeMove
- AFXWIN/CWnd::OnEraseBkgnd
- AFXWIN/CWnd::OnExitMenuLoop
- AFXWIN/CWnd::OnExitSizeMove
- AFXWIN/CWnd::OnFontChange
- AFXWIN/CWnd::OnGetDlgCode
- AFXWIN/CWnd::OnGetMinMaxInfo
- AFXWIN/CWnd::OnHelpInfo
- AFXWIN/CWnd::OnHotKey
- AFXWIN/CWnd::OnHScroll
- AFXWIN/CWnd::OnHScrollClipboard
- AFXWIN/CWnd::OnIconEraseBkgnd
- AFXWIN/CWnd::OnInitMenu
- AFXWIN/CWnd::OnInitMenuPopup
- AFXWIN/CWnd::OnInputDeviceChange
- AFXWIN/CWnd::OnInputLangChange
- AFXWIN/CWnd::OnInputLangChangeRequest
- AFXWIN/CWnd::OnKeyDown
- AFXWIN/CWnd::OnKeyUp
- AFXWIN/CWnd::OnKillFocus
- AFXWIN/CWnd::OnLButtonDblClk
- AFXWIN/CWnd::OnLButtonDown
- AFXWIN/CWnd::OnLButtonUp
- AFXWIN/CWnd::OnMButtonDblClk
- AFXWIN/CWnd::OnMButtonDown
- AFXWIN/CWnd::OnMButtonUp
- AFXWIN/CWnd::OnMDIActivate
- AFXWIN/CWnd::OnMeasureItem
- AFXWIN/CWnd::OnMenuChar
- AFXWIN/CWnd::OnMenuDrag
- AFXWIN/CWnd::OnMenuGetObject
- AFXWIN/CWnd::OnMenuRButtonUp
- AFXWIN/CWnd::OnMenuSelect
- AFXWIN/CWnd::OnMouseActivate
- AFXWIN/CWnd::OnMouseHover
- AFXWIN/CWnd::OnMouseHWheel
- AFXWIN/CWnd::OnMouseLeave
- AFXWIN/CWnd::OnMouseMove
- AFXWIN/CWnd::OnMouseWheel
- AFXWIN/CWnd::OnMove
- AFXWIN/CWnd::OnMoving
- AFXWIN/CWnd::OnNcActivate
- AFXWIN/CWnd::OnNcCalcSize
- AFXWIN/CWnd::OnNcCreate
- AFXWIN/CWnd::OnNcDestroy
- AFXWIN/CWnd::OnNcHitTest
- AFXWIN/CWnd::OnNcLButtonDblClk
- AFXWIN/CWnd::OnNcLButtonDown
- AFXWIN/CWnd::OnNcLButtonUp
- AFXWIN/CWnd::OnNcMButtonDblClk
- AFXWIN/CWnd::OnNcMButtonDown
- AFXWIN/CWnd::OnNcMButtonUp
- AFXWIN/CWnd::OnNcMouseHover
- AFXWIN/CWnd::OnNcMouseLeave
- AFXWIN/CWnd::OnNcMouseMove
- AFXWIN/CWnd::OnNcPaint
- AFXWIN/CWnd::OnNcRButtonDblClk
- AFXWIN/CWnd::OnNcRButtonDown
- AFXWIN/CWnd::OnNcRButtonUp
- AFXWIN/CWnd::OnNcRenderingChanged
- AFXWIN/CWnd::OnNcXButtonDblClk
- AFXWIN/CWnd::OnNcXButtonDown
- AFXWIN/CWnd::OnNcXButtonUp
- AFXWIN/CWnd::OnNextMenu
- AFXWIN/CWnd::OnNotify
- AFXWIN/CWnd::OnNotifyFormat
- AFXWIN/CWnd::OnPaint
- AFXWIN/CWnd::OnPaintClipboard
- AFXWIN/CWnd::OnPaletteChanged
- AFXWIN/CWnd::OnPaletteIsChanging
- AFXWIN/CWnd::OnParentNotify
- AFXWIN/CWnd::OnPowerBroadcast
- AFXWIN/CWnd::OnQueryDragIcon
- AFXWIN/CWnd::OnQueryEndSession
- AFXWIN/CWnd::OnQueryNewPalette
- AFXWIN/CWnd::OnQueryOpen
- AFXWIN/CWnd::OnQueryUIState
- AFXWIN/CWnd::OnRawInput
- AFXWIN/CWnd::OnRButtonDblClk
- AFXWIN/CWnd::OnRButtonDown
- AFXWIN/CWnd::OnRButtonUp
- AFXWIN/CWnd::OnRenderAllFormats
- AFXWIN/CWnd::OnRenderFormat
- AFXWIN/CWnd::OnSessionChange
- AFXWIN/CWnd::OnSetCursor
- AFXWIN/CWnd::OnSetFocus
- AFXWIN/CWnd::OnSettingChange
- AFXWIN/CWnd::OnShowWindow
- AFXWIN/CWnd::OnSize
- AFXWIN/CWnd::OnSizeClipboard
- AFXWIN/CWnd::OnSizing
- AFXWIN/CWnd::OnSpoolerStatus
- AFXWIN/CWnd::OnStyleChanged
- AFXWIN/CWnd::OnStyleChanging
- AFXWIN/CWnd::OnSysChar
- AFXWIN/CWnd::OnSysColorChange
- AFXWIN/CWnd::OnSysCommand
- AFXWIN/CWnd::OnSysDeadChar
- AFXWIN/CWnd::OnSysKeyDown
- AFXWIN/CWnd::OnSysKeyUp
- AFXWIN/CWnd::OnTCard
- AFXWIN/CWnd::OnTimeChange
- AFXWIN/CWnd::OnTimer
- AFXWIN/CWnd::OnTouchInput
- AFXWIN/CWnd::OnTouchInputs
- AFXWIN/CWnd::OnUniChar
- AFXWIN/CWnd::OnUnInitMenuPopup
- AFXWIN/CWnd::OnUpdateUIState
- AFXWIN/CWnd::OnUserChanged
- AFXWIN/CWnd::OnVKeyToItem
- AFXWIN/CWnd::OnVScroll
- AFXWIN/CWnd::OnVScrollClipboard
- AFXWIN/CWnd::OnWindowPosChanged
- AFXWIN/CWnd::OnWindowPosChanging
- AFXWIN/CWnd::OnWinIniChange
- AFXWIN/CWnd::OnWndMsg
- AFXWIN/CWnd::OnXButtonDblClk
- AFXWIN/CWnd::OnXButtonDown
- AFXWIN/CWnd::OnXButtonUp
- AFXWIN/CWnd::PostNcDestroy
- AFXWIN/CWnd::ReflectChildNotify
- AFXWIN/CWnd::ReflectLastMsg
- AFXWIN/CWnd::ResizeDynamicLayout
- AFXWIN/CWnd::WindowProc
- AFXWIN/CWnd::m_hWnd
helpviewer_keywords:
- CWnd [MFC], CWnd
- CWnd [MFC], accDoDefaultAction
- CWnd [MFC], accHitTest
- CWnd [MFC], accLocation
- CWnd [MFC], accNavigate
- CWnd [MFC], accSelect
- CWnd [MFC], AnimateWindow
- CWnd [MFC], ArrangeIconicWindows
- CWnd [MFC], Attach
- CWnd [MFC], BeginModalState
- CWnd [MFC], BeginPaint
- CWnd [MFC], BindDefaultProperty
- CWnd [MFC], BindProperty
- CWnd [MFC], BringWindowToTop
- CWnd [MFC], CalcWindowRect
- CWnd [MFC], CancelToolTips
- CWnd [MFC], CenterWindow
- CWnd [MFC], ChangeClipboardChain
- CWnd [MFC], CheckDlgButton
- CWnd [MFC], CheckRadioButton
- CWnd [MFC], ChildWindowFromPoint
- CWnd [MFC], ClientToScreen
- CWnd [MFC], CloseWindow
- CWnd [MFC], ContinueModal
- CWnd [MFC], Create
- CWnd [MFC], CreateAccessibleProxy
- CWnd [MFC], CreateCaret
- CWnd [MFC], CreateControl
- CWnd [MFC], CreateEx
- CWnd [MFC], CreateGrayCaret
- CWnd [MFC], CreateSolidCaret
- CWnd [MFC], DeleteTempMap
- CWnd [MFC], DestroyWindow
- CWnd [MFC], Detach
- CWnd [MFC], DlgDirList
- CWnd [MFC], DlgDirListComboBox
- CWnd [MFC], DlgDirSelect
- CWnd [MFC], DlgDirSelectComboBox
- CWnd [MFC], DragAcceptFiles
- CWnd [MFC], DragDetect
- CWnd [MFC], DrawAnimatedRects
- CWnd [MFC], DrawCaption
- CWnd [MFC], DrawMenuBar
- CWnd [MFC], EnableActiveAccessibility
- CWnd [MFC], EnableDynamicLayout
- CWnd [MFC], EnableD2DSupport
- CWnd [MFC], EnableScrollBar
- CWnd [MFC], EnableScrollBarCtrl
- CWnd [MFC], EnableToolTips
- CWnd [MFC], EnableTrackingToolTips
- CWnd [MFC], EnableWindow
- CWnd [MFC], EndModalLoop
- CWnd [MFC], EndModalState
- CWnd [MFC], EndPaint
- CWnd [MFC], ExecuteDlgInit
- CWnd [MFC], FilterToolTipMessage
- CWnd [MFC], FindWindow
- CWnd [MFC], FindWindowEx
- CWnd [MFC], FlashWindow
- CWnd [MFC], FlashWindowEx
- CWnd [MFC], FromHandle
- CWnd [MFC], FromHandlePermanent
- CWnd [MFC], get_accChild
- CWnd [MFC], get_accChildCount
- CWnd [MFC], get_accDefaultAction
- CWnd [MFC], get_accDescription
- CWnd [MFC], get_accFocus
- CWnd [MFC], get_accHelp
- CWnd [MFC], get_accHelpTopic
- CWnd [MFC], get_accKeyboardShortcut
- CWnd [MFC], get_accName
- CWnd [MFC], get_accParent
- CWnd [MFC], get_accRole
- CWnd [MFC], get_accSelection
- CWnd [MFC], get_accState
- CWnd [MFC], get_accValue
- CWnd [MFC], GetActiveWindow
- CWnd [MFC], GetAncestor
- CWnd [MFC], GetCapture
- CWnd [MFC], GetCaretPos
- CWnd [MFC], GetCheckedRadioButton
- CWnd [MFC], GetClientRect
- CWnd [MFC], GetClipboardOwner
- CWnd [MFC], GetClipboardViewer
- CWnd [MFC], GetControlUnknown
- CWnd [MFC], GetDC
- CWnd [MFC], GetDCEx
- CWnd [MFC], GetDCRenderTarget
- CWnd [MFC], GetDescendantWindow
- CWnd [MFC], GetDesktopWindow
- CWnd [MFC], GetDlgCtrlID
- CWnd [MFC], GetDlgItem
- CWnd [MFC], GetDlgItemInt
- CWnd [MFC], GetDlgItemText
- CWnd [MFC], GetDSCCursor
- CWnd [MFC], GetDynamicLayout
- CWnd [MFC], GetExStyle
- CWnd [MFC], GetFocus
- CWnd [MFC], GetFont
- CWnd [MFC], GetForegroundWindow
- CWnd [MFC], GetIcon
- CWnd [MFC], GetLastActivePopup
- CWnd [MFC], GetLayeredWindowAttributes
- CWnd [MFC], GetMenu
- CWnd [MFC], GetNextDlgGroupItem
- CWnd [MFC], GetNextDlgTabItem
- CWnd [MFC], GetNextWindow
- CWnd [MFC], GetOleControlSite
- CWnd [MFC], GetOpenClipboardWindow
- CWnd [MFC], GetOwner
- CWnd [MFC], GetParent
- CWnd [MFC], GetParentFrame
- CWnd [MFC], GetParentOwner
- CWnd [MFC], GetProperty
- CWnd [MFC], GetRenderTarget
- CWnd [MFC], GetSafeHwnd
- CWnd [MFC], GetSafeOwner
- CWnd [MFC], GetScrollBarCtrl
- CWnd [MFC], GetScrollBarInfo
- CWnd [MFC], GetScrollInfo
- CWnd [MFC], GetScrollLimit
- CWnd [MFC], GetScrollPos
- CWnd [MFC], GetScrollRange
- CWnd [MFC], GetStyle
- CWnd [MFC], GetSystemMenu
- CWnd [MFC], GetTitleBarInfo
- CWnd [MFC], GetTopLevelFrame
- CWnd [MFC], GetTopLevelOwner
- CWnd [MFC], GetTopLevelParent
- CWnd [MFC], GetTopWindow
- CWnd [MFC], GetUpdateRect
- CWnd [MFC], GetUpdateRgn
- CWnd [MFC], GetWindow
- CWnd [MFC], GetWindowContextHelpId
- CWnd [MFC], GetWindowDC
- CWnd [MFC], GetWindowedChildCount
- CWnd [MFC], GetWindowInfo
- CWnd [MFC], GetWindowlessChildCount
- CWnd [MFC], GetWindowPlacement
- CWnd [MFC], GetWindowRect
- CWnd [MFC], GetWindowRgn
- CWnd [MFC], GetWindowText
- CWnd [MFC], GetWindowTextLength
- CWnd [MFC], HideCaret
- CWnd [MFC], HiliteMenuItem
- CWnd [MFC], HtmlHelp
- CWnd [MFC], Invalidate
- CWnd [MFC], InvalidateRect
- CWnd [MFC], InvalidateRgn
- CWnd [MFC], InvokeHelper
- CWnd [MFC], IsChild
- CWnd [MFC], IsD2DSupportEnabled
- CWnd [MFC], IsDialogMessage
- CWnd [MFC], IsDlgButtonChecked
- CWnd [MFC], IsDynamicLayoutEnabled
- CWnd [MFC], IsIconic
- CWnd [MFC], IsTouchWindow
- CWnd [MFC], IsWindowEnabled
- CWnd [MFC], IsWindowVisible
- CWnd [MFC], IsZoomed
- CWnd [MFC], KillTimer
- CWnd [MFC], LockWindowUpdate
- CWnd [MFC], MapWindowPoints
- CWnd [MFC], MessageBox
- CWnd [MFC], ModifyStyle
- CWnd [MFC], ModifyStyleEx
- CWnd [MFC], MoveWindow
- CWnd [MFC], NotifyWinEvent
- CWnd [MFC], OnAmbientProperty
- CWnd [MFC], OnDrawIconicThumbnailOrLivePreview
- CWnd [MFC], OnHelp
- CWnd [MFC], OnHelpFinder
- CWnd [MFC], OnHelpIndex
- CWnd [MFC], OnHelpUsing
- CWnd [MFC], OnToolHitTest
- CWnd [MFC], OpenClipboard
- CWnd [MFC], PaintWindowlessControls
- CWnd [MFC], PostMessage
- CWnd [MFC], PreCreateWindow
- CWnd [MFC], PreSubclassWindow
- CWnd [MFC], PreTranslateMessage
- CWnd [MFC], Print
- CWnd [MFC], PrintClient
- CWnd [MFC], PrintWindow
- CWnd [MFC], RedrawWindow
- CWnd [MFC], RegisterTouchWindow
- CWnd [MFC], ReleaseDC
- CWnd [MFC], RepositionBars
- CWnd [MFC], RunModalLoop
- CWnd [MFC], ScreenToClient
- CWnd [MFC], ScrollWindow
- CWnd [MFC], ScrollWindowEx
- CWnd [MFC], SendChildNotifyLastMsg
- CWnd [MFC], SendDlgItemMessage
- CWnd [MFC], SendMessage
- CWnd [MFC], SendMessageToDescendants
- CWnd [MFC], SendNotifyMessage
- CWnd [MFC], SetActiveWindow
- CWnd [MFC], SetCapture
- CWnd [MFC], SetCaretPos
- CWnd [MFC], SetClipboardViewer
- CWnd [MFC], SetDlgCtrlID
- CWnd [MFC], SetDlgItemInt
- CWnd [MFC], SetDlgItemText
- CWnd [MFC], SetFocus
- CWnd [MFC], SetFont
- CWnd [MFC], SetForegroundWindow
- CWnd [MFC], SetIcon
- CWnd [MFC], SetLayeredWindowAttributes
- CWnd [MFC], SetMenu
- CWnd [MFC], SetOwner
- CWnd [MFC], SetParent
- CWnd [MFC], SetProperty
- CWnd [MFC], SetRedraw
- CWnd [MFC], SetScrollInfo
- CWnd [MFC], SetScrollPos
- CWnd [MFC], SetScrollRange
- CWnd [MFC], SetTimer
- CWnd [MFC], SetWindowContextHelpId
- CWnd [MFC], SetWindowPlacement
- CWnd [MFC], SetWindowPos
- CWnd [MFC], SetWindowRgn
- CWnd [MFC], SetWindowText
- CWnd [MFC], ShowCaret
- CWnd [MFC], ShowOwnedPopups
- CWnd [MFC], ShowScrollBar
- CWnd [MFC], ShowWindow
- CWnd [MFC], SubclassDlgItem
- CWnd [MFC], SubclassWindow
- CWnd [MFC], UnlockWindowUpdate
- CWnd [MFC], UnsubclassWindow
- CWnd [MFC], UpdateData
- CWnd [MFC], UpdateDialogControls
- CWnd [MFC], UpdateLayeredWindow
- CWnd [MFC], UpdateWindow
- CWnd [MFC], ValidateRect
- CWnd [MFC], ValidateRgn
- CWnd [MFC], WindowFromPoint
- CWnd [MFC], WinHelp
- CWnd [MFC], Default
- CWnd [MFC], DefWindowProc
- CWnd [MFC], DoDataExchange
- CWnd [MFC], GetCurrentMessage
- CWnd [MFC], InitDynamicLayout
- CWnd [MFC], LoadDynamicLayoutResource
- CWnd [MFC], OnActivate
- CWnd [MFC], OnActivateApp
- CWnd [MFC], OnAppCommand
- CWnd [MFC], OnAskCbFormatName
- CWnd [MFC], OnCancelMode
- CWnd [MFC], OnCaptureChanged
- CWnd [MFC], OnChangeCbChain
- CWnd [MFC], OnChangeUIState
- CWnd [MFC], OnChar
- CWnd [MFC], OnCharToItem
- CWnd [MFC], OnChildActivate
- CWnd [MFC], OnChildNotify
- CWnd [MFC], OnClipboardUpdate
- CWnd [MFC], OnClose
- CWnd [MFC], OnColorizationColorChanged
- CWnd [MFC], OnCommand
- CWnd [MFC], OnCompacting
- CWnd [MFC], OnCompareItem
- CWnd [MFC], OnCompositionChanged
- CWnd [MFC], OnContextMenu
- CWnd [MFC], OnCopyData
- CWnd [MFC], OnCreate
- CWnd [MFC], OnCtlColor
- CWnd [MFC], OnDeadChar
- CWnd [MFC], OnDeleteItem
- CWnd [MFC], OnDestroy
- CWnd [MFC], OnDestroyClipboard
- CWnd [MFC], OnDeviceChange
- CWnd [MFC], OnDevModeChange
- CWnd [MFC], OnDrawClipboard
- CWnd [MFC], OnDrawItem
- CWnd [MFC], OnDropFiles
- CWnd [MFC], OnEnable
- CWnd [MFC], OnEndSession
- CWnd [MFC], OnEnterIdle
- CWnd [MFC], OnEnterMenuLoop
- CWnd [MFC], OnEnterSizeMove
- CWnd [MFC], OnEraseBkgnd
- CWnd [MFC], OnExitMenuLoop
- CWnd [MFC], OnExitSizeMove
- CWnd [MFC], OnFontChange
- CWnd [MFC], OnGetDlgCode
- CWnd [MFC], OnGetMinMaxInfo
- CWnd [MFC], OnHelpInfo
- CWnd [MFC], OnHotKey
- CWnd [MFC], OnHScroll
- CWnd [MFC], OnHScrollClipboard
- CWnd [MFC], OnIconEraseBkgnd
- CWnd [MFC], OnInitMenu
- CWnd [MFC], OnInitMenuPopup
- CWnd [MFC], OnInputDeviceChange
- CWnd [MFC], OnInputLangChange
- CWnd [MFC], OnInputLangChangeRequest
- CWnd [MFC], OnKeyDown
- CWnd [MFC], OnKeyUp
- CWnd [MFC], OnKillFocus
- CWnd [MFC], OnLButtonDblClk
- CWnd [MFC], OnLButtonDown
- CWnd [MFC], OnLButtonUp
- CWnd [MFC], OnMButtonDblClk
- CWnd [MFC], OnMButtonDown
- CWnd [MFC], OnMButtonUp
- CWnd [MFC], OnMDIActivate
- CWnd [MFC], OnMeasureItem
- CWnd [MFC], OnMenuChar
- CWnd [MFC], OnMenuDrag
- CWnd [MFC], OnMenuGetObject
- CWnd [MFC], OnMenuRButtonUp
- CWnd [MFC], OnMenuSelect
- CWnd [MFC], OnMouseActivate
- CWnd [MFC], OnMouseHover
- CWnd [MFC], OnMouseHWheel
- CWnd [MFC], OnMouseLeave
- CWnd [MFC], OnMouseMove
- CWnd [MFC], OnMouseWheel
- CWnd [MFC], OnMove
- CWnd [MFC], OnMoving
- CWnd [MFC], OnNcActivate
- CWnd [MFC], OnNcCalcSize
- CWnd [MFC], OnNcCreate
- CWnd [MFC], OnNcDestroy
- CWnd [MFC], OnNcHitTest
- CWnd [MFC], OnNcLButtonDblClk
- CWnd [MFC], OnNcLButtonDown
- CWnd [MFC], OnNcLButtonUp
- CWnd [MFC], OnNcMButtonDblClk
- CWnd [MFC], OnNcMButtonDown
- CWnd [MFC], OnNcMButtonUp
- CWnd [MFC], OnNcMouseHover
- CWnd [MFC], OnNcMouseLeave
- CWnd [MFC], OnNcMouseMove
- CWnd [MFC], OnNcPaint
- CWnd [MFC], OnNcRButtonDblClk
- CWnd [MFC], OnNcRButtonDown
- CWnd [MFC], OnNcRButtonUp
- CWnd [MFC], OnNcRenderingChanged
- CWnd [MFC], OnNcXButtonDblClk
- CWnd [MFC], OnNcXButtonDown
- CWnd [MFC], OnNcXButtonUp
- CWnd [MFC], OnNextMenu
- CWnd [MFC], OnNotify
- CWnd [MFC], OnNotifyFormat
- CWnd [MFC], OnPaint
- CWnd [MFC], OnPaintClipboard
- CWnd [MFC], OnPaletteChanged
- CWnd [MFC], OnPaletteIsChanging
- CWnd [MFC], OnParentNotify
- CWnd [MFC], OnPowerBroadcast
- CWnd [MFC], OnQueryDragIcon
- CWnd [MFC], OnQueryEndSession
- CWnd [MFC], OnQueryNewPalette
- CWnd [MFC], OnQueryOpen
- CWnd [MFC], OnQueryUIState
- CWnd [MFC], OnRawInput
- CWnd [MFC], OnRButtonDblClk
- CWnd [MFC], OnRButtonDown
- CWnd [MFC], OnRButtonUp
- CWnd [MFC], OnRenderAllFormats
- CWnd [MFC], OnRenderFormat
- CWnd [MFC], OnSessionChange
- CWnd [MFC], OnSetCursor
- CWnd [MFC], OnSetFocus
- CWnd [MFC], OnSettingChange
- CWnd [MFC], OnShowWindow
- CWnd [MFC], OnSize
- CWnd [MFC], OnSizeClipboard
- CWnd [MFC], OnSizing
- CWnd [MFC], OnSpoolerStatus
- CWnd [MFC], OnStyleChanged
- CWnd [MFC], OnStyleChanging
- CWnd [MFC], OnSysChar
- CWnd [MFC], OnSysColorChange
- CWnd [MFC], OnSysCommand
- CWnd [MFC], OnSysDeadChar
- CWnd [MFC], OnSysKeyDown
- CWnd [MFC], OnSysKeyUp
- CWnd [MFC], OnTCard
- CWnd [MFC], OnTimeChange
- CWnd [MFC], OnTimer
- CWnd [MFC], OnTouchInput
- CWnd [MFC], OnTouchInputs
- CWnd [MFC], OnUniChar
- CWnd [MFC], OnUnInitMenuPopup
- CWnd [MFC], OnUpdateUIState
- CWnd [MFC], OnUserChanged
- CWnd [MFC], OnVKeyToItem
- CWnd [MFC], OnVScroll
- CWnd [MFC], OnVScrollClipboard
- CWnd [MFC], OnWindowPosChanged
- CWnd [MFC], OnWindowPosChanging
- CWnd [MFC], OnWinIniChange
- CWnd [MFC], OnWndMsg
- CWnd [MFC], OnXButtonDblClk
- CWnd [MFC], OnXButtonDown
- CWnd [MFC], OnXButtonUp
- CWnd [MFC], PostNcDestroy
- CWnd [MFC], ReflectChildNotify
- CWnd [MFC], ReflectLastMsg
- CWnd [MFC], ResizeDynamicLayout
- CWnd [MFC], WindowProc
- CWnd [MFC], m_hWnd
ms.assetid: 49a832ee-bc34-4126-88b3-bc1d9974f6c4
ms.openlocfilehash: 493fe04f34f615d9113196e3db8bc744f420d4a2
ms.sourcegitcommit: 0ab61bc3d2b6cfbd52a16c6ab2b97a8ea1864f12
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/23/2019
ms.locfileid: "62323457"
---
# <a name="cwnd-class"></a>CWnd 类

提供 Microsoft 基础类库中所有窗口类的基本功能。

## <a name="syntax"></a>语法

```
class CWnd : public CCmdTarget
```

## <a name="members"></a>成员

### <a name="public-constructors"></a>公共构造函数

|名称|描述|
|----------|-----------------|
|[CWnd::CWnd](#cwnd)|构造 `CWnd` 对象。|

### <a name="public-methods"></a>公共方法

|名称|描述|
|----------|-----------------|
|[CWnd::accDoDefaultAction](#accdodefaultaction)|由框架调用以执行对象的默认操作。|
|[CWnd::accHitTest](#acchittest)|由框架调用以检索屏幕上给定点处的子元素或子对象。|
|[CWnd::accLocation](#acclocation)|由框架调用以检索指定对象的当前屏幕位置。|
|[CWnd::accNavigate](#accnavigate)|由框架调用以移到容器内的另一个用户界面元素，如果可能还检索对象。|
|[CWnd::accSelect](#accselect)|由框架调用以修改选定内容或移动指定对象的键盘焦点。|
|[CWnd::AnimateWindow](#animatewindow)|对关联窗口对象进行动画处理。|
|[CWnd::ArrangeIconicWindows](#arrangeiconicwindows)|排列所有最小化（图标）子窗口。|
|[CWnd::Attach](#attach)|将 Windows 句柄附加到 `CWnd` 对象。|
|[CWnd::BeginModalState](#beginmodalstate)|调用此成员函数以使框架窗口具有模式。|
|[CWnd::BeginPaint](#beginpaint)|为进行绘制准备好 `CWnd`。|
|[CWnd::BindDefaultProperty](#binddefaultproperty)|将调用对象的默认简单绑定属性（按照在类型库中进行的标记）绑定到与数据源控件关联的光标。|
|[CWnd::BindProperty](#bindproperty)|将数据绑定控件上的光标绑定属性绑定到数据源控件，并向 MFC 绑定管理器注册该关系。|
|[CWnd::BringWindowToTop](#bringwindowtotop)|将 `CWnd` 置于一堆重叠窗口的顶部。|
|[CWnd::CalcWindowRect](#calcwindowrect)|调用以从客户端矩形计算窗口矩形。|
|[CWnd::CancelToolTips](#canceltooltips)|禁用工具提示控件。|
|[CWnd::CenterWindow](#centerwindow)|使窗口相对于其父级居中。|
|[CWnd::ChangeClipboardChain](#changeclipboardchain)|从剪贴板查看器链中移除 `CWnd`。|
|[CWnd::CheckDlgButton](#checkdlgbutton)|将复选标记置于按钮控件旁，或从按钮控件移除复选标记。|
|[CWnd::CheckRadioButton](#checkradiobutton)|选中指定单选按钮，并从指定按钮组中的所有其他单选按钮移除复选标记。|
|[CWnd::ChildWindowFromPoint](#childwindowfrompoint)|确定哪些（如果有）子窗口包含指定点。|
|[CWnd::ClientToScreen](#clienttoscreen)|将显示中的给定点或矩形的客户端坐标转换为屏幕坐标。|
|[CWnd::CloseWindow](#closewindow)|最小化窗口。|
|[CWnd::ContinueModal](#continuemodal)|继续窗口的模式状态。|
|[CWnd::Create](#create)|创建并初始化与 `CWnd` 对象关联的子窗口。|
|[CWnd::CreateAccessibleProxy](#createaccessibleproxy)|为指定对象创建 Active Accessibility 代理服务器。|
|[CWnd::CreateCaret](#createcaret)|为系统插入符号创建新形状并获取插入符号的所有权。|
|[CWnd::CreateControl](#createcontrol)|创建在 MFC 程序中由 `CWnd` 对象表示的 ActiveX 控件。|
|[CWnd::CreateEx](#createex)|创建 Windows 重叠、弹出或子窗口，并将它附加到 `CWnd` 对象。|
|[CWnd::CreateGrayCaret](#creategraycaret)|为系统插入符号创建灰色块并获取插入符号的所有权。|
|[CWnd::CreateSolidCaret](#createsolidcaret)|为系统插入符号创建实心块并获取插入符号的所有权。|
|[CWnd::DeleteTempMap](#deletetempmap)|由 `CWinApp` 空闲时间处理程序自动调用，删除任何由 `FromHandle` 创建的临时 `CWnd` 对象。|
|[CWnd::DestroyWindow](#destroywindow)|销毁附加的 Windows 窗口。|
|[CWnd::Detach](#detach)|从 `CWnd` 对象分离 Windows 句柄并返回该句柄。|
|[CWnd::DlgDirList](#dlgdirlist)|使用文件或目录列表填充列表框。|
|[CWnd::DlgDirListComboBox](#dlgdirlistcombobox)|使用文件或目录列表填充组合框的列表框。|
|[CWnd::DlgDirSelect](#dlgdirselect)|从列表框检索当前所选内容。|
|[CWnd::DlgDirSelectComboBox](#dlgdirselectcombobox)|从组合框的列表框检索当前所选内容。|
|[CWnd::DragAcceptFiles](#dragacceptfiles)|指示窗口将接受拖动的文件。|
|[CWnd::DragDetect](#dragdetect)|捕获鼠标并跟踪其移动，直到用户释放左键、按 ESC 键或将鼠标移动到围绕指定点的拖动矩形外部。|
|[CWnd::DrawAnimatedRects](#drawanimatedrects)|绘制透明框架矩形并对它进行动画处理，以指示图标的打开或是窗口的最小化或最大化。|
|[CWnd::DrawCaption](#drawcaption)|绘制标题。|
|[CWnd::DrawMenuBar](#drawmenubar)|重绘菜单栏。|
|[CWnd::EnableActiveAccessibility](#enableactiveaccessibility)|启用用户定义的 `Active Accessibility` 函数。|
|[CWnd::EnableDynamicLayout](#enabledynamiclayout)|使子窗口的位置和大小可以在用户调整窗口大小时动态调整。|
|[CWnd::EnableD2DSupport](#enabled2dsupport)|启用或禁用窗口 `D2D` 支持。 在初始化主窗口之前调用此方法。|
|[CWnd::EnableScrollBar](#enablescrollbar)|启用或禁用滚动条的一个或两个箭头。|
|[CWnd::EnableScrollBarCtrl](#enablescrollbarctrl)|启用或禁用同级滚动条控件。|
|[CWnd::EnableToolTips](#enabletooltips)|启用工具提示控件。|
|[CWnd::EnableTrackingToolTips](#enabletrackingtooltips)|在跟踪模式下启用工具提示控件。|
|[CWnd::EnableWindow](#enablewindow)|启用或禁用鼠标和键盘输入。|
|[CWnd::EndModalLoop](#endmodalloop)|启用窗口的模式状态。|
|[CWnd::EndModalState](#endmodalstate)|调用此成员函数以将框架窗口从有模式更改为无模式。|
|[CWnd::EndPaint](#endpaint)|标记绘制的末尾。|
|[CWnd::ExecuteDlgInit](#executedlginit)|启动对话框资源。|
|[CWnd::FilterToolTipMessage](#filtertooltipmessage)|检索与对话框中的控件关联的标题或文本。|
|[CWnd::FindWindow](#findwindow)|返回由其窗口名和窗口类标识的窗口的句柄。|
|[CWnd::FindWindowEx](#findwindowex)|返回由其窗口名和窗口类标识的窗口的句柄。|
|[CWnd::FlashWindow](#flashwindow)|使窗口闪烁一次。|
|[CWnd::FlashWindowEx](#flashwindowex)|使具有其他功能的窗口闪烁。|
|[CWnd::FromHandle](#fromhandle)|在提供了窗口的句柄时返回指向 `CWnd` 对象的指针。 如果 `CWnd` 对象未附加到该句柄，则会创建并附加一个临时 `CWnd` 对象。|
|[CWnd::FromHandlePermanent](#fromhandlepermanent)|在提供了窗口的句柄时返回指向 `CWnd` 对象的指针。 如果 `CWnd` 对象未附加到该句柄，则会创建并附加一个临时 `CWnd` 对象。|
|[CWnd::get_accChild](#get_accchild)|由框架调用以检索指定子级的 `IDispatch` 接口地址。|
|[CWnd::get_accChildCount](#get_accchildcount)|由框架调用调用以检索属于该对象的子级的个数。|
|[CWnd::get_accDefaultAction](#get_accdefaultaction)|由框架调用以检索描述对象默认操作的字符串。|
|[CWnd::get_accDescription](#get_accdescription)|由框架调用以检索描述指定对象的可视外观的字符串。|
|[CWnd::get_accFocus](#get_accfocus)|由框架调用以检索具有键盘焦点的对象。|
|[CWnd::get_accHelp](#get_acchelp)|由框架调用以检索对象的**帮助**属性字符串。|
|[CWnd::get_accHelpTopic](#get_acchelptopic)|由框架调用以检索与指定对象关联的 `WinHelp` 文件的完整路径以及该文件内相应主题的标识符。|
|[CWnd::get_accKeyboardShortcut](#get_acckeyboardshortcut)|由框架调用以检索指定对象的快捷键或访问键。|
|[CWnd::get_accName](#get_accname)|由框架调用以检索指定对象的名称。|
|[CWnd::get_accParent](#get_accparent)|由框架调用以检索对象父级的 `IDispatch` 接口。|
|[CWnd::get_accRole](#get_accrole)|由框架调用以检索描述指定对象的角色的信息。|
|[CWnd::get_accSelection](#get_accselection)|由框架调用以检索该对象的选定子级。|
|[CWnd::get_accState](#get_accstate)|由框架调用以检索指定对象的当前状态。|
|[CWnd::get_accValue](#get_accvalue)|由框架调用以检索指定对象的值。|
|[CWnd::GetActiveWindow](#getactivewindow)|检索活动窗口。|
|[CWnd::GetAncestor](#getancestor)|检索指定窗口的上级先窗口对象。|
|[CWnd::GetCapture](#getcapture)|检索具有鼠标捕获的 `CWnd`。|
|[CWnd::GetCaretPos](#getcaretpos)|检索插入符号的当前位置的客户端坐标。|
|[CWnd::GetCheckedRadioButton](#getcheckedradiobutton)|返回按钮中当前选中的单选按钮的 ID。|
|[CWnd::GetClientRect](#getclientrect)|获取 `CWnd` 工作区的尺寸。|
|[CWnd::GetClipboardOwner](#getclipboardowner)|检索指向剪贴板当前所有者的指针。|
|[CWnd::GetClipboardViewer](#getclipboardviewer)|检索指向剪贴板查看器链中第一个窗口的指针。|
|[CWnd::GetControlUnknown](#getcontrolunknown)|检索指向未知 ActiveX 控件的指针。|
|[CWnd::GetDC](#getdc)|检索工作区的显示上下文。|
|[CWnd::GetDCEx](#getdcex)|检索工作区的显示上下文，并在绘制启用剪辑。|
|[CWnd::GetDCRenderTarget](#getdcrendertarget)|检索 `CWnd` 窗口的设备上下文 (DC) 呈现目标。|
|[CWnd::GetDescendantWindow](#getdescendantwindow)|搜索所有子代窗口，并返回具有指定 ID 的窗口。|
|[CWnd::GetDesktopWindow](#getdesktopwindow)|检索 Windows 桌面窗口。|
|[CWnd::GetDlgCtrlID](#getdlgctrlid)|如果 `CWnd` 是子窗口，则调用此函数会返回其 ID 值。|
|[CWnd::GetDlgItem](#getdlgitem)|从指定对话框中检索具有指定 ID 的控件。|
|[CWnd::GetDlgItemInt](#getdlgitemint)|将给定对话框中控件的文本转换为整数值。|
|[CWnd::GetDlgItemText](#getdlgitemtext)|检索与控件关联的标题或文本。|
|[CWnd::GetDSCCursor](#getdsccursor)|检索指向由数据源控件的 DataSource、UserName、Password 和 SQL 属性定义的基础光标的指针。|
|[CWnd::GetDynamicLayout](#getdynamiclayout)|检索指向动态布局管理器对象的指针。|
|[CWnd::GetExStyle](#getexstyle)|返回窗口的扩展样式。|
|[CWnd::GetFocus](#getfocus)|检索当前具有输入焦点的 `CWnd`。|
|[CWnd::GetFont](#getfont)|检索当前字体。|
|[CWnd::GetForegroundWindow](#getforegroundwindow)|返回指向前台窗口（用户当前正在使用的顶级窗口）的指针。|
|[CWnd::GetIcon](#geticon)|检索图标的句柄。|
|[CWnd::GetLastActivePopup](#getlastactivepopup)|确定最近处于活动状态的由 `CWnd` 拥有的弹出窗口。|
|[CWnd::GetLayeredWindowAttributes](#getlayeredwindowattributes)|检索分层窗口的不透明度和透明度颜色键。|
|[CWnd::GetMenu](#getmenu)|检索指向指定菜单的指针。|
|[CWnd::GetNextDlgGroupItem](#getnextdlggroupitem)|在控件组中搜索的下一个（或上一个）控件。|
|[CWnd::GetNextDlgTabItem](#getnextdlgtabitem)|检索与第一个控件[WS_TABSTOP](styles-used-by-mfc.md#window-styles)之后 （或之前） 指定的控件的样式。|
|[CWnd::GetNextWindow](#getnextwindow)|返回窗口管理器列表中的下一个（或上一个）窗口。|
|[CWnd::GetOleControlSite](#getolecontrolsite)|检索指定 ActiveX 控件的自定义站点。|
|[CWnd::GetOpenClipboardWindow](#getopenclipboardwindow)|检索指向当前打开剪贴板的窗口的指针。|
|[CWnd::GetOwner](#getowner)|检索指向 `CWnd` 所有者的指针。|
|[CWnd::GetParent](#getparent)|检索 `CWnd` 的父窗口（如果有）。|
|[CWnd::GetParentFrame](#getparentframe)|检索 `CWnd` 对象的父框架窗口。|
|[CWnd::GetParentOwner](#getparentowner)|返回指向子窗口的父窗口的指针。|
|[CWnd::GetProperty](#getproperty)|检索 ActiveX 控件属性。|
|[CWnd::GetRenderTarget](#getrendertarget)|获取与此窗口相关联的呈现目标。|
|[CWnd::GetSafeHwnd](#getsafehwnd)|返回`m_hWnd`，则为 null**这**指针为 NULL。|
|[CWnd::GetSafeOwner](#getsafeowner)|检索给定窗口的安全所有者。|
|[CWnd::GetScrollBarCtrl](#getscrollbarctrl)|返回同级滚动条控件。|
|[CWnd::GetScrollBarInfo](#getscrollbarinfo)|检索有关指定滚动条的信息。|
|[CWnd::GetScrollInfo](#getscrollinfo)|检索 `SCROLLINFO` 结构维护的有关滚动条的信息。|
|[CWnd::GetScrollLimit](#getscrolllimit)|检索滚动条的限制。|
|[CWnd::GetScrollPos](#getscrollpos)|检索滚动框的当前位置。|
|[CWnd::GetScrollRange](#getscrollrange)|复制给定滚动条的当前最小和最大滚动条位置。|
|[CWnd::GetStyle](#getstyle)|返回当前窗口样式。|
|[CWnd::GetSystemMenu](#getsystemmenu)|允许应用程序访问控件菜单以进行复制和修改。|
|[CWnd::GetTitleBarInfo](#gettitlebarinfo)|检索有关指定标题栏的信息。|
|[CWnd::GetTopLevelFrame](#gettoplevelframe)|检索窗口的顶级框架窗口。|
|[CWnd::GetTopLevelOwner](#gettoplevelowner)|检索顶级窗口。|
|[CWnd::GetTopLevelParent](#gettoplevelparent)|检索窗口的顶级父级。|
|[CWnd::GetTopWindow](#gettopwindow)|返回属于 `CWnd` 的第一个子窗口。|
|[CWnd::GetUpdateRect](#getupdaterect)|检索完全包围 `CWnd` 更新区域的最小矩形的坐标。|
|[CWnd::GetUpdateRgn](#getupdatergn)|检索 `CWnd` 更新区域。|
|[CWnd::GetWindow](#getwindow)|返回与此窗口具有指定关系的窗口。|
|[CWnd::GetWindowContextHelpId](#getwindowcontexthelpid)|检索帮助上下文标识符。|
|[CWnd::GetWindowDC](#getwindowdc)|检索整个窗口的显示上下文，包括标题栏、菜单和滚动条。|
|[CWnd::GetWindowedChildCount](#getwindowedchildcount)|返回关联子窗口的数量。|
|[CWnd::GetWindowInfo](#getwindowinfo)|返回有关窗口的信息。|
|[CWnd::GetWindowlessChildCount](#getwindowlesschildcount)|返回关联无窗口子窗口的数量。|
|[CWnd::GetWindowPlacement](#getwindowplacement)|检索窗口的显示状态以及正常（已还原）、最小化和最大化位置。|
|[CWnd::GetWindowRect](#getwindowrect)|获取 `CWnd` 的屏幕坐标。|
|[CWnd::GetWindowRgn](#getwindowrgn)|检索窗口的窗口区域的副本。|
|[CWnd::GetWindowText](#getwindowtext)|返回窗口文本或标题（如果有）。|
|[CWnd::GetWindowTextLength](#getwindowtextlength)|返回窗口文本或标题的长度。|
|[CWnd::HideCaret](#hidecaret)|通过从显示屏幕中移除来隐藏插入符号。|
|[CWnd::HiliteMenuItem](#hilitemenuitem)|突出显示顶级（菜单栏）菜单项或从顶级（菜单栏）菜单项移除突出显示。|
|[CWnd::HtmlHelp](#htmlhelp)|调用以启动 HTMLHelp 应用程序。|
|[CWnd::Invalidate](#invalidate)|使整个工作区无效。|
|[CWnd::InvalidateRect](#invalidaterect)|通过将给定矩形添加到当前更新区域，使该矩形内的工作区无效。|
|[CWnd::InvalidateRgn](#invalidatergn)|通过将给定区域添加到当前更新区域，使该区域内的工作区无效。|
|[CWnd::InvokeHelper](#invokehelper)|调用 ActiveX 控件方法或属性。|
|[CWnd::IsChild](#ischild)|指示 `CWnd` 是否为指定窗口的子窗口或其他直接子代。|
|[CWnd::IsD2DSupportEnabled](#isd2dsupportenabled)|确定是否启用 D2D 支持。|
|[CWnd::IsDialogMessage](#isdialogmessage)|确定给定消息是否用于无模式对话框，如果是，则处理它。|
|[CWnd::IsDlgButtonChecked](#isdlgbuttonchecked)|确定是否选中按钮控件。|
|[CWnd::IsDynamicLayoutEnabled](#isdynamiclayoutenabled)|确定是否在此窗口上启用动态布局。 如果启用动态布局，则子窗口的位置和大小可以在用户调整父窗口大小时进行更改。|
|[CWnd::IsIconic](#isiconic)|确定 `CWnd` 是否进行最小化（图标化）。|
|[CWnd::IsTouchWindow](#istouchwindow)|指定 `CWnd` 是否具有触摸支持。|
|[CWnd::IsWindowEnabled](#iswindowenabled)|确定是否针对鼠标和键盘输入启用窗口。|
|[CWnd::IsWindowVisible](#iswindowvisible)|确定窗口是否可见。|
|[CWnd::IsZoomed](#iszoomed)|确定 `CWnd` 是否进行最大化。|
|[CWnd::KillTimer](#killtimer)|终止系统计时器。|
|[CWnd::LockWindowUpdate](#lockwindowupdate)|在给定窗口中禁用或重新启用绘制。|
|[CWnd::MapWindowPoints](#mapwindowpoints)|将一组点从 `CWnd` 的坐标空间转换（映射）到另一个窗口的坐标空间。|
|[CWnd::MessageBox](#messagebox)|创建并显示包含应用程序提供的消息和标题的窗口。|
|[CWnd::ModifyStyle](#modifystyle)|修改当前窗口样式。|
|[CWnd::ModifyStyleEx](#modifystyleex)|修改窗口的扩展样式。|
|[CWnd::MoveWindow](#movewindow)|更改 `CWnd` 的位置和尺寸。|
|[CWnd::NotifyWinEvent](#notifywinevent)|向系统发出信号，指出发生了预定义事件。|
|[CWnd::OnAmbientProperty](#onambientproperty)|实现环境属性值。|
|[CWnd::OnDrawIconicThumbnailOrLivePreview](#ondrawiconicthumbnailorlivepreview)|由框架在需要获取要在 Windows 7 选项卡缩略图上或客户端上（进行应用程序速览）显示的位图时进行调用。|
|[CWnd::OnHelp](#onhelp)|处理应用程序中的 F1 帮助（使用当前上下文）。|
|[CWnd::OnHelpFinder](#onhelpfinder)|处理 ID_HELP_FINDER 和 ID_DEFAULT_HELP 命令。|
|[CWnd::OnHelpIndex](#onhelpindex)|处理 ID_HELP_INDEX 命令并提供默认帮助主题。|
|[CWnd::OnHelpUsing](#onhelpusing)|处理 ID_HELP_USING 命令。|
|[CWnd::OnToolHitTest](#ontoolhittest)|确定点是否在指定工具的边框内并检索有关此工具的信息。|
|[CWnd::OpenClipboard](#openclipboard)|打开剪贴板。 其他应用程序将不能修改剪贴板，直到 Windows [CloseClipboard](/windows/desktop/api/winuser/nf-winuser-closeclipboard)调用函数。|
|[CWnd::PaintWindowlessControls](#paintwindowlesscontrols)|在控件容器上绘制无窗口控件。|
|[CWnd::PostMessage](#postmessage)|将消息置于应用程序队列中，然后返回而不等待窗口处理该消息。|
|[CWnd::PreCreateWindow](#precreatewindow)|在创建附加到此 `CWnd` 对象的 Windows 窗口之前调用。|
|[CWnd::PreSubclassWindow](#presubclasswindow)|允许前允许发生其他必要的子类[SubclassWindow](#subclasswindow)调用。|
|[CWnd::PreTranslateMessage](#pretranslatemessage)|由 `CWinApp` 用于在窗口消息调度到 `TranslateMessage` 和 `DispatchMessage` Windows 函数之前筛选它们。|
|[CWnd::Print](#print)|在指定设备上下文中绘制当前窗口。|
|[CWnd::PrintClient](#printclient)|在指定设备上下文（通常是打印机设备上下文）中绘制任何窗口。|
|[CWnd::PrintWindow](#printwindow)|将可视窗口复制到指定设备上下文（通常是打印机设备上下文）。|
|[CWnd::RedrawWindow](#redrawwindow)|更新工作区中的指定矩形或区域。|
|[CWnd::RegisterTouchWindow](#registertouchwindow)|注册/注销窗口 Windows 触摸支持。|
|[CWnd::ReleaseDC](#releasedc)|释放客户端和窗口设备上下文，从而使它们可供其他应用程序使用。|
|[CWnd::RepositionBars](#repositionbars)|在工作区中重新定位控件条。|
|[CWnd::RunModalLoop](#runmodalloop)|为处于模式状态的窗口检索、转换或调度消息。|
|[CWnd::ScreenToClient](#screentoclient)|将显示中的给定点或矩形的屏幕坐标转换为客户端坐标。|
|[CWnd::ScrollWindow](#scrollwindow)|滚动工作区的内容。|
|[CWnd::ScrollWindowEx](#scrollwindowex)|滚动工作区的内容。 类似于 `ScrollWindow`，不过具有附加功能。|
|[CWnd::SendChildNotifyLastMsg](#sendchildnotifylastmsg)|从父窗口向子窗口提供通知消息，以便子窗口可以处理任务。|
|[CWnd::SendDlgItemMessage](#senddlgitemmessage)|将消息发送到指定控件。|
|[CWnd::SendMessage](#sendmessage)|将消息发送到 `CWnd` 对象并且不返回，直到它处理了消息。|
|[CWnd::SendMessageToDescendants](#sendmessagetodescendants)|将消息发送到窗口的所有子代窗口。|
|[CWnd::SendNotifyMessage](#sendnotifymessage)|将指定消息发送到窗口并尽快返回，具体取决于调用线程是否创建了窗口。|
|[CWnd::SetActiveWindow](#setactivewindow)|激活窗口。|
|[CWnd::SetCapture](#setcapture)|使所有后续鼠标输入都发送到 `CWnd`。|
|[CWnd::SetCaretPos](#setcaretpos)|将插入符号移动到指定位置。|
|[CWnd::SetClipboardViewer](#setclipboardviewer)|将 `CWnd` 添加到每当剪贴板内容发生更改时便会收到通知的窗口的链。|
|[CWnd::SetDlgCtrlID](#setdlgctrlid)|为窗口（可以是任何子窗口，而不仅是对话框中的控件）设置窗口或控件 ID。|
|[CWnd::SetDlgItemInt](#setdlgitemint)|将控件的文本设置为表示整数值的字符串。|
|[CWnd::SetDlgItemText](#setdlgitemtext)|在指定对话框中设置控件的标题或文本。|
|[CWnd::SetFocus](#setfocus)|声明输入焦点。|
|[CWnd::SetFont](#setfont)|设置当前字体。|
|[CWnd::SetForegroundWindow](#setforegroundwindow)|将创建窗口的线程置于前台，并激活窗口。|
|[CWnd::SetIcon](#seticon)|设置特定图标的句柄。|
|[CWnd::SetLayeredWindowAttributes](#setlayeredwindowattributes)|设置分层窗口的不透明度和透明度颜色键。|
|[CWnd::SetMenu](#setmenu)|将菜单设置为指定菜单。|
|[CWnd::SetOwner](#setowner)|更改 `CWnd` 的所有者。|
|[CWnd::SetParent](#setparent)|更改父窗口。|
|[CWnd::SetProperty](#setproperty)|设置 ActiveX 控件属性。|
|[CWnd::SetRedraw](#setredraw)|允许重绘 `CWnd` 中的更改，或阻止重绘更改。|
|[CWnd::SetScrollInfo](#setscrollinfo)|设置有关滚动条的信息。|
|[CWnd::SetScrollPos](#setscrollpos)|设置滚动框的当前位置，并且（如果指定）重绘滚动条以反映新位置。|
|[CWnd::SetScrollRange](#setscrollrange)|设置给定滚动条的最小和最大位置值。|
|[CWnd::SetTimer](#settimer)|安装系统计时器发送[WM_TIMER](#ontimer)消息时触发。|
|[CWnd::SetWindowContextHelpId](#setwindowcontexthelpid)|设置帮助上下文标识符。|
|[CWnd::SetWindowPlacement](#setwindowplacement)|设置窗口的显示状态以及正常（已还原）、最小化和最大化位置。|
|[CWnd::SetWindowPos](#setwindowpos)|更改子窗口、弹出窗口和顶级窗口的大小、位置和的顺序。|
|[CWnd::SetWindowRgn](#setwindowrgn)|设置窗口的区域。|
|[CWnd::SetWindowText](#setwindowtext)|将窗口文本或标题（如果有）设置为指定文本。|
|[CWnd::ShowCaret](#showcaret)|在显示上插入符号的当前位置处显示插入符号。 显示之后，插入符号开始自动闪烁。|
|[CWnd::ShowOwnedPopups](#showownedpopups)|显示或隐藏窗口所拥有的所有弹出窗口。|
|[CWnd::ShowScrollBar](#showscrollbar)|显示或隐藏滚动条。|
|[CWnd::ShowWindow](#showwindow)|显示或隐藏窗口。|
|[CWnd::SubclassDlgItem](#subclassdlgitem)|将 Windows 控件附加到 `CWnd` 对象，并使它通过 `CWnd` 的消息映射来路由消息。|
|[CWnd::SubclassWindow](#subclasswindow)|将窗口附加到 `CWnd` 对象，并使它通过 `CWnd` 的消息映射来路由消息。|
|[CWnd::UnlockWindowUpdate](#unlockwindowupdate)|解锁使用 `CWnd::LockWindowUpdate` 锁定的窗口。|
|[CWnd::UnsubclassWindow](#unsubclasswindow)|分离从窗口`CWnd`对象|
|[CWnd::UpdateData](#updatedata)|从对话框初始化或检索数据。|
|[CWnd::UpdateDialogControls](#updatedialogcontrols)|调用以更新对话框按钮和其他控件的状态。|
|[CWnd::UpdateLayeredWindow](#updatelayeredwindow)|更新分层窗口的位置、大小、形状、内容和透明度。|
|[CWnd::UpdateWindow](#updatewindow)|更新工作区。|
|[CWnd::ValidateRect](#validaterect)|通过从当前更新区域移除给定矩形，来验证该矩形内的工作区。|
|[CWnd::ValidateRgn](#validatergn)|通过从当前更新区域移除给定区域，来验证该区域内的工作区。|
|[CWnd::WindowFromPoint](#windowfrompoint)|标识包含给定点的窗口。|
|[CWnd::WinHelp](#winhelp)|调用以启动 WinHelp 应用程序。|

### <a name="protected-methods"></a>受保护的方法

|名称|描述|
|----------|-----------------|
|[CWnd::Default](#default)|调用默认窗口过程，该过程为应用程序不处理的任何窗口消息提供默认处理。|
|[CWnd::DefWindowProc](#defwindowproc)|调用默认窗口过程，该过程为应用程序不处理的任何窗口消息提供默认处理。|
|[CWnd::DoDataExchange](#dodataexchange)|用于对话框数据交换和验证。 由 `UpdateData` 调用。|
|[CWnd::GetCurrentMessage](#getcurrentmessage)|返回指向此窗口当前正在处理的消息的指针。 时，应只调用`On`*消息*消息处理程序成员函数。|
|[CWnd::InitDynamicLayout](#initdynamiclayout)|由框架调用以初始化窗口的动态布局。|
|[CWnd::LoadDynamicLayoutResource](#loaddynamiclayoutresource)|从资源文件加载动态布局信息。|
|[CWnd::OnActivate](#onactivate)|当正在激活或停用 `CWnd` 时调用。|
|[CWnd::OnActivateApp](#onactivateapp)|要激活或停用应用程序时调用。|
|[CWnd::OnAppCommand](#onappcommand)|当用户生成应用程序命令事件时调用。|
|[CWnd::OnAskCbFormatName](#onaskcbformatname)|由剪贴板查看器应用程序在剪贴板所有者显示剪贴板内容时调用。|
|[CWnd::OnCancelMode](#oncancelmode)|调用以允许 `CWnd` 取消任何内部模式（如鼠标捕获）。|
|[CWnd::OnCaptureChanged](#oncapturechanged)|将消息发送到要失去鼠标捕获的窗口。|
|[CWnd::OnChangeCbChain](#onchangecbchain)|通知正在从链中移除指定窗口。|
|[CWnd::OnChangeUIState](#onchangeuistate)|在应更改用户界面 (UI) 状态时调用。|
|[CWnd::OnChar](#onchar)|当击键转换为非系统字符时调用。|
|[CWnd::OnCharToItem](#onchartoitem)|调用使用的子列表框[LBS_WANTKEYBOARDINPUT](../../mfc/reference/styles-used-by-mfc.md#list-box-styles)样式以响应[WM_CHAR](#onchar)消息。|
|[CWnd::OnChildActivate](#onchildactivate)|每当 `CWnd` 大小或位置更改或 `CWnd` 激活时，针对多文档界面 (MDI) 子窗口进行调用。|
|[CWnd::OnChildNotify](#onchildnotify)|由父窗口调用以使通知控件有机会响应控件通知。|
|[CWnd::OnClipboardUpdate](#onclipboardupdate)|在剪贴板内容已更改时调用。|
|[CWnd::OnClose](#onclose)|作为指示 `CWnd` 应关闭的信号进行调用。|
|[CWnd::OnColorizationColorChanged](#oncolorizationcolorchanged)|在非工作区的呈现策略已更改时调用。|
|[CWnd::OnCommand](#oncommand)|当用户选择命令时调用。|
|[CWnd::OnCompacting](#oncompacting)|当 Windows 检测到系统内存不足时调用。|
|[CWnd::OnCompareItem](#oncompareitem)|调用以确定新项在子所有者描述组合框或列表框中的相对位置。|
|[CWnd::OnCompositionChanged](#oncompositionchanged)|在桌面窗口管理器 (DWM) 组合已启用或已禁用时针对所有顶级窗口进行调用。|
|[CWnd::OnContextMenu](#oncontextmenu)|当用户窗口中单击鼠标右键时调用。|
|[CWnd::OnCopyData](#oncopydata)|将数据从一个应用程序复制到另一个应用程序。|
|[CWnd::OnCreate](#oncreate)|在窗口创建过程中调用。|
|[CWnd::OnCtlColor](#onctlcolor)|如果 `CWnd` 在要绘制控件时是控件的父级，则进行调用。|
|[CWnd::OnDeadChar](#ondeadchar)|当击键转换为非系统语音符号字符（如重音字符）时调用。|
|[CWnd::OnDeleteItem](#ondeleteitem)|当销毁所有者描述子列表框或组合框时，或是当从控件中移除项时调用。|
|[CWnd::OnDestroy](#ondestroy)|当销毁 `CWnd` 时调用。|
|[CWnd::OnDestroyClipboard](#ondestroyclipboard)|当通过调用 Windows 清空剪贴板时调用[EmptyClipboard](/windows/desktop/api/winuser/nf-winuser-emptyclipboard)函数。|
|[CWnd::OnDeviceChange](#ondevicechange)|向应用程序或设备驱动程序通知设备或计算机的硬件配置已更改。|
|[CWnd::OnDevModeChange](#ondevmodechange)|当用户更改设备模式设置时针对所有顶级窗口进行调用。|
|[CWnd::OnDrawClipboard](#ondrawclipboard)|当剪贴板内容已更改时调用。|
|[CWnd::OnDrawItem](#ondrawitem)|当需要绘制所有者描述子按钮控件、组合框控件、列表框控件或菜单的可视方面时调用。|
|[CWnd::OnDropFiles](#ondropfiles)|当用户在已将自己注册为拖放文件接收者的窗口上方释放鼠标左键时调用。|
|[CWnd::OnEnable](#onenable)|当启用或禁用 `CWnd` 时调用。|
|[CWnd::OnEndSession](#onendsession)|当会话结束时调用。|
|[CWnd::OnEnterIdle](#onenteridle)|调用以向应用程序的主窗口过程通知模式对话框或菜单正在进入空闲状态。|
|[CWnd::OnEnterMenuLoop](#onentermenuloop)|当进入了菜单模式循环时调用。|
|[CWnd::OnEnterSizeMove](#onentersizemove)|在受影响的窗口进入移动或大小调整模式循环之后调用。|
|[CWnd::OnEraseBkgnd](#onerasebkgnd)|当窗口背景需要擦除时调用。|
|[CWnd::OnExitMenuLoop](#onexitmenuloop)|当退出了菜单模式循环时调用。|
|[CWnd::OnExitSizeMove](#onexitsizemove)|在受影响的窗口退出移动或大小调整模式循环之后调用。|
|[CWnd::OnFontChange](#onfontchange)|当字体资源池更改时调用。|
|[CWnd::OnGetDlgCode](#ongetdlgcode)|针对控件进行调用，以便控件可以自己处理箭头键和 TAB 键输入。|
|[CWnd::OnGetMinMaxInfo](#ongetminmaxinfo)|每当 Windows 需要知道最大化位置或尺寸或是最小或最大跟踪大小时调用。|
|[CWnd::OnHelpInfo](#onhelpinfo)|当用户按 F1 键时，由框架调用。|
|[CWnd::OnHotKey](#onhotkey)|当用户按系统范围热键时调用。|
|[CWnd::OnHScroll](#onhscroll)|当用户单击 `CWnd` 的水平滚动条时调用。|
|[CWnd::OnHScrollClipboard](#onhscrollclipboard)|当剪贴板所有者应滚动剪贴板图像、使相应部分失效以及更新滚动条值时调用。|
|[CWnd::OnIconEraseBkgnd](#oniconerasebkgnd)|当 `CWnd` 已最小化（图标化）并且必须在绘制图标之前填充图标背景时调用。|
|[CWnd::OnInitMenu](#oninitmenu)|当菜单要成为活动状态时调用。|
|[CWnd::OnInitMenuPopup](#oninitmenupopup)|当弹出菜单要成为活动状态时调用。|
|[CWnd::OnInputDeviceChange](#oninputdevicechange)|当在系统中添加或移除 I/O 设备时调用。|
|[CWnd::OnInputLangChange](#oninputlangchange)|在应用程序的输入语言已更改之后调用。|
|[CWnd::OnInputLangChangeRequest](#oninputlangchangerequest)|当用户选择新输入语言时调用。|
|[CWnd::OnKeyDown](#onkeydown)|当按下非系统键时调用。|
|[CWnd::OnKeyUp](#onkeyup)|当释放非系统键时调用。|
|[CWnd::OnKillFocus](#onkillfocus)|恰好在 `CWnd` 失去输入焦点之前调用。|
|[CWnd::OnLButtonDblClk](#onlbuttondblclk)|当用户双击鼠标左键时调用。|
|[CWnd::OnLButtonDown](#onlbuttondown)|当用户按下鼠标左键时调用。|
|[CWnd::OnLButtonUp](#onlbuttonup)|当用户释放鼠标左键时调用。|
|[CWnd::OnMButtonDblClk](#onmbuttondblclk)|当用户双击鼠标中键时调用。|
|[CWnd::OnMButtonDown](#onmbuttondown)|当用户按下鼠标中键时调用。|
|[CWnd::OnMButtonUp](#onmbuttonup)|当用户释放鼠标中键时调用。|
|[CWnd::OnMDIActivate](#onmdiactivate)|当激活或停用 MDI 子窗口时调用。|
|[CWnd::OnMeasureItem](#onmeasureitem)|创建控件时针对所有者描述子组合框、列表框或菜单项进行调用。 `CWnd` 向 Windows 通知控件的尺寸。|
|[CWnd::OnMenuChar](#onmenuchar)|当用户按下不与当前菜单中任何预定义助记键匹配的菜单助记键字符时调用。|
|[CWnd::OnMenuDrag](#onmenudrag)|当用户开始拖动菜单项时调用。|
|[CWnd::OnMenuGetObject](#onmenugetobject)|当鼠标光标进入菜单项或从该项的中心移动到该项的顶部或底部时调用。|
|[CWnd::OnMenuRButtonUp](#onmenurbuttonup)|当光标位于菜单项上并且用户释放鼠标右键时调用。|
|[CWnd::OnMenuSelect](#onmenuselect)|当用户选择菜单项时调用。|
|[CWnd::OnMouseActivate](#onmouseactivate)|当光标处于非活动窗口中并且用户按下鼠标按钮时调用。|
|[CWnd::OnMouseHover](#onmousehover)|将光标的先前调用中指定的时间段内悬停在窗口的工作区时调用[TrackMouseEvent](/windows/desktop/api/winuser/nf-winuser-trackmouseevent)。|
|[CWnd::OnMouseHWheel](#onmousehwheel)|当前窗口由桌面窗口管理器 (DWM) 构造，并且该窗口已最大化时调用。|
|[CWnd::OnMouseLeave](#onmouseleave)|当光标离开的先前调用中指定的窗口工作区时调用[TrackMouseEvent](/windows/desktop/api/winuser/nf-winuser-trackmouseevent)。|
|[CWnd::OnMouseMove](#onmousemove)|当鼠标光标移动时调用。|
|[CWnd::OnMouseWheel](#onmousewheel)|当用户旋转鼠标滚轮时调用。 使用 Windows NT 4.0 消息处理。|
|[CWnd::OnMove](#onmove)|在 `CWnd` 的位置已更改之后调用。|
|[CWnd::OnMoving](#onmoving)|指示用户正在移动 `CWnd` 对象。|
|[CWnd::OnNcActivate](#onncactivate)|当需要更改非工作区以指示活动或非活动状态时调用。|
|[CWnd::OnNcCalcSize](#onnccalcsize)|当需要计算工作区的大小和位置时调用。|
|[CWnd::OnNcCreate](#onnccreate)|之前调用[OnCreate](#oncreate)非工作区创建时。|
|[CWnd::OnNcDestroy](#onncdestroy)|当销毁非工作区时调用。|
|[CWnd::OnNcHitTest](#onnchittest)|每当如果 `CWnd` 包含光标或使用 `SetCapture` 捕获了鼠标输入便移动鼠标时调用。|
|[CWnd::OnNcLButtonDblClk](#onnclbuttondblclk)|当用户在光标处于 `CWnd` 的非工作区期间双击鼠标左键时调用。|
|[CWnd::OnNcLButtonDown](#onnclbuttondown)|当用户在光标处于 `CWnd` 的非工作区期间按下鼠标左键时调用。|
|[CWnd::OnNcLButtonUp](#onnclbuttonup)|当用户在光标处于 `CWnd` 的非工作区期间释放鼠标左键时调用。|
|[CWnd::OnNcMButtonDblClk](#onncmbuttondblclk)|当用户在光标处于 `CWnd` 的非工作区期间双击鼠标中键时调用。|
|[CWnd::OnNcMButtonDown](#onncmbuttondown)|当用户在光标处于 `CWnd` 的非工作区期间按下鼠标中键时调用。|
|[CWnd::OnNcMButtonUp](#onncmbuttonup)|当用户在光标处于 `CWnd` 的非工作区期间释放鼠标中键时调用。|
|[CWnd::OnNcMouseHover](#onncmousehover)|将光标的先前调用中指定的时间段内悬停在窗口非工作区时调用[TrackMouseEvent](/windows/desktop/api/winuser/nf-winuser-trackmouseevent)。|
|[CWnd::OnNcMouseLeave](#onncmouseleave)|框架调用此成员函数，当光标离开的先前调用中指定的窗口非工作区[TrackMouseEvent](/windows/desktop/api/winuser/nf-winuser-trackmouseevent)。|
|[CWnd::OnNcMouseMove](#onncmousemove)|当在 `CWnd` 的非工作区中移动光标时调用。|
|[CWnd::OnNcPaint](#onncpaint)|当需要绘制非工作区时调用。|
|[CWnd::OnNcRButtonDblClk](#onncrbuttondblclk)|当用户在光标处于 `CWnd` 的非工作区期间双击鼠标右键时调用。|
|[CWnd::OnNcRButtonDown](#onncrbuttondown)|当用户在光标处于 `CWnd` 的非工作区期间按下鼠标右键时调用。|
|[CWnd::OnNcRButtonUp](#onncrbuttonup)|当用户在光标处于 `CWnd` 的非工作区期间释放鼠标右键时调用。|
|[CWnd::OnNcRenderingChanged](#onncrenderingchanged)|在非工作区的呈现策略已更改时调用。|
|[CWnd::OnNcXButtonDblClk](#onncxbuttondblclk)|当用户在光标位于窗口非工作区期间双击 XBUTTON1 或 XBUTTON2 时调用。|
|[CWnd::OnNcXButtonDown](#onncxbuttondown)|当用户在光标位于窗口非工作区期间按下鼠标的 XBUTTON1 或 XBUTTON2 时调用。|
|[CWnd::OnNcXButtonUp](#onncxbuttonup)|当用户在光标位于窗口非工作区期间释放鼠标的 XBUTTON1 或 XBUTTON2 时调用。|
|[CWnd::OnNextMenu](#onnextmenu)|当使用向右或向左箭头键在菜单栏和系统菜单之间切换时调用。|
|[CWnd::OnNotify](#onnotify)|由框架调用以通知父窗口，在其某个控件上发生事件或该控件需要信息。|
|[CWnd::OnNotifyFormat](#onnotifyformat)|调用以确定当前窗口是否接受 WM_NOTIFY 通知消息中的 ANSI 或 Unicode 结构。|
|[CWnd::OnPaint](#onpaint)|调用以重新绘制窗口的一部分。|
|[CWnd::OnPaintClipboard](#onpaintclipboard)|当剪贴板查看器的工作区需要重新绘制时调用。|
|[CWnd::OnPaletteChanged](#onpalettechanged)|调用以允许使用调色板的窗口实现其逻辑调色板并更新其工作区。|
|[CWnd::OnPaletteIsChanging](#onpaletteischanging)|当某个应用程序要实现其逻辑调色板时，通知其他应用程序。|
|[CWnd::OnParentNotify](#onparentnotify)|当创建或销毁子窗口时，或是当用户在光标位于子窗口上方期间单击鼠标按钮时调用。|
|[CWnd::OnPowerBroadcast](#onpowerbroadcast)|当电源管理事件发生时调用。|
|[CWnd::OnQueryDragIcon](#onquerydragicon)|当用户要拖动最小化（图标化）的 `CWnd` 时调用。|
|[CWnd::OnQueryEndSession](#onqueryendsession)|当用户选择结束 Windows 会话时调用。|
|[CWnd::OnQueryNewPalette](#onquerynewpalette)|向 `CWnd` 告知它要接收输入焦点。|
|[CWnd::OnQueryOpen](#onqueryopen)|当 `CWnd` 是图标并且用户请求打开该图标时调用。|
|[CWnd::OnQueryUIState](#onqueryuistate)|调用以检索窗口的用户界面 (UI) 状态。|
|[CWnd::OnRawInput](#onrawinput)|当前窗口中获取原始输入时调用。|
|[CWnd::OnRButtonDblClk](#onrbuttondblclk)|当用户双击鼠标右键时调用。|
|[CWnd::OnRButtonDown](#onrbuttondown)|当用户按下鼠标右键时调用。|
|[CWnd::OnRButtonUp](#onrbuttonup)|当用户释放鼠标右键时调用。|
|[CWnd::OnRenderAllFormats](#onrenderallformats)|当所有者应用程序正在销毁并且需要呈现其所有格式时调用。|
|[CWnd::OnRenderFormat](#onrenderformat)|当需要呈现具有延迟呈现的特定格式时，针对剪贴板所有者进行调用。|
|[CWnd::OnSessionChange](#onsessionchange)|调用以向应用程序通知会话状态已更改。|
|[CWnd::OnSetCursor](#onsetcursor)|如果鼠标输入未捕获并且鼠标使光标在光标中移动，则调用。|
|[CWnd::OnSetFocus](#onsetfocus)|在 `CWnd` 获取输入焦点之后调用。|
|[CWnd::OnSettingChange](#onsettingchange)|当 Win32 `SystemParametersInfo` 函数更改系统范围设置时调用。|
|[CWnd::OnShowWindow](#onshowwindow)|当 `CWnd` 要显示或隐藏时调用。|
|[CWnd::OnSize](#onsize)|在 `CWnd` 的大小已更改之后调用。|
|[CWnd::OnSizeClipboard](#onsizeclipboard)|当剪贴板查看器窗口工作区的大小已更改时调用。|
|[CWnd::OnSizing](#onsizing)|指示用户正在调整矩形大小。|
|[CWnd::OnSpoolerStatus](#onspoolerstatus)|每当对打印管理器队列添加或移除作业时，从打印管理器调用。|
|[CWnd::OnStyleChanged](#onstylechanged)|指示[SetWindowLong](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) Windows 函数已更改一个或多个窗口的样式。|
|[CWnd::OnStyleChanging](#onstylechanging)|指示[SetWindowLong](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) Windows 函数即将更改一个或多个窗口的样式。|
|[CWnd::OnSysChar](#onsyschar)|当击键转换为系统字符时调用。|
|[CWnd::OnSysColorChange](#onsyscolorchange)|当在系统颜色设置中进行更改时，针对所有顶级窗口进行调用。|
|[CWnd::OnSysCommand](#onsyscommand)|当用户从控件菜单中选择命令时，或是当用户选择最大化或最小化按钮时调用。|
|[CWnd::OnSysDeadChar](#onsysdeadchar)|当击键转换为系统语音符号字符（如重音字符）时调用。|
|[CWnd::OnSysKeyDown](#onsyskeydown)|当用户按住 ALT 键，然后按下另一个键时调用。|
|[CWnd::OnSysKeyUp](#onsyskeyup)|当用户释放在按住 ALT 键的同时按下的键时调用。|
|[CWnd::OnTCard](#ontcard)|当用户单击可创作的按钮时调用。|
|[CWnd::OnTimeChange](#ontimechange)|在系统时间更改之后针对所有顶级窗口进行调用。|
|[CWnd::OnTimer](#ontimer)|调用中指定每个时间间隔过后[SetTimer](#settimer)。|
|[CWnd::OnTouchInput](#ontouchinput)|处理来自 Windows 触摸屏的单个输入。|
|[CWnd::OnTouchInputs](#ontouchinputs)|处理来自 Windows 触摸屏的输入。|
|[CWnd::OnUniChar](#onunichar)|当按下键时调用。 即，当前窗口具有键盘焦点和一个[WM_KEYDOWN](/windows/desktop/inputdev/wm-keydown)消息进行解释[TranslateMessage](/windows/desktop/api/winuser/nf-winuser-translatemessage)函数。|
|[CWnd::OnUnInitMenuPopup](#onuninitmenupopup)|在下拉菜单或子菜单已销毁时调用。|
|[CWnd::OnUpdateUIState](#onupdateuistate)|调用以更改指定窗口及其所有子窗口的用户界面 (UI) 状态。|
|[CWnd::OnUserChanged](#onuserchanged)|在用户登录或注销之后调用。|
|[CWnd::OnVKeyToItem](#onvkeytoitem)|调用由拥有一个列表框`CWnd`以响应[WM_KEYDOWN](#onkeydown)消息。|
|[CWnd::OnVScroll](#onvscroll)|当用户单击窗口的垂直滚动条时调用。|
|[CWnd::OnVScrollClipboard](#onvscrollclipboard)|当所有者应滚动剪贴板图像、使相应部分失效以及更新滚动条值时调用。|
|[CWnd::OnWindowPosChanged](#onwindowposchanged)|当大小、 位置或 Z 顺序已因调用而更改时调用[SetWindowPos](#setwindowpos)或另一个窗口管理函数。|
|[CWnd::OnWindowPosChanging](#onwindowposchanging)|当大小、 位置或 Z 顺序即将因调用而更改时调用[SetWindowPos](#setwindowpos)或另一个窗口管理函数。|
|[CWnd::OnWinIniChange](#onwininichange)|在 Windows 初始化文件 (WIN.INI) 已更改之后对所有顶级窗口进行调用。|
|[CWnd::OnWndMsg](#onwndmsg)|指示是否处理了 Windows 消息。|
|[CWnd::OnXButtonDblClk](#onxbuttondblclk)|当用户在光标位于窗口工作区期间双击 XBUTTON1 或 XBUTTON2 时调用。|
|[CWnd::OnXButtonDown](#onxbuttondown)|当用户在光标位于窗口工作区期间按下 XBUTTON1 或 XBUTTON2 时调用。|
|[CWnd::OnXButtonUp](#onxbuttonup)|当用户在光标位于窗口工作区期间释放 XBUTTON1 或 XBUTTON2 时调用。|
|[CWnd::PostNcDestroy](#postncdestroy)|默认情况下调用此虚函数[OnNcDestroy](#onncdestroy)函数在窗口已销毁之后。|
|[CWnd::ReflectChildNotify](#reflectchildnotify)|将消息反射到其源的 Helper 函数。|
|[CWnd::ReflectLastMsg](#reflectlastmsg)|将最后一个消息反射到子窗口。|
|[CWnd::ResizeDynamicLayout](#resizedynamiclayout)|如果对窗口启用了动态布局，则窗口大小更改以调整子窗口布局时会通过框架调用。|
|[CWnd::WindowProc](#windowproc)|为 `CWnd` 提供窗口过程。 默认设置会通过消息映射调度消息。|

### <a name="public-operators"></a>公共运算符

|名称|描述|
|----------|-----------------|
|[CWnd::operator HWND](#operator_hwnd)|调用以获取窗口的句柄。|
|[CWnd::operator !=](#operator_neq)|确定窗口是否不相同的窗口的句柄[m_hWnd](#m_hwnd)。|
|[CWnd::operator ==](#operator_eq_eq)|确定窗口是否是其句柄的窗口相同[m_hWnd](#m_hwnd)。|

### <a name="public-data-members"></a>公共数据成员

|名称|描述|
|----------|-----------------|
|[CWnd::m_hWnd](#m_hwnd)|指示附加到此 HWND `CWnd`。|

## <a name="remarks"></a>备注

`CWnd` 对象与 Windows 窗口不同，但这两者紧密相关。 `CWnd` 对象由 `CWnd` 构造函数和析构函数进行创建或销毁。 Windows 窗口中后，就是一种数据结构创建的 Windows 的内部`Create`成员函数由和销毁`CWnd`虚拟析构函数。 [DestroyWindow](#destroywindow)函数销毁 Windows 窗口而不销毁对象。

`CWnd`类和消息映射机制会隐藏`WndProc`函数。 传入的 Windows 通知消息会自动路由到正确的消息映射通过**上**<em>消息</em>`CWnd`成员函数。 重写**上**<em>消息</em>成员函数以处理在派生类中成员的特定消息。

通过 `CWnd` 类还可以为应用程序创建 Windows 子窗口。 从 `CWnd` 派生类，然后将成员变量添加到派生类，以存储特定于应用程序的数据。 可派生类中实现消息处理程序成员函数和消息映射，以指定在消息定向到窗口时所发生的情况。

可采用两个步骤创建子窗口。 首先，调用构造函数`CWnd`来构造`CWnd`对象，然后调用[创建](#create)成员函数以创建子窗口，并将其附加到`CWnd`对象。

当用户终止子窗口时，销毁 `CWnd` 对象，或调用 `DestroyWindow` 成员函数以移除窗口并销毁其数据结构。

在 Microsoft 基础类库中，从 `CWnd` 派生了更多类以提供特定窗口类型。 这些类包括许多[CFrameWnd](../../mfc/reference/cframewnd-class.md)， [CMDIFrameWnd](../../mfc/reference/cmdiframewnd-class.md)， [CMDIChildWnd](../../mfc/reference/cmdichildwnd-class.md)， [CView](../../mfc/reference/cview-class.md)，和[CDialog](../../mfc/reference/cdialog-class.md)，用于进一步派生。 控件类派生自`CWnd`，如[CButton](../../mfc/reference/cbutton-class.md)，可以直接使用，也可用于进一步派生类。

有关使用的详细信息`CWnd`，请参阅[帧 Windows](../../mfc/frame-windows.md)并[窗口对象](../../mfc/window-objects.md)。

## <a name="inheritance-hierarchy"></a>继承层次结构

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

`CWnd`

## <a name="requirements"></a>要求

**标头:** afxwin.h

##  <a name="accdodefaultaction"></a>  CWnd::accDoDefaultAction

由框架调用以执行对象的默认操作。

```
virtual HRESULT accDoDefaultAction(VARIANT varChild);
```

### <a name="parameters"></a>参数

*varChild*<br/>
指定是否要调用的默认操作为对象或对象的子元素之一。 此参数可以是 CHILDID_SELF （即执行对象的默认操作） 或子级 ID （若要执行的一个对象的子元素的默认操作）。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中[iaccessible:: Accdodefaultaction](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-accdodefaultaction) Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`的派生类来执行对象的默认操作。 有关详细信息，请参阅[iaccessible:: Accdodefaultaction](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-accdodefaultaction) Windows SDK 中。

##  <a name="acchittest"></a>  CWnd::accHitTest

由框架调用以检索屏幕上给定点处的子元素或子对象。

```
virtual HRESULT accHitTest(
    long xLeft,
    long yTop,
    VARIANT* pvarChild);
```

### <a name="parameters"></a>参数

*xLeft*<br/>
X 坐标点的要进行命中测试 （以屏幕为单位）。

*yTop*<br/>
Y 坐标点的要进行命中测试 （以屏幕为单位）。

*pvarChild*<br/>
接收信息，用于确定由指定的点处的对象*xLeft*并*由*。 请参阅*pvarID*中[IAccessible::accHitTest](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-acchittest) Windows SDK 中。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中`IAccessible::accHitTest`Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`-如果有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理） 派生的类。

有关详细信息，请参阅[IAccessible::accHitTest](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-acchittest) Windows SDK 中。

##  <a name="acclocation"></a>  CWnd::accLocation

由框架调用以检索指定对象的当前屏幕位置。

```
virtual HRESULT accLocation(
    long* pxLeft,
    long* pyTop,
    long* pcxWidth,
    long* pcyHeight,
    VARIANT varChild);
```

### <a name="parameters"></a>参数

*pxLeft*<br/>
接收 x 轴坐标 （以屏幕为单位） 的对象的左上角。

*pyTop*<br/>
接收的 （以屏幕为单位） 的对象的左上角的 y 坐标。

*pcxWidth*<br/>
接收宽度 （以屏幕为单位） 的对象。

*pcyHeight*<br/>
接收高度 （以屏幕为单位） 的对象。

*varChild*<br/>
指定要检索的位置是否的对象或对象的子元素之一。 此参数可以是 CHILDID_SELF （若要获取有关对象的信息） 或子级 ID （若要获取有关对象的子元素的信息）。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中`IAccessible::accLocation`Windows SDK 中。

### <a name="remarks"></a>备注

重写此函数中的你`CWnd`-如果有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理） 派生的类。

有关详细信息，请参阅`IAccessible::accLocation`Windows SDK 中。

##  <a name="accnavigate"></a>  CWnd::accNavigate

由框架调用以移到容器内的另一个用户界面元素，如果可能还检索对象。

```
virtual HRESULT accNavigate(
    long navDir,
    VARIANT varStart,
    VARIANT* pvarEndUpAt);
```

### <a name="parameters"></a>参数

*navDir*<br/>
指定要定位的方向。 请参阅*navDir*中[IAccessible::accNavigate](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-accnavigate) Windows SDK 中。

*varStart*<br/>
指定的起始对象。 请参阅*varStart*中`IAccessible::accNavigate`Windows SDK 中。

*pvarEndUpAt*<br/>
接收的目标用户界面对象的相关信息。 请参阅*pvarEnd*中`IAccessible::accNavigate`Windows SDK 中。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中`IAccessible::accNavigate`Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`-如果有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理） 派生的类。

有关详细信息，请参阅[IAccessible::accNavigate](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-accnavigate) Windows SDK 中。

##  <a name="accselect"></a>  CWnd::accSelect

由框架调用以修改选定内容或移动指定对象的键盘焦点。

```
virtual HRESULT accSelect(
    long flagsSelect,
    VARIANT varChild);
```

### <a name="parameters"></a>参数

*flagsSelect*<br/>
指定如何更改当前所选内容或焦点。 请参阅*flagsSelect*中[IAccessible::accSelect](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-accselect) Windows SDK 中。

*varChild*<br/>
指定要选择的对象。 此参数可以是 CHILDID_SELF （若要选择的对象本身） 或子级 ID （若要选择其中一个子对象）。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中`IAccessible::accSelect`Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`-如果有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理） 派生的类。

有关详细信息，请参阅[IAccessible::accSelect](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-accselect) Windows SDK 中。

##  <a name="animatewindow"></a>  CWnd::AnimateWindow

生成显示或隐藏 windows 时的特殊效果。

```
BOOL AnimateWindow(
    DWORD dwTime,
    DWORD dwFlags);
```

### <a name="parameters"></a>参数

*dwTime*<br/>
指定其所需的时间播放动画，以毫秒为单位。 通常情况下，动画将 200 毫秒播放。

*dwFlags*<br/>
指定动画的类型。 有关可能的值的完整列表，请参阅[AnimateWindow](/windows/desktop/api/winuser/nf-winuser-animatewindow)。

### <a name="return-value"></a>返回值

如果函数成功，则为非零值；否则为

### <a name="remarks"></a>备注

此成员函数模拟函数的功能[AnimateWindow](/windows/desktop/api/winuser/nf-winuser-animatewindow)，如 Windows SDK 中所述。

##  <a name="arrangeiconicwindows"></a>  CWnd::ArrangeIconicWindows

排列所有最小化（图标）子窗口。

```
UINT ArrangeIconicWindows();
```

### <a name="return-value"></a>返回值

如果函数成功，则图标的一个行的高度否则为 0。

### <a name="remarks"></a>备注

此成员函数也排列在桌面窗口，覆盖整个屏幕上的图标。 [GetDesktopWindow](#getdesktopwindow)成员函数将检索到桌面窗口对象的指针。

若要排列图标的 MDI 子窗口的 MDI 客户端窗口中，调用[CMDIFrameWnd::MDIIconArrange](../../mfc/reference/cmdiframewnd-class.md#mdiiconarrange)。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#66](../../mfc/reference/codesnippet/cpp/cwnd-class_1.cpp)]

##  <a name="attach"></a>  CWnd::Attach

将附加到的 Windows 窗口`CWnd`对象。

```
BOOL Attach(HWND hWndNew);
```

### <a name="parameters"></a>参数

*hWndNew*<br/>
指定 Windows 窗口的句柄。

### <a name="return-value"></a>返回值

如果成功，则不为 0；否则为 0。

### <a name="example"></a>示例

此示例演示如何使用附加和分离将映射到 MDI 客户端窗口。

[!code-cpp[NVC_MFCWindowing#67](../../mfc/reference/codesnippet/cpp/cwnd-class_2.h)]

[!code-cpp[NVC_MFCWindowing#68](../../mfc/reference/codesnippet/cpp/cwnd-class_3.cpp)]

[!code-cpp[NVC_MFCWindowing#69](../../mfc/reference/codesnippet/cpp/cwnd-class_4.cpp)]

##  <a name="beginmodalstate"></a>  CWnd::BeginModalState

调用此成员函数以使框架窗口具有模式。

```
virtual void BeginModalState();
```

##  <a name="beginpaint"></a>  CWnd::BeginPaint

准备`CWnd`绘制和填充`PAINTSTRUCT`绘制有关的信息的数据结构。

```
CDC* BeginPaint(LPPAINTSTRUCT lpPaint);
```

### <a name="parameters"></a>参数

*lpPaint*<br/>
指向[PAINTSTRUCT](/windows/desktop/api/winuser/ns-winuser-tagpaintstruct)结构，它是接收绘制信息。

### <a name="return-value"></a>返回值

标识的设备上下文`CWnd`。 指针可能是暂时的不应存储存储的作用域外[EndPaint](#endpaint)。

### <a name="remarks"></a>备注

画图结构包含具有完全包围更新区域和一个标志，指定是否在后台均被清除的最小矩形的 RECT 数据结构。

更新区域设置[Invalidate](#invalidate)， [InvalidateRect](#invalidaterect)，或[InvalidateRgn](#invalidatergn)成员函数和系统其大小后，移动、 创建、 滚动时，或执行任何其他操作所影响的客户端区域。 如果更新区域标记为擦除`BeginPaint`发送[WM_ONERASEBKGND](#onerasebkgnd)消息。

不要调用`BeginPaint`成员函数除了以响应[WM_PAINT](#onpaint)消息。 每次调用`BeginPaint`成员函数必须具有匹配调用[EndPaint](#endpaint)成员函数。 如果要绘制的区域中的插入符号是`BeginPaint`成员函数会自动隐藏插入符号以防止它被清除。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#70](../../mfc/reference/codesnippet/cpp/cwnd-class_5.cpp)]

##  <a name="binddefaultproperty"></a>  CWnd::BindDefaultProperty

将调用对象的默认简单绑定的属性 （如编辑控件），作为在类型库中标记绑定到基础数据源控件的数据源、 用户名、 密码和 SQL 属性定义的游标。

```
void BindDefaultProperty(
    DISPID dwDispID,
    VARTYPE vtProp,
    LPCTSTR szFieldName,
    CWnd* pDSCWnd);
```

### <a name="parameters"></a>参数

*dwDispID*<br/>
指定要绑定到数据源控件的数据绑定控件属性的 DISPID。

*vtProp*<br/>
指定要绑定的属性的类型，例如，VT_BSTR、 VT_VARIANT、 等等。

*szFieldName*<br/>
指定数据源控件，该属性将绑定到提供的游标中的列的名称。

*pDSCWnd*<br/>
指向窗口的属性将绑定到该主机数据源控件。 调用`GetDlgItem`与要检索此指针 DC 的宿主窗口的资源 ID。

### <a name="remarks"></a>备注

`CWnd`对象调用此函数必须是数据绑定控件。

### <a name="example"></a>示例

`BindDefaultProperty` 可能在以下上下文中使用：

[!code-cpp[NVC_MFC_AxDataBinding#1](../../mfc/reference/codesnippet/cpp/cwnd-class_6.cpp)]
[!code-cpp[NVC_MFC_AxDataBinding#2](../../mfc/reference/codesnippet/cpp/cwnd-class_7.cpp)]
[!code-cpp[NVC_MFC_AxDataBinding#3](../../mfc/reference/codesnippet/cpp/cwnd-class_8.cpp)]

##  <a name="bindproperty"></a>  CWnd::BindProperty

将光标绑定属性上 （如网格控件） 的数据绑定控件绑定到数据源控件并向 MFC 绑定管理器注册该关系。

```
void BindProperty(
    DISPID dwDispId,
    CWnd* pWndDSC);
```

### <a name="parameters"></a>参数

*dwDispId*<br/>
指定要绑定到数据源控件的数据绑定控件属性的 DISPID。

*pWndDSC*<br/>
指向窗口的属性将绑定到该主机数据源控件。 调用`GetDlgItem`与要检索此指针 DC 的宿主窗口的资源 ID。

### <a name="remarks"></a>备注

`CWnd`对象调用此函数必须是数据绑定控件。

### <a name="example"></a>示例

`BindProperty` 可能在以下上下文中使用：

[!code-cpp[NVC_MFC_AxDataBinding#1](../../mfc/reference/codesnippet/cpp/cwnd-class_6.cpp)]
[!code-cpp[NVC_MFC_AxDataBinding#4](../../mfc/reference/codesnippet/cpp/cwnd-class_9.cpp)]
[!code-cpp[NVC_MFC_AxDataBinding#3](../../mfc/reference/codesnippet/cpp/cwnd-class_8.cpp)]

##  <a name="bringwindowtotop"></a>  CWnd::BringWindowToTop

将 `CWnd` 置于一堆重叠窗口的顶部。

```
void BringWindowToTop();
```

### <a name="remarks"></a>备注

此外，`BringWindowToTop` 将激活弹出的、顶层和 MDI 子窗口。 `BringWindowToTop` 成员函数应用于显露被任何重叠窗口部分或完全遮盖的任意窗口。

此函数只调用 Win32 [BringWindowToTop](/windows/desktop/api/winuser/nf-winuser-bringwindowtotop)函数。 调用[SetWindowPos](#setwindowpos)函数来更改窗口的 Z 顺序中的位置。 `BringWindowToTop` 函数不更改窗口样式，即可使其成为顶层窗口。 有关详细信息，请参阅[HWND_TOP 与 HWND_TOPMOST 之间的区别是什么](http://blogs.msdn.com/b/oldnewthing/archive/2005/11/21/495246.aspx)

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#71](../../mfc/reference/codesnippet/cpp/cwnd-class_10.cpp)]

##  <a name="calcwindowrect"></a>  CWnd::CalcWindowRect

计算窗口矩形可以包含指定的客户端矩形。

```
virtual void CalcWindowRect(
    LPRECT lpClientRect,
    UINT nAdjustType = adjustBorder);
```

### <a name="parameters"></a>参数

*lpClientRect*<br/>
[in、 out]向矩形结构的指针。 在输入时，此结构包含客户端矩形。 该方法运行完毕后，此结构包含可以包含指定的客户端矩形窗口矩形。

*nAdjustType*<br/>
[in]使用`CWnd::adjustBorder`来计算窗口坐标，而无需 WS_EX_CLIENTEDGE 样式; 否则，请使用`CWnd::adjustOutside`。

### <a name="remarks"></a>备注

计算的窗口矩形的大小不包括菜单栏的空间。

有关详细的使用限制，请参阅[AdjustWindowRectEx](/windows/desktop/api/winuser/nf-winuser-adjustwindowrectex)。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#72](../../mfc/reference/codesnippet/cpp/cwnd-class_11.cpp)]

##  <a name="canceltooltips"></a>  CWnd::CancelToolTips

调用此成员函数可从屏幕中移除的工具提示，如果当前显示的工具提示。

```
static void PASCAL CancelToolTips(BOOL bKeys = FALSE);
```

### <a name="parameters"></a>参数

*bKeys*<br/>
为 TRUE，则取消工具提示，当按下键并将其设置为默认设置; 的状态栏文本否则为 FALSE。

### <a name="remarks"></a>备注

> [!NOTE]
> 使用此成员函数具有不会影响由你的代码的工具提示。 它只影响由管理的工具提示控件[CWnd::EnableToolTips](#enabletooltips)。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#73](../../mfc/reference/codesnippet/cpp/cwnd-class_12.cpp)]

##  <a name="centerwindow"></a>  CWnd::CenterWindow

使窗口相对于其父级居中。

```
void CenterWindow(CWnd* pAlternateOwner = NULL);
```

### <a name="parameters"></a>参数

*pAlternateOwner*<br/>
指向一个备用的窗口，它将是相对于其居中 （父窗口之外）。

### <a name="remarks"></a>备注

通常从调用[CDialog::OnInitDialog](../../mfc/reference/cdialog-class.md#oninitdialog) center 对话框相对于主窗口的应用程序。 默认情况下，该函数中心相对于其父窗口和相对于其所有者的弹出窗口的子窗口。 如果不属于弹出窗口，它位于相对于屏幕。 要相对于特定窗口不是所有者或父项，该窗口居中*pAlternateOwner*参数可能设置为有效的窗口。 若要强制使相对于屏幕内居中，请将传递返回的值[CWnd::GetDesktopWindow](#getdesktopwindow)作为*pAlternateOwner*。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#74](../../mfc/reference/codesnippet/cpp/cwnd-class_13.cpp)]

##  <a name="changeclipboardchain"></a>  CWnd::ChangeClipboardChain

移除`CWnd`从通过指定窗口的剪贴板查看器并使链*hWndNext*后代的`CWnd`链中的上级。

```
BOOL ChangeClipboardChain(HWND hWndNext);
```

### <a name="parameters"></a>参数

*hWndNext*<br/>
标识窗口后面`CWnd`剪贴板查看器链中。

### <a name="return-value"></a>返回值

如果成功，则不为 0；否则为 0。

##  <a name="checkdlgbutton"></a>  CWnd::CheckDlgButton

选择 （一个旁边的复选标记的位置中） 或清除 （删除复选标记从） 按钮，或它具有三个状态的按钮的状态更改。

```
void CheckDlgButton(
    int nIDButton,
    UINT nCheck);
```

### <a name="parameters"></a>参数

*nIDButton*<br/>
指定要修改的按钮。

*nCheck*<br/>
指定要执行的操作。 如果*n 请查看*不为零，`CheckDlgButton`成员函数将放置按钮旁边的选中标记; 如果为 0，则删除复选标记。 为三个状态的按钮，如果*n 请查看*为 2，按钮状态为不确定。

### <a name="remarks"></a>备注

`CheckDlgButton`函数发送[BM_SETCHECK](/windows/desktop/Controls/bm-setcheck)到指定的按钮的消息。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#75](../../mfc/reference/codesnippet/cpp/cwnd-class_14.cpp)]

##  <a name="checkradiobutton"></a>  CWnd::CheckRadioButton

选择 （添加到一个复选标记） 的组中的给定的单选按钮和清除 （删除复选标记） 所有其他单选按钮组中的。

```
void CheckRadioButton(
    int nIDFirstButton,
    int nIDLastButton,
    int nIDCheckButton);
```

### <a name="parameters"></a>参数

*nIDFirstButton*<br/>
指定组中的第一个单选按钮的整数标识符。

*nIDLastButton*<br/>
指定组中的最后一个单选按钮的整数标识符。

*nIDCheckButton*<br/>
指定要检查的单选按钮的整数标识符。

### <a name="remarks"></a>备注

`CheckRadioButton`函数发送[BM_SETCHECK](/windows/desktop/Controls/bm-setcheck)到指定的单选按钮的消息。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#76](../../mfc/reference/codesnippet/cpp/cwnd-class_15.cpp)]

##  <a name="childwindowfrompoint"></a>  CWnd::ChildWindowFromPoint

确定将哪个，如果任何子窗口属于`CWnd`包含指定的点。

```
CWnd* ChildWindowFromPoint(POINT point) const;

CWnd* ChildWindowFromPoint(
    POINT point,
    UINT nFlags) const;
```

### <a name="parameters"></a>参数

*point*<br/>
指定要进行测试点的客户端坐标。

*nflags*<br/>
指定要跳过的子窗口。 此参数可以是以下值的组合：

|“值”|含义|
|-----------|-------------|
|CWP_ALL|请勿跳过任何子窗口|
|CWP_SKIPINVISIBLE|跳过不可见的子窗口|
|CWP_SKIPDISABLED|跳过禁用的子窗口|
|CWP_SKIPTRANSPARENT|跳过透明子窗口|

### <a name="return-value"></a>返回值

标识包含点的子窗口。 如果给定的点之外的客户端区域，则为 NULL。 如果该点是客户端区域内，但不是包含任何子窗口，在`CWnd`返回。

此成员函数将返回包含指定的点的隐藏或禁用子窗口。

多个窗口可能包含给定的点。 但是，此函数仅返回`CWnd`* 遇到包含点的第一个窗口。

`CWnd`* 返回可能是暂时的不应存储供以后使用。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#77](../../mfc/reference/codesnippet/cpp/cwnd-class_16.cpp)]

##  <a name="clienttoscreen"></a>  CWnd::ClientToScreen

将显示中的给定点或矩形的客户端坐标转换为屏幕坐标。

```
void ClientToScreen(LPPOINT lpPoint) const;  void ClientToScreen(LPRECT lpRect) const;
```

### <a name="parameters"></a>参数

*lpPoint*<br/>
指向[POINT 结构](/windows/desktop/api/windef/ns-windef-tagpoint)或`CPoint`对象，它包含的客户端要转换的坐标。

*lpRect*<br/>
指向[RECT 结构](/windows/desktop/api/windef/ns-windef-tagrect)或`CRect`对象，它包含的客户端要转换的坐标。

### <a name="remarks"></a>备注

`ClientToScreen`成员函数使用中的客户端坐标`POINT`或`RECT`结构或`CPoint`或`CRect`指向对象*lpPoint*或*lpRect*来计算新的屏幕坐标;然后将该结构中的对等替换为新的坐标。 新的屏幕坐标是相对于系统显示在左上角。

`ClientToScreen`成员函数假定在工作区坐标为给的定点或矩形。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#78](../../mfc/reference/codesnippet/cpp/cwnd-class_17.cpp)]

##  <a name="closewindow"></a>  CWnd::CloseWindow

最小化窗口。

```
void CloseWindow();
```

### <a name="remarks"></a>备注

此成员函数模拟函数的功能[CloseWindow](/windows/desktop/api/winuser/nf-winuser-closewindow)，如 Windows SDK 中所述。

##  <a name="continuemodal"></a>  CWnd::ContinueModal

调用此成员函数[runmodalloop 调用](#runmodalloop)来确定何时应退出模式状态。

```
virtual BOOL ContinueModal();
```

### <a name="return-value"></a>返回值

如果模式循环将继续; 非零值0 when [EndModalLoop](#endmodalloop)调用。

### <a name="remarks"></a>备注

默认情况下，它将返回非零值直到`EndModalLoop`调用。

##  <a name="create"></a>  Cwnd:: Create

创建指定的子窗口，并将其附加到[CWnd](../../mfc/reference/cwnd-class.md)对象。

```
virtual BOOL Create(
    LPCTSTR lpszClassName,
    LPCTSTR lpszWindowName,
    DWORD dwStyle,
    Const RECT& rect,
    CWnd* pParentWnd,
    UINT nID,
    CCreateContext* pContext = NULL);
```

### <a name="parameters"></a>参数

*lpszClassName*<br/>
[in]包含已注册的系统窗口类，则名称的以 null 结尾的字符串指针或预定义的系统窗口类的名称。

*lpszWindowName*<br/>
[in]包含窗口的以 null 结尾的字符串指针显示名称;无窗口的显示名称，否则为 NULL。

*dwStyle*<br/>
[in]按位组合 (OR)[的窗口样式](styles-used-by-mfc.md#window-styles)。 WS_POPUP 选项不是有效的样式。

*rect*<br/>
[in]大小和窗口相对于父窗口的左上角的位置。

*pParentWnd*<br/>
[in]向父窗口的指针。

*nID*<br/>
[in]窗口的 ID。

*pContext*<br/>
[in]指向[CCreateContext](../../mfc/reference/ccreatecontext-structure.md)用于自定义应用程序的文档视图体系结构的结构。

### <a name="return-value"></a>返回值

如果该方法成功，则为 TRUE否则为 FALSE。

### <a name="remarks"></a>备注

> [!WARNING]
> `CWnd::PreCreateWindow` 现在将分配的 hMenu 成员及其`CREATESTRUCT`参数**这**如果菜单为 NULL 且 style 包含 WS_CHILD 的指针。 能正常运行，请确保您的对话框控件有一个 ID，不为 NULL。
>
> 在托管/本机互操作方案中，此更改修复了崩溃。 中的跟踪语句`CWnd::Create`警报问题的开发人员。

使用[AfxRegisterWndClass](../../mfc/reference/application-information-and-management.md#afxregisterwndclass)函数注册窗口类。 用户定义的类是模块中提供注册所在的窗口。

[CWnd::OnCreate](#oncreate)方法之前调用`Create`方法返回时，并在窗口变得可见之前。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#79](../../mfc/reference/codesnippet/cpp/cwnd-class_18.cpp)]

##  <a name="createaccessibleproxy"></a>  CWnd::CreateAccessibleProxy

为指定对象创建 Active Accessibility 代理服务器。

```
virtual HRESULT CreateAccessibleProxy(
    WPARAM wParam,
    LPARAM lParam,
    LRESULT* pResult);
```

### <a name="parameters"></a>参数

*wParam*<br/>
标识由 Active Accessibility 代理服务器访问的对象。 可以是下列值之一

|“值”|含义|
|-----------|-------------|
|OBJID_CLIENT|表示窗口的工作区。|

*lParam*<br/>
提供其他依赖于消息的信息。

*pResult*<br/>
指向存储结果代码 LRESULT 的指针。

### <a name="remarks"></a>备注

为指定对象创建 Active Accessibility 代理服务器。

##  <a name="createcaret"></a>  CWnd::CreateCaret

创建新的形状为系统插入符号和声明将插入符号的所有权。

```
void CreateCaret(CBitmap* pBitmap);
```

### <a name="parameters"></a>参数

*pBitmap*<br/>
标识定义插入符号形状的位图。

### <a name="remarks"></a>备注

位图必须之前已创建由[CBitmap::CreateBitmap](../../mfc/reference/cbitmap-class.md#createbitmap)成员函数[CreateDIBitmap](/windows/desktop/api/wingdi/nf-wingdi-createdibitmap) Windows 函数或[cbitmap:: Loadbitmap](../../mfc/reference/cbitmap-class.md#loadbitmap)成员函数。

`CreateCaret` 如果有，而不考虑哪个窗口拥有将插入符号将自动销毁以前插入符号形状。 创建后，一开始就隐藏插入符号。 若要显示插入符号[ShowCaret](#showcaret)必须调用成员函数。

系统插入符号是共享的资源。 `CWnd` 仅当它具有输入的焦点或处于活动状态时，应创建一个插入符号。 失去输入的焦点或处于非活动状态之前，它应销毁插入符号。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#80](../../mfc/reference/codesnippet/cpp/cwnd-class_19.cpp)]

##  <a name="createcontrol"></a>  CWnd::CreateControl

使用此成员函数在由 MFC 程序中创建将表示的 ActiveX 控件`CWnd`对象。

```
BOOL CreateControl(
    LPCTSTR pszClass,
    LPCTSTR pszWindowName,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID,
    CFile* pPersist = NULL,
    BOOL bStorage = FALSE,
    BSTR bstrLicKey = NULL);

BOOL CreateControl(
    REFCLSID clsid,
    LPCTSTR pszWindowName,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID,
    CFile* pPersist = NULL,
    BOOL bStorage = FALSE,
    BSTR bstrLicKey = NULL);

BOOL CreateControl(
    REFCLSID clsid,
    LPCTSTR pszWindowName,
    DWORD dwStyle,
    const POINT* ppt,
    const SIZE* psize,
    CWnd* pParentWnd,
    UINT nID,
    CFile* pPersist = NULL,
    BOOL bStorage = FALSE,
    BSTR bstrLicKey = NULL);
```

### <a name="parameters"></a>参数

*pszClass*<br/>
此字符串可能包含 OLE"短名称"(ProgID) 对于类，例如，"CIRC3。Circ3Ctrl.1"。 该名称需要匹配由控件注册的相同名称。 或者，该字符串可能包含 CLSID，包含在括号中，例如，"{9DBAFCCF-592F-101B-85CE-00608CEC297B}"的字符串形式。 在任一情况下，`CreateControl`将字符串转换为相应类 id。

*pszWindowName*<br/>
指向要在控件中显示的文本的指针。 设置控件的标题或文本属性的值 （如果有）。 如果为 NULL，不会更改控件的标题或文本属性。

*dwStyle*<br/>
窗口样式。 在备注下，列出了可用样式。

*rect*<br/>
指定控件的大小和位置。 它可以是[CRect](../../atl-mfc-shared/reference/crect-class.md)对象或[RECT 结构](/windows/desktop/api/windef/ns-windef-tagrect)。

*ppt*<br/>
指向[POINT 结构](/windows/desktop/api/windef/ns-windef-tagpoint)或`CPoint`对象，它包含控件的左上的角。

*pSize*<br/>
指向[大小](/windows/desktop/api/windef/ns-windef-tagsize)结构或`CSize`对象，它包含控件的大小

*pParentWnd*<br/>
指定控件的父窗口。 它不能为 NULL。

*nID*<br/>
指定控件的 id。

*pPersist*<br/>
一个指向[CFile](../../mfc/reference/cfile-class.md)包含控件的持久状态。 默认值为 NULL，指示该控件而不从任何持久性存储区中还原其状态初始化自身。 如果不为 NULL，它应该是一个指向`CFile`-派生的对象，其中包含控件的持久性数据的流或存储形式。 此数据可能已保存在客户端的上一个激活。 `CFile`可以包含其他数据，但必须在调用时将设置为持久性数据的第一个字节其读写指针`CreateControl`。

*bStorage*<br/>
指示是否在数据*pPersist*应解释为 IStorage 或 IStream 数据。 如果中的数据*pPersist*是存储*bStorage*应为 TRUE。 如果中的数据*pPersist*是一个流*bStorage*应为 FALSE。 默认值是 FALSE。

*bstrLicKey*<br/>
可选的许可证密钥数据。 仅用于创建控件需要运行时许可证密钥的情况下，需要此数据。 如果控件支持授权，则必须提供要成功完成的控件创建的许可证密钥。 默认值为 NULL。

*clsid*<br/>
控件的唯一类 ID。

### <a name="return-value"></a>返回值

如果成功，则不为 0；否则为 0。

### <a name="remarks"></a>备注

`CreateControl` 是的直接模拟[cwnd:: Create](#create)函数，创建的窗口`CWnd`。 `CreateControl` 创建 ActiveX 控件而不是普通的窗口。

Windows 的一个子集*dwStyle*支持标志`CreateControl`:

- WS_VISIBLE 创建初始可见的窗口。 如果您希望控件立即，像普通窗口可见，则必须填写。

- WS_DISABLED 创建最初处于禁用状态的窗口。 被禁用的窗口不能接收来自用户的输入。 如果控件具有已启用属性可以设置。

- WS_BORDER 创建与细线边框的窗口。 如果控件具有 BorderStyle 属性可以设置。

- WS_GROUP 指定一组控件的第一个控件。 用户可以通过使用箭头键键盘焦点从一个控件组中更改为下一步。 定义与 WS_GROUP 样式后的第一个控件属于相同组的所有控件。 WS_GROUP 样式的下一个控件结束组，并启动下一个组。

- WS_TABSTOP 指定一个在用户按 TAB 键时可以接收键盘焦点的控件。 按 TAB 键将键盘焦点更改到 WS_TABSTOP 样式的下一个控件。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#81](../../mfc/reference/codesnippet/cpp/cwnd-class_20.h)]

##  <a name="createex"></a>  CWnd::CreateEx

创建指定的窗口，并将其附加到`CWnd`对象。

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    LPCTSTR lpszClassName,
    LPCTSTR lpszWindowName,
    DWORD dwStyle,
    int x,
    int y,
    int nWidth,
    int nHeight,
    HWND hWndParent,
    HMENU nIDorHMenu,
    LPVOID lpParam = NULL);

virtual BOOL CreateEx(
    DWORD dwExStyle,
    LPCTSTR lpszClassName,
    LPCTSTR lpszWindowName,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID,
    LPVOID lpParam = NULL);
```

### <a name="parameters"></a>参数

*dwExStyle*<br/>
按位组合 (OR)[扩展窗口样式](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles); 否则为 NULL 的默认值扩展窗口样式。

*lpszClassName*<br/>
包含已注册的系统窗口类，则名称的以 null 结尾的字符串指针或预定义的系统窗口类的名称。

*lpszWindowName*<br/>
包含窗口的以 null 结尾的字符串指针显示名称;无窗口的显示名称，否则为 NULL。

*dwStyle*<br/>
按位组合 (OR)[的窗口样式](styles-used-by-mfc.md#window-styles); 否则为 NULL 的默认窗口样式。

*x*<br/>
从屏幕的左侧和右侧窗口或父窗口的初始的水平距离。

*y*<br/>
从屏幕顶部窗口或父窗口的初始的垂直距离。

*nWidth*<br/>
以像素为单位的窗口的宽度。

*nHeight*<br/>
以像素为单位的窗口的高度。

*hwndParent*<br/>
为子窗口的句柄的父窗口;否则为如果窗口具有一个所有者，所有者窗口的句柄。

*nIDorHMenu*<br/>
对于子窗口，窗口 ID 中;否则为该窗口的菜单的 ID。

*lpParam*<br/>
指向传递给的用户数据指针[CWnd::OnCreate](#oncreate)中的方法*lpCreateParams*字段。

*rect*<br/>
大小和窗口相对于屏幕或父窗口的位置。

*pParentWnd*<br/>
对于子窗口，指向父窗口;否则为到所有者窗口，如果窗口具有所有者的指针。

*nID*<br/>
对于子窗口，窗口 ID 中;否则为该窗口的菜单的 ID。

### <a name="return-value"></a>返回值

如果该方法成功，则为 TRUE否则为 FALSE。

### <a name="remarks"></a>备注

> [!WARNING]
> `CWnd::PreCreateWindow` 现在将分配的 hMenu 成员及其`CREATESTRUCT`参数**这**如果菜单为 NULL 且 style 包含 WS_CHILD 的指针。 能正常运行，请确保您的对话框控件有一个 ID，不为 NULL。
>
> 在托管/本机互操作方案中，此更改修复了崩溃。 一个`TRACE`中的语句`CWnd::Create`警报问题的开发人员。

扩展窗口样式默认为 WS_EX_LEFT。 默认窗口样式是 WS_OVERLAPPED。

使用[AfxRegisterWndClass](../../mfc/reference/application-information-and-management.md#afxregisterwndclass)函数注册窗口类。 用户定义的类是模块中提供注册所在的窗口。

子窗口的尺寸是相对于父窗口的工作区的左上角。 维度的顶级窗口是相对于屏幕的左上角。

[CWnd::OnCreate](#oncreate)方法之前调用`CreateEx`方法返回时，并在窗口变得可见之前。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#82](../../mfc/reference/codesnippet/cpp/cwnd-class_21.cpp)]

##  <a name="creategraycaret"></a>  CWnd::CreateGrayCaret

创建系统插入符号的灰色矩形，并声明将插入符号的所有权。

```
void CreateGrayCaret(
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>参数

*nWidth*<br/>
指定的宽度 （以逻辑单位） 将插入符号。 如果此参数为 0，则会将宽度设置为系统定义的窗口边框宽度。

*nHeight*<br/>
指定的高度 （以逻辑单位） 将插入符号。 如果此参数为 0，高度设置为系统定义的窗口边框高度。

### <a name="remarks"></a>备注

插入符号形状可以是一条线或块。

参数*nWidth*并*nHeight*指定插入符号的宽度和高度 （以逻辑单位）; 确切宽度和高度 （以像素为单位） 取决于映射模式。

可以通过检索系统的窗口边框宽度或高度[GetSystemMetrics](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) SM_CXBORDER 和 SM_CYBORDER 索引使用的 Windows 函数。 使用窗口边框宽度或高度可确保将插入符号将在高分辨率显示器上可见。

`CreateGrayCaret`成员函数自动销毁以前的插入符号形状，如果有，而不考虑哪个窗口拥有将插入符号。 创建后，一开始就隐藏插入符号。 若要显示插入符号[ShowCaret](#showcaret)必须调用成员函数。

系统插入符号是共享的资源。 `CWnd` 仅当它具有输入的焦点或处于活动状态时，应创建一个插入符号。 失去输入的焦点或处于非活动状态之前，它应销毁插入符号。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#83](../../mfc/reference/codesnippet/cpp/cwnd-class_22.cpp)]

##  <a name="createsolidcaret"></a>  CWnd::CreateSolidCaret

创建一个实心矩形为系统插入符号和声明将插入符号的所有权。

```
void CreateSolidCaret(
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>参数

*nWidth*<br/>
指定的宽度 （以逻辑单位） 将插入符号。 如果此参数为 0，则会将宽度设置为系统定义的窗口边框宽度。

*nHeight*<br/>
指定的高度 （以逻辑单位） 将插入符号。 如果此参数为 0，高度设置为系统定义的窗口边框高度。

### <a name="remarks"></a>备注

插入符号形状可以是行或块。

参数*nWidth*并*nHeight*指定插入符号的宽度和高度 （以逻辑单位）; 确切宽度和高度 （以像素为单位） 取决于映射模式。

可以通过检索系统的窗口边框宽度或高度[GetSystemMetrics](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) SM_CXBORDER 和 SM_CYBORDER 索引使用的 Windows 函数。 使用窗口边框宽度或高度可确保将插入符号将在高分辨率显示器上可见。

`CreateSolidCaret`成员函数自动销毁以前的插入符号形状，如果有，而不考虑哪个窗口拥有将插入符号。 创建后，一开始就隐藏插入符号。 若要显示插入符号[ShowCaret](#showcaret)必须调用成员函数。

系统插入符号是共享的资源。 `CWnd` 仅当它具有输入的焦点或处于活动状态时，应创建一个插入符号。 失去输入的焦点或处于非活动状态之前，它应销毁插入符号。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#84](../../mfc/reference/codesnippet/cpp/cwnd-class_23.cpp)]

##  <a name="cwnd"></a>  CWnd::CWnd

构造 `CWnd` 对象。

```
CWnd();
```

### <a name="remarks"></a>备注

不创建并附加到 Windows 窗口[CreateEx](#createex)或[创建](#create)调用成员函数。

##  <a name="default"></a>  CWnd::Default

调用默认窗口过程。

```
LRESULT Default();
```

### <a name="return-value"></a>返回值

取决于发送的消息。

### <a name="remarks"></a>备注

默认窗口过程提供了默认的应用程序不会处理任何窗口消息处理。 此成员函数可确保处理每条消息。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#85](../../mfc/reference/codesnippet/cpp/cwnd-class_24.cpp)]

##  <a name="defwindowproc"></a>  CWnd::DefWindowProc

调用默认窗口过程中，为应用程序不会处理任何窗口消息提供默认处理。

```
virtual LRESULT DefWindowProc(
    UINT message,
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>参数

*message*<br/>
指定要处理的 Windows 消息。

*wParam*<br/>
指定消息相关的其他信息。

*lParam*<br/>
指定消息相关的其他信息。

### <a name="return-value"></a>返回值

取决于发送的消息。

### <a name="remarks"></a>备注

此成员函数可确保处理每条消息。 它应使用相同的参数与由窗口过程接收调用。

##  <a name="deletetempmap"></a>  CWnd::DeleteTempMap

空闲时间处理程序将自动调用`CWinApp`对象。

```
static void PASCAL DeleteTempMap();
```

### <a name="remarks"></a>备注

删除任何临时`CWnd`创建的对象`FromHandle`成员函数。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#86](../../mfc/reference/codesnippet/cpp/cwnd-class_25.cpp)]

##  <a name="destroywindow"></a>  CWnd::DestroyWindow

销毁 Windows 窗口附加到`CWnd`对象。

```
virtual BOOL DestroyWindow();
```

### <a name="return-value"></a>返回值

如果窗口被破坏; 非零值否则为 0。

### <a name="remarks"></a>备注

`DestroyWindow`成员函数将相应的消息发送到窗口停用和删除输入的焦点。 它还销毁窗口的菜单，刷新应用程序队列、 销毁未完成的计时器，删除剪贴板所有权，并会中断的剪贴板查看器链接，如果`CWnd`是在查看器链的顶部。 它将发送[WM_DESTROY](#ondestroy)并[WM_NCDESTROY](#onncdestroy)到窗口的消息。 它不会销毁`CWnd`对象。

`DestroyWindow` 执行清理是一个占位符。 因为`DestroyWindow`是虚拟函数，它显示在任何`CWnd`-派生的类视图中的类。 但是，即使重写此函数中的你`CWnd`的派生的类，`DestroyWindow`不一定会调用。 如果`DestroyWindow`不调用在 MFC 代码中，则必须显式将它自己的代码中调用如果您希望其调用。

例如，假定你已重写`DestroyWindow`在`CView`-派生的类。 由于 MFC 源代码不会调用`DestroyWindow`中的任何其`CFrameWnd`的派生类中被重写的`DestroyWindow`除非显式调用，否则将不会调用。

如果在窗口的所有窗口的父级，父窗口已销毁时自动销毁这些子窗口。 `DestroyWindow`成员函数会销毁子窗口第一，然后窗口本身。

`DestroyWindow`成员函数还会通过创建无模式对话框销毁[CDialog::Create](../../mfc/reference/cdialog-class.md#create)。

如果`CWnd`正在销毁是子窗口，但尚未[WS_EX_NOPARENTNOTIFY](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles)样式集，则[WM_PARENTNOTIFY](/previous-versions/windows/desktop/inputmsg/wm-parentnotify)消息发送给父级。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#87](../../mfc/reference/codesnippet/cpp/cwnd-class_26.cpp)]

##  <a name="detach"></a>  CWnd::Detach

从 `CWnd` 对象分离 Windows 句柄并返回该句柄。

```
HWND Detach();
```

### <a name="return-value"></a>返回值

对 Windows 对象 HWND。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::Attach](#attach)。

##  <a name="dlgdirlist"></a>  CWnd::DlgDirList

使用文件或目录列表填充列表框。

```
int DlgDirList(
    LPTSTR lpPathSpec,
    int nIDListBox,
    int nIDStaticPath,
    UINT nFileType);
```

### <a name="parameters"></a>参数

*lpPathSpec*<br/>
指向包含路径或文件名的以 null 结尾的字符串。 `DlgDirList` 修改此字符串，它应该是足够长以包含所做的修改。 有关详细信息，请参阅以下"备注"部分。

*nIDListBox*<br/>
指定列表框的标识符。 如果*nIDListBox*为 0，`DlgDirList`假定列表框中不存在，并且不会尝试填充其中一个。

*nIDStaticPath*<br/>
指定用来显示当前驱动器和目录的静态文本控件的标识符。 如果*nIDStaticPath*为 0，`DlgDirList`假定文本控件不存在。

*nFileType*<br/>
指定要显示的文件的属性。 它可以是下列值中的任意组合：

- DDL_READWRITE 读写数据文件不具有任何其他属性。

- DDL_READONLY 只读文件。

- DDL_HIDDEN 隐藏的文件。

- DDL_SYSTEM 系统文件。

- DDL_DIRECTORY 目录。

- DDL_ARCHIVE 存档。

- DDL_POSTMSGS LB_DIR 标志。 如果设置了 LB_DIR 标志，Windows 会放置生成的消息`DlgDirList`中应用程序的队列; 否则，它们将直接发送到对话框过程。

- DDL_DRIVES 驱动器。 如果设置了 DDL_DRIVES 标志，自动设置 DDL_EXCLUSIVE 标志。 因此，若要创建包含驱动器和文件的目录列表，必须调用`DlgDirList`两次： 一次 DDL_DRIVES 标志集，一次使用的列表中的其他标记。

- DDL_EXCLUSIVE 独占位。 如果设置独占位，则会列出仅指定类型的文件;否则会列出普通文件和指定类型的文件。

### <a name="return-value"></a>返回值

如果该函数成功，则为非 0；否则为 0。

### <a name="remarks"></a>备注

`DlgDirList` 将发送[LB_RESETCONTENT](/windows/desktop/Controls/lb-resetcontent)并[LB_DIR](/windows/desktop/Controls/lb-dir)到列表框的消息。 填充列表框中指定的*nIDListBox*匹配给定的路径的所有文件的名称与*lpPathSpec*。

*LpPathSpec*参数具有以下形式：

`[drive:] [ [\u]directory[\idirectory]...\u] [filename]`

在此示例中，*驱动器*是驱动器号， *directory*是一个有效的目录名称，并*文件名*是有效的文件名必须包含至少一个通配符。 通配符为一个问号 (**？**)，这意味着匹配任何字符和一个星号 (<strong>\*</strong>)，这意味着匹配任意数量的字符。

如果指定 0 长度字符串*lpPathSpec*，或如果指定目录名称，但不是包含任何文件规范，该字符串将更改为"\*。\*"。

如果*lpPathSpec*包括驱动器和/或目录的名称、 当前驱动器和目录更改为指定的驱动器和目录之前填充列表框。 标识文本控件*nIDStaticPath*也会更新为新的驱动器和/或目录名称。

填充列表框后， *lpPathSpec*通过删除路径的驱动器和/或目录部分更新。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#88](../../mfc/reference/codesnippet/cpp/cwnd-class_27.cpp)]

##  <a name="dlgdirlistcombobox"></a>  CWnd::DlgDirListComboBox

使用文件或目录列表填充组合框的列表框。

```
int DlgDirListComboBox(
    LPTSTR lpPathSpec,
    int nIDComboBox,
    int nIDStaticPath,
    UINT nFileType);
```

### <a name="parameters"></a>参数

*lpPathSpec*<br/>
指向包含路径或文件名的以 null 结尾的字符串。 `DlgDirListComboBox` 修改此字符串，使此数据不应为字符串文本的形式。 请参阅以下"备注"部分。

*nIDComboBox*<br/>
在对话框中指定的组合框的标识符。 如果*nIDComboBox*为 0，`DlgDirListComboBox`假定没有组合框存在并且不会尝试填充其中一个。

*nIDStaticPath*<br/>
指定用来显示当前驱动器和目录的静态文本控件的标识符。 如果*nIDStaticPath*为 0，`DlgDirListComboBox`假定文本控件不存在。

*nFileType*<br/>
指定要显示的文件的 DOS 文件属性。 它可以是下列值中的任意组合：

- DDL_READWRITE 读写数据文件不具有任何其他属性。

- DDL_READONLY 只读文件。

- DDL_HIDDEN 隐藏的文件。

- DDL_SYSTEM 系统文件。

- DDL_DIRECTORY 目录。

- DDL_ARCHIVE 存档。

- DDL_POSTMSGS CB_DIR 标志。 如果设置了 CB_DIR 标志，Windows 会放置生成的消息`DlgDirListComboBox`中应用程序的队列; 否则，它们将直接发送到对话框过程。

- DDL_DRIVES 驱动器。 如果设置了 DDL_DRIVES 标志，自动设置 DDL_EXCLUSIVE 标志。 因此，若要创建包含驱动器和文件的目录列表，必须调用`DlgDirListComboBox`两次： 一次 DDL_DRIVES 标志集，一次使用的列表中的其他标记。

- DDL_EXCLUSIVE 独占位。 如果设置独占位，则会列出仅指定类型的文件;否则会列出普通文件和指定类型的文件。

### <a name="return-value"></a>返回值

指定函数的结果。 如果列表已进行，即使的空列表，它为非零值。 返回值为 0 意味着，输入的字符串不包含有效的搜索路径。

### <a name="remarks"></a>备注

`DlgDirListComboBox` 将发送[CB_RESETCONTENT](/windows/desktop/Controls/cb-resetcontent)并[CB_DIR](/windows/desktop/Controls/cb-dir)到组合框的消息。 填充组合框中指定的列表框*nIDComboBox*匹配给定的路径的所有文件的名称与*lpPathSpec*。

*LpPathSpec*参数具有以下形式：

`[drive:] [ [\u]directory[\idirectory]...\u] [filename]`

在此示例中，*驱动器*是驱动器号， *directory*是一个有效的目录名称，并*文件名*是有效的文件名必须包含至少一个通配符。 通配符为一个问号 (**？**)，这意味着匹配任何字符和一个星号 (<strong>\*</strong>)，这意味着匹配任意数量的字符。

如果指定的长度为零的字符串*lpPathSpec*，将使用当前目录并*lpPathSpec*不会被修改。 如果指定目录名称，但不是包含任何文件规范，该字符串将更改为"\*"。

如果*lpPathSpec*包括驱动器和/或目录的名称、 当前驱动器和目录更改为指定的驱动器和目录之前填充列表框。 标识文本控件*nIDStaticPath*也会更新为新的驱动器和/或目录名称。

填充组合框列表框后， *lpPathSpec*通过删除路径的驱动器和/或目录部分更新。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#89](../../mfc/reference/codesnippet/cpp/cwnd-class_28.cpp)]

##  <a name="dlgdirselect"></a>  CWnd::DlgDirSelect

从列表框检索当前所选内容。

```
BOOL DlgDirSelect(
    LPTSTR lpString,
    int nIDListBox);
```

### <a name="parameters"></a>参数

*lpString*<br/>
指向要在列表框中接收当前所选内容的缓冲区。

*nIDListBox*<br/>
在对话框中指定列表框的整数 ID。

### <a name="return-value"></a>返回值

如果成功，则不为 0；否则为 0。

### <a name="remarks"></a>备注

它假定，已通过填充列表框[DlgDirList](#dlgdirlist)成员函数和所选内容是驱动器号、 文件或目录名称。

`DlgDirSelect`成员函数将所选内容复制到由给定的缓冲区*lpString*。 如果未选择任何内容， *lpString*不会更改。

`DlgDirSelect` 将发送[LB_GETCURSEL](/windows/desktop/Controls/lb-getcursel)并[条 LB_GETTEXT](/windows/desktop/Controls/lb-gettext)到列表框的消息。

它不允许多个要从列表框中返回的文件名。 列表框不能多选列表框。

##  <a name="dlgdirselectcombobox"></a>  CWnd::DlgDirSelectComboBox

从组合框的列表框检索当前所选内容。

```
BOOL DlgDirSelectComboBox(
    LPTSTR lpString,
    int nIDComboBox);
```

### <a name="parameters"></a>参数

*lpString*<br/>
指向将接收所选的路径的缓冲区。

*nIDComboBox*<br/>
在对话框中指定组合框的整数 ID。

### <a name="return-value"></a>返回值

如果成功，则不为 0；否则为 0。

### <a name="remarks"></a>备注

它假定，已通过填充列表框[DlgDirListComboBox](#dlgdirlistcombobox)成员函数和所选内容是驱动器号、 文件或目录名称。

`DlgDirSelectComboBox`成员函数将所选内容复制到指定的缓冲区。 如果没有选择任何内容，不会更改缓冲区的内容。

`DlgDirSelectComboBox` 将发送[CB_GETCURSEL](/windows/desktop/Controls/cb-getcursel)并[CB_GETLBTEXT](/windows/desktop/Controls/cb-getlbtext)到组合框的消息。

它不允许多个要从组合框中返回的文件名。

##  <a name="dodataexchange"></a>  CWnd::DoDataExchange

由框架调用以交换和验证对话框数据。

```
virtual void DoDataExchange(CDataExchange* pDX);
```

### <a name="parameters"></a>参数

*pDX*<br/>
指向 `CDataExchange` 对象的指针。

### <a name="remarks"></a>备注

永远不会直接调用此函数。 调用[UpdateData](#updatedata)成员函数。 调用`UpdateData`初始化对话框的控件或在对话框中检索数据。

从一个特定于应用程序的对话框类的派生时[CDialog](../../mfc/reference/cdialog-class.md)，您需要重写此成员函数，如果你想要利用框架的自动数据交换和验证。 添加变量向导会为您包含所需编写此成员函数的重写的版本"数据映射"对话框数据交换 (DDX) 和验证 (DDV) 全局函数调用。

若要自动生成此成员函数的重写的版本，请首先使用对话框编辑器中，创建对话框资源，然后派生特定于应用程序的对话框类。 然后使用添加变量向导将变量、 数据和验证范围与新建对话框中的各个控件相关联。 然后该向导将写入被重写的`DoDataExchange`，其中包含数据映射。 下面是添加变量向导生成的一个示例 DDX/DDV 代码块：

[!code-cpp[NVC_MFCWindowing#90](../../mfc/reference/codesnippet/cpp/cwnd-class_29.cpp)]

`DoDataExchange`重写的成员函数必须位于宏语句之前在源文件中。

对话框数据交换和验证的详细信息，请参阅[显示和操作窗体中的数据](../../data/odbc/displaying-and-manipulating-data-in-a-form.md)并[对话框数据交换和验证](../../mfc/dialog-data-exchange-and-validation.md)。 添加变量向导生成的 DDX_ 和 DDV_ 宏的说明，请参阅[技术注意 26](../../mfc/tn026-ddx-and-ddv-routines.md)。

##  <a name="dragacceptfiles"></a>  CWnd::DragAcceptFiles

在窗口中，调用此成员函数使用`CWnd`指针，在应用程序的[cwinapp:: Initinstance](../../mfc/reference/cwinapp-class.md#initinstance)函数以指示窗口接受从 Windows 文件管理器或文件资源管理器中删除文件.

```
void DragAcceptFiles(BOOL bAccept = TRUE);
```

### <a name="parameters"></a>参数

*BAccept*<br/>
该标志指示是否接受拖动的文件。

### <a name="remarks"></a>备注

调用窗口`DragAcceptFiles`与*bAccept*设置为 TRUE 的参数已将自己标识为能够处理 Windows 消息 WM_DROPFILES。 例如，在 MDI 应用程序，如果`CMDIFrameWnd`中使用窗口指针`DragAcceptFiles`函数调用，仅`CMDIFrameWnd`窗口获取 WM_DROPFILES 消息。 此消息不会发送到所有打开`CMDIChildWnd`windows。 有关`CMDIChildWnd`窗口，以接收此消息，必须调用`DragAcceptFiles`与`CMDIChildWnd`窗口指针。

若要停止接收被拖动的文件，调用成员函数*bAccept*设置为 FALSE。

##  <a name="dragdetect"></a>  CWnd::DragDetect

捕获鼠标并跟踪其移动，直到用户释放左键、按 ESC 键或将鼠标移动到围绕指定点的拖动矩形外部。

```
BOOL DragDetect(POINT pt) const;
```

### <a name="parameters"></a>参数

*pt*<br/>
初始屏幕坐标中鼠标的位置。 此函数将确定通过使用此点的拖动矩形的坐标。

### <a name="return-value"></a>返回值

如果用户将鼠标移动到的拖动矩形外部同时按下左键，则返回值为非零值。

如果用户未同时按下左键移动鼠标拖动矩形之外，返回值为零。

### <a name="remarks"></a>备注

此成员函数模拟函数的功能[DragDetect](/windows/desktop/api/winuser/nf-winuser-dragdetect)，如 Windows SDK 中所述。

##  <a name="drawanimatedrects"></a>  CWnd::DrawAnimatedRects

绘制透明框架矩形并对它进行动画处理，以指示图标的打开或是窗口的最小化或最大化。

```
BOOL DrawAnimatedRects(
    int idAni,
    CONST RECT* lprcFrom,
    CONST RECT* lprcTo);
```

### <a name="parameters"></a>参数

*idAni*<br/>
指定动画的类型。 如果指定 IDANI_CAPTION，窗口标题将进行动画处理从指定的位置*lprcFrom*到指定的位置*lprcTo*。 效果相当于最小化或最大化窗口。

*lprcFrom*<br/>
指向[RECT](/previous-versions/dd162897\(v=vs.85\))结构，它指定的位置和大小的图标或最小化的窗口。

*lprcTo*<br/>
指向[RECT](/previous-versions/dd162897\(v=vs.85\))结构，它指定的位置和还原窗口的大小

### <a name="return-value"></a>返回值

如果函数成功，则为非零值；否则为

### <a name="remarks"></a>备注

此成员函数模拟函数的功能[DrawAnimatedRects](/windows/desktop/api/winuser/nf-winuser-drawanimatedrects)，如 Windows SDK 中所述。

##  <a name="drawcaption"></a>  CWnd::DrawCaption

绘制窗口标题。

```
BOOL DrawCaption(
    CDC* pDC,
    LPCRECT lprc,
    UINT uFlags);
```

### <a name="parameters"></a>参数

*pDC*<br/>
一个指向设备上下文的指针。 此函数绘制到此设备上下文窗口标题。

*lprc*<br/>
指向指定窗口标题的边框的 RECT 结构的指针。

*uFlags*<br/>
指定绘图选项。 值的完整列表，请参阅[DrawCaption](/windows/desktop/api/winuser/nf-winuser-drawcaption)。

### <a name="return-value"></a>返回值

如果函数成功，则为非零值；否则为

### <a name="remarks"></a>备注

此成员函数模拟函数的功能[DrawCaption](/windows/desktop/api/winuser/nf-winuser-drawcaption)，如 Windows SDK 中所述。

##  <a name="drawmenubar"></a>  CWnd::DrawMenuBar

重绘菜单栏。

```
void DrawMenuBar();
```

### <a name="remarks"></a>备注

如果 Windows 已创建窗口之后更改了菜单栏，，调用此函数可绘制更改的菜单栏。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::GetMenu](#getmenu)。

##  <a name="enableactiveaccessibility"></a>  CWnd::EnableActiveAccessibility

启用用户定义的活动辅助功能函数。

```
void EnableActiveAccessibility();
```

### <a name="remarks"></a>备注

MFC 的默认 Active Accessibility 的支持足以满足标准的 windows 和控件，包括 ActiveX 控件;但是，如果你`CWnd`的派生的类包含 nonwindowed 用户界面元素，MFC 有没有办法知道有关它们。 在这种情况下，您必须重写适当[Active Accessibility 成员函数](/windows/desktop/winauto/sdk-components)在类中，并且你必须调用`EnableActiveAccessibility`类的构造函数中。

##  <a name="enabledynamiclayout"></a>  CWnd::EnableDynamicLayout

启用或禁用动态布局管理器。 启用动态布局时，子窗口的位置和大小可以在用户调整窗口大小时动态调整。

```
void EnableDynamicLayout(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>参数

*bEnable*<br/>
如果为 TRUE，则启用动态布局；如果为 FALSE，则禁用动态布局。

### <a name="remarks"></a>备注

如果想要启用动态布局，你不只需要调用此方法。 还必须提供指定动态布局信息，此信息指定窗口中的控件如何响应大小更改。 可以在资源编辑器中（或以编程方式）为每个控件指定此信息。 请参阅[动态布局](../../mfc/dynamic-layout.md)。

##  <a name="enabled2dsupport"></a>  CWnd::EnableD2DSupport

启用或禁用窗口 D2D 支持。 在初始化主窗口之前调用此方法。

```
void EnableD2DSupport(
    BOOL bEnable = TRUE,
    BOOL bUseDCRenderTarget = FALSE);
```

### <a name="parameters"></a>参数

*bEnable*<br/>
指定是打开还是关闭 D2D 支持。

*bUseDCRenderTarget*<br/>
指定是否使用设备上下文 (DC) 呈现器目标 CDCRenderTarget。 如果为 FALSE，则使用 CHwndRenderTarget。

##  <a name="enablescrollbar"></a>  CWnd::EnableScrollBar

启用或禁用滚动条的一个或两个箭头。

```
BOOL EnableScrollBar(
    int nSBFlags,
    UINT nArrowFlags = ESB_ENABLE_BOTH);
```

### <a name="parameters"></a>参数

*nSBFlags*<br/>
指定滚动条类型。 可以具有以下值之一：

- SB_BOTH 启用或禁用与窗口相关联的水平和垂直滚动条箭头。

- SB_HORZ 启用或禁用与窗口相关联的水平滚动条箭头。

- SB_VERT 启用或禁用与窗口相关联的垂直滚动条箭头。

*nArrowFlags*<br/>
指定滚动条箭头是启用还是禁用和启用或禁用的箭头。 可以具有以下值之一：

- ESB_ENABLE_BOTH 使这两个箭头的滚动条 （默认值）。

- ESB_DISABLE_LTUP 禁用水平滚动条的左侧的箭头或垂直滚动条的向上箭头。

- ESB_DISABLE_RTDN 禁用水平滚动条向右箭头或垂直滚动条的向下箭头。

- ESB_DISABLE_BOTH 禁用这两个滚动条的滚动箭头。

### <a name="return-value"></a>返回值

如果启用或禁用指定箭头，非零值。 否则，它是 0，表示箭头已处于请求的状态或发生了错误。

##  <a name="enablescrollbarctrl"></a>  CWnd::EnableScrollBarCtrl

启用或禁用此窗口的滚动条。

```
void EnableScrollBarCtrl(
    int nBar,
    BOOL bEnable = TRUE);
```

### <a name="parameters"></a>参数

*nBar*<br/>
滚动条标识符。

*bEnable*<br/>
指定是否要启用或禁用滚动条。

### <a name="remarks"></a>备注

如果窗口具有同级滚动条控件，则使用该滚动条;否则使用窗口的滚动条。

##  <a name="enabletooltips"></a>  CWnd::EnableToolTips

使给定窗口的工具提示。

```
BOOL EnableToolTips(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>参数

*bEnable*<br/>
指定是启用还是禁用工具提示控件。 TRUE，可控制;False，则禁用控件。

### <a name="return-value"></a>返回值

如果启用了工具提示，则为 TRUE否则为 FALSE。

### <a name="remarks"></a>备注

重写[OnToolHitTest](#ontoolhittest)提供[TOOLINFO](/windows/desktop/api/commctrl/ns-commctrl-tagtoolinfoa)结构或结构窗口。

> [!NOTE]
> 某些窗口，如[CToolBar](../../mfc/reference/ctoolbar-class.md)，提供的内置实现[OnToolHitTest](#ontoolhittest)。

请参阅[TOOLINFO](/windows/desktop/api/commctrl/ns-commctrl-tagtoolinfoa)适用于此结构的详细信息的 Windows SDK 中。

只需调用`EnableToolTips`不足以显示工具提示，对于你的子女控件，除非父窗口派生自`CFrameWnd`。 这是因为`CFrameWnd`TTN_NEEDTEXT 通知提供默认处理程序。 如果父窗口不派生自`CFrameWnd`，这就是，如果它是一个对话框或窗体视图，你的子女除非 TTN_NEEDTEXT 工具提示通知提供处理程序，不会正确显示控件的工具提示。 请参阅[工具提示](../../mfc/tool-tips-in-windows-not-derived-from-cframewnd.md)。

对由 windows 提供的默认工具提示`EnableToolTips`不具有与其关联的文本。 若要检索要显示的工具提示文本，TTN_NEEDTEXT 通知之前会发送到工具提示控件的父窗口只显示工具提示窗口。 如果没有将某些值分配给此消息处理程序*pszText*的成员`TOOLTIPTEXT`结构，将有没有为工具提示显示的文本。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#91](../../mfc/reference/codesnippet/cpp/cwnd-class_30.cpp)]

[!code-cpp[NVC_MFCWindowing#92](../../mfc/reference/codesnippet/cpp/cwnd-class_31.cpp)]

##  <a name="enabletrackingtooltips"></a>  CWnd::EnableTrackingToolTips

启用或禁用跟踪工具提示。

```
BOOL EnableTrackingToolTips(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>参数

*bEnable*<br/>
指定是否跟踪的工具启用或禁用提示。 如果此参数为 TRUE，提示将启用的跟踪工具。 如果此参数为 FALSE，提示将被禁用的跟踪工具。

### <a name="return-value"></a>返回值

指示前的状态`EnableWindow`调用成员函数。 返回值为非零，如果窗口之前处于禁用状态。 如果之前已启用窗口或发生了错误，则返回值为 0。

### <a name="remarks"></a>备注

跟踪工具提示是可以动态地定位屏幕的工具提示窗口。 通过快速更新位置，工具提示窗口看起来非常顺利，移动或"跟踪"。 此功能非常有用，如果你需要遵循指针的位置中移动的工具提示文本。

##  <a name="enablewindow"></a>  CWnd::EnableWindow

启用或禁用鼠标和键盘输入。

```
BOOL EnableWindow(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>参数

*bEnable*<br/>
指定是否要启用或禁用给定的窗口。 如果此参数为 TRUE，将启用窗口。 如果此参数为 FALSE，则将禁用该窗口。

### <a name="return-value"></a>返回值

指示前的状态`EnableWindow`调用成员函数。 返回值为非零，如果窗口之前处于禁用状态。 如果之前已启用窗口或发生了错误，则返回值为 0。

### <a name="remarks"></a>备注

当禁用输入时，输入如鼠标点击操作和击键将被忽略。 启用输入后，窗口将处理所有的输入。

如果更改已启用的状态，请[WM_ENABLE](#onenable)之前此函数将返回发送消息。

如果禁用，将隐式禁用所有子窗口，尽管它们不会发送 WM_ENABLE 消息。

在可以激活之前，必须启用一个窗口。 例如，如果应用程序显示无模式对话框和已禁用其主窗口，销毁对话框之前必须启用了主窗口。 否则为另一个窗口中将获得输入的焦点，激活。 如果禁用了子窗口，则将忽略在 Windows 尝试确定哪个窗口应获取鼠标消息。

默认情况下，在创建时启用的时段。 应用程序可以指定在 WS_DISABLED 样式[创建](#create)或[CreateEx](#createex)成员函数来创建最初处于禁用状态的窗口。 创建一个窗口后，应用程序还可以使用`EnableWindow`成员函数来启用或禁用窗口。

应用程序可以使用此函数来启用或禁用在对话框中的控件。 禁用的控件无法接收输入的焦点，也可以在用户访问它。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#93](../../mfc/reference/codesnippet/cpp/cwnd-class_32.cpp)]

##  <a name="endmodalloop"></a>  CWnd::EndModalLoop

终止调用`RunModalLoop`。

```
virtual void EndModalLoop(int nResult);
```

### <a name="parameters"></a>参数

*nResult*<br/>
包含要返回给调用方的值[runmodalloop 调用](#runmodalloop)。

### <a name="remarks"></a>备注

*N 结果*参数传播到的返回值`RunModalLoop`。

##  <a name="endmodalstate"></a>  CWnd::EndModalState

调用此成员函数以将框架窗口从有模式更改为无模式。

```
virtual void EndModalState();
```

##  <a name="endpaint"></a>  CWnd::EndPaint

将标记在给定窗口中绘制的末尾。

```
void EndPaint(LPPAINTSTRUCT lpPaint);
```

### <a name="parameters"></a>参数

*lpPaint*<br/>
指向[PAINTSTRUCT](/windows/desktop/api/winuser/ns-winuser-tagpaintstruct)结构，其中包含通过检索到的绘制信息[BeginPaint](#beginpaint)成员函数。

### <a name="remarks"></a>备注

`EndPaint`成员函数是所必需的每次调用`BeginPaint`成员函数，但仅绘制完成后。

如果将插入符号隐藏的由`BeginPaint`成员函数`EndPaint`将插入符号还原到屏幕。

### <a name="example"></a>示例

  有关示例，请参阅[cwnd:: Beginpaint](#beginpaint)。

##  <a name="executedlginit"></a>  CWnd::ExecuteDlgInit

启动对话框资源。

```
BOOL ExecuteDlgInit(LPCTSTR lpszResourceName);
BOOL ExecuteDlgInit(LPVOID lpResource);
```

### <a name="parameters"></a>参数

*lpszResourceName*<br/>
指向一个以 null 结尾的字符串，指定资源的名称的指针。

*lpResource*<br/>
指向资源的指针。

### <a name="return-value"></a>返回值

如果执行对话框资源; 则为 TRUE否则为 FALSE。

### <a name="remarks"></a>备注

`ExecuteDlgInit` 将使用绑定到的正在执行的模块的资源从其他源。 若要完成此操作，请`ExecuteDlgInit`的调用来查找资源句柄`AfxFindResourceHandle`。 如果您的 MFC 应用程序不使用在共享的 DLL (MFCx0 [U] [D]。DLL)，`AfxFindResourceHandle`调用[AfxGetResourceHandle](application-information-and-management.md#afxgetresourcehandle)，这会返回可执行文件的当前资源句柄。 如果您使用 MFCx0 的 MFC 应用程序 [U] [D]。DLL`AfxFindResourceHandle`遍历`CDynLinkLibrary`对象列表中的共享和 MFC 扩展 Dll 寻找正确的资源处理。

##  <a name="filtertooltipmessage"></a>  CWnd::FilterToolTipMessage

由框架调用以显示工具提示消息。

```
void FilterToolTipMessage(MSG* pMsg);
```

### <a name="parameters"></a>参数

*pMsg*<br/>
工具提示消息指向的指针。

### <a name="remarks"></a>备注

大多数 MFC 应用程序中调用此方法由从框架[PreTranslateMessage](#pretranslatemessage)并[EnableToolTips](#enabletooltips)，并且不需要自行调用。

但是，在某些应用程序，例如某些 ActiveX 控件，这些方法可能不会调用由框架，并将需要自行调用 FilterToolTipMessage。 有关详细信息，请参阅[方法的创建工具提示](../../mfc/methods-of-creating-tool-tips.md)。

##  <a name="findwindow"></a>  CWnd::FindWindow

返回顶级`CWnd`由给定的窗口类*lpszClassName*并由给定的窗口名称或标题*lpszWindowName*。

```
static CWnd* PASCAL FindWindow(
    LPCTSTR lpszClassName,
    LPCTSTR lpszWindowName);
```

### <a name="parameters"></a>参数

*lpszClassName*<br/>
指向一个以 null 结尾的字符串，指定窗口的类名 (`WNDCLASS`结构)。 如果*lpClassName*为 NULL，所有的类名称匹配。

*lpszWindowName*<br/>
指向一个以 null 结尾的字符串，指定窗口名称 （窗口的标题）。 如果*lpWindowName*为 NULL，所有的窗口名称匹配。

### <a name="return-value"></a>返回值

标识具有指定的类名称和窗口名称的窗口。 如果不找到任何此类窗口，则为 NULL。

`CWnd`* 可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

此函数不会搜索子窗口。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#94](../../mfc/reference/codesnippet/cpp/cwnd-class_33.cpp)]

##  <a name="findwindowex"></a>  CWnd::FindWindowEx

检索其类名和窗口名称与指定的字符串匹配的窗口对象。

```
static CWnd* FindWindowEx(
    HWND hwndParent,
    HWND hwndChildAfter,
    LPCTSTR lpszClass,
    LPCTSTR lpszWindow);
```

### <a name="parameters"></a>参数

*hwndParent*<br/>
要搜索的子窗口的父窗口的句柄。

*hwndChildAfter*<br/>
子窗口的句柄。 搜索以开头的 Z 顺序中的下一步子窗口。 子窗口必须的直接子窗口*hwndParent*，而不仅仅是一个子代窗口。

*lpszClass*<br/>
指向一个以 null 结尾的字符串，指定的类名或创建的以前调用类 atom [RegisterClass](/windows/desktop/api/winuser/nf-winuser-registerclassa)或[RegisterClassEx](/windows/desktop/api/winuser/nf-winuser-registerclassexa)。

*lpszWindow*<br/>
指向一个以 null 结尾的字符串，指定窗口名称 （窗口的标题）。 如果此参数为 NULL，则所有的窗口名称匹配。

### <a name="return-value"></a>返回值

如果函数成功，返回值是指向具有指定的类和窗口名称的窗口对象的指针。 如果函数失败，返回值为 NULL。

### <a name="remarks"></a>备注

此成员函数模拟函数的功能[FindWindowEx](/windows/desktop/api/winuser/nf-winuser-findwindowexa)，如 Windows SDK 中所述。

##  <a name="flashwindow"></a>  CWnd::FlashWindow

使给定的窗口闪烁一次。

```
BOOL FlashWindow(BOOL bInvert);
```

### <a name="parameters"></a>参数

*bInvert*<br/>
指定是否`CWnd`是已刷新或返回到其原始状态。 `CWnd`刷新从一个状态为其他 if *bInvert*为 TRUE。 如果*bInvert*为 FALSE 时，该窗口返回到其原始状态 （活动或非活动）。

### <a name="return-value"></a>返回值

如果在窗口处于活动状态对调用之前，非零值`FlashWindow`成员函数; 否则为 0。

### <a name="remarks"></a>备注

对于连续闪烁创建系统计时器并重复调用`FlashWindow`。 闪烁`CWnd`意味着更改其标题栏的外观像`CWnd`要更改从非活动状态为活动状态，反之亦然。 （非活动标题栏将变为活动标题栏，活动标题栏将变为非活动标题栏。）

通常情况下，一个窗口是已刷新，以通知用户，它需要关注，但它不当前具有输入的焦点。

*BInvert*参数应为 FALSE，仅当在窗口即将输入的焦点，将不再会闪烁; 它应为 TRUE 时正在等待获取输入的焦点的连续调用上。

此函数始终返回非零值的最小化窗口。 最小化窗口时，`FlashWindow`只需将闪烁窗口的图标;*bInvert*对于最小化窗口将被忽略。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#95](../../mfc/reference/codesnippet/cpp/cwnd-class_34.cpp)]

##  <a name="flashwindowex"></a>  CWnd::FlashWindowEx

使给定的窗口闪烁。

```
BOOL FlashWindowEx(
    DWORD dwFlags,
    UINT uCount,
    DWORD dwTimeout);
```

### <a name="parameters"></a>参数

*dwFlags*<br/>
指定的闪存的状态。 值的完整列表，请参阅[FLASHWINFO](/windows/desktop/api/winuser/ns-winuser-flashwinfo)结构。

*uCount*<br/>
指定的次数闪烁窗口。

*dwTimeout*<br/>
指定以毫秒为单位，窗口将已刷新的速率。 如果*dwTimeout*为零，则函数将使用默认光标闪烁速率。

### <a name="return-value"></a>返回值

返回的值指定窗口的状态对调用之前`FlashWindowEx`函数。 如果窗口标题绘制为活动状态的调用之前，返回值为非零值。 否则，返回值为零。

### <a name="remarks"></a>备注

此方法来模拟函数的功能[FlashWindowEx](/windows/desktop/api/winuser/nf-winuser-flashwindowex)，如 Windows SDK 中所述。

##  <a name="fromhandle"></a>  CWnd::FromHandle

在提供了窗口的句柄时返回指向 `CWnd` 对象的指针。 如果 `CWnd` 对象未附加到该句柄，则会创建并附加一个临时 `CWnd` 对象。

```
static CWnd* PASCAL FromHandle(HWND hWnd);
```

### <a name="parameters"></a>参数

*hWnd*<br/>
Windows 窗口的 HWND。

### <a name="return-value"></a>返回值

在提供了窗口的句柄时返回指向 `CWnd` 对象的指针。 如果 `CWnd` 对象未附加到该句柄，则会创建并附加一个临时 `CWnd` 对象。

该指针可能是暂时的，不应存储起来供将来使用。

##  <a name="fromhandlepermanent"></a>  CWnd::FromHandlePermanent

在提供了窗口的句柄时返回指向 `CWnd` 对象的指针。

```
static CWnd* PASCAL FromHandlePermanent(HWND hWnd);
```

### <a name="parameters"></a>参数

*hWnd*<br/>
Windows 窗口的 HWND。

### <a name="return-value"></a>返回值

指向 `CWnd` 对象的指针。

### <a name="remarks"></a>备注

如果`CWnd`对象未附加到该句柄，则返回 NULL。

此函数，但不同于[FromHandle](#fromhandle)，不会创建临时对象。

##  <a name="get_accchild"></a>  CWnd::get_accChild

由框架调用以检索指定子级的 `IDispatch` 接口地址。

```
virtual HRESULT get_accChild(
    VARIANT varChild,
    IDispatch** ppdispChild);
```

### <a name="parameters"></a>参数

*varChild*<br/>
标识的子级的`IDispatch`接口是要检索。

*ppdispChild*<br/>
接收的子对象的地址`IDispatch`接口。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中[IAccessible::get_accChild](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accchild) Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`-如果有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理） 派生的类。

有关详细信息，请参阅[IAccessible::get_accChild](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accchild) Windows SDK 中。

##  <a name="get_accchildcount"></a>  CWnd::get_accChildCount

由框架调用调用以检索属于该对象的子级的个数。

```
virtual HRESULT get_accChildCount(long* pcountChildren);
```

### <a name="parameters"></a>参数

*pcountChildren*<br/>
接收的子级的个数。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中[IAccessible::get_accChildCount](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accchildcount) Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`-如果有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理） 派生的类。 调用基类版本，然后添加 nonwindowed 子元素。

有关详细信息，请参阅[IAccessible::get_accChildCount](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accchildcount) Windows SDK 中。

##  <a name="get_accdefaultaction"></a>  CWnd::get_accDefaultAction

由框架调用以检索描述对象默认操作的字符串。

```
virtual HRESULT get_accDefaultAction(
    VARIANT varChild,
    BSTR* pszDefaultAction);
```

### <a name="parameters"></a>参数

*varChild*<br/>
指定是否要检索的默认操作为对象或对象的子元素之一。 此参数可以是 CHILDID_SELF （若要获取有关对象的信息） 或子级 ID （若要获取有关对象的子元素的信息）。

*pszDefaultAction*<br/>
接收描述的默认操作为指定的对象，则为 NULL，如果此对象没有默认操作的已本地化的字符串的 BSTR 的地址。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中[IAccessible::get_accDefaultAction](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accdefaultaction) Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`的派生类，用于描述对象的默认操作。

有关详细信息，请参阅[IAccessible::get_accDefaultAction](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accdefaultaction) Windows SDK 中。

##  <a name="get_accdescription"></a>  CWnd::get_accDescription

由框架调用以检索描述指定对象的可视外观的字符串。

```
virtual HRESULT get_accDescription(
    VARIANT varChild,
    BSTR* pszDescription);
```

### <a name="parameters"></a>参数

*varChild*<br/>
指定是否要检索的说明为对象或对象的子元素之一。 此参数可以是 CHILDID_SELF （若要获取有关对象的信息） 或子级 ID （若要获取有关对象的子元素的信息）。

*pszDescription*<br/>
如果没有说明，则可用于此对象，则为 NULL 或接收描述指定的对象的已本地化的字符串的 BSTR 的地址。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中[IAccessible::get_accDescription](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accdescription) Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`的派生类，用于描述您的对象。 调用基类版本并添加您的描述。

有关详细信息，请参阅[IAccessible::get_accDescription](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accdescription) Windows SDK 中。

##  <a name="get_accfocus"></a>  CWnd::get_accFocus

由框架调用以检索具有键盘焦点的对象。

```
virtual HRESULT get_accFocus(VARIANT* pvarChild);
```

### <a name="parameters"></a>参数

*pvarChild*<br/>
接收具有焦点的对象的相关信息。 请参阅*pvarID*中[IAccessible::get_accFocus](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accfocus) Windows SDK 中。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中`IAccessible::get_accFocus`Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`-如果有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理） 派生的类。

有关详细信息，请参阅[IAccessible::get_accFocus](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accfocus) Windows SDK 中。

##  <a name="get_acchelp"></a>  CWnd::get_accHelp

由框架调用以检索对象的**帮助**属性字符串。

```
virtual HRESULT get_accHelp(
    VARIANT varChild,
    BSTR* pszHelp);
```

### <a name="parameters"></a>参数

*varChild*<br/>
指定要检索的帮助信息是否为的对象或对象的子元素之一。 此参数可以是 CHILDID_SELF （若要获取有关对象的信息） 或子级 ID （若要获取有关对象的子元素的信息）。

*pszHelp*<br/>
接收包含指定的对象，则为 NULL 的帮助信息，如果没有帮助信息，则已本地化的字符串的 BSTR 的地址。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中[IAccessible::get_accHelp](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_acchelp) Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`的派生类来为对象提供帮助文本。

有关详细信息，请参阅[IAccessible::get_accHelp](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_acchelp) Windows SDK 中。

##  <a name="get_acchelptopic"></a>  CWnd::get_accHelpTopic

由框架调用以检索的完整路径**WinHelp**与指定的对象和该文件内相应主题的标识符关联的文件。

```
virtual HRESULT get_accHelpTopic(
    BSTR* pszHelpFile,
    VARIANT varChild,
    long* pidTopic);
```

### <a name="parameters"></a>参数

*pszHelpFile*<br/>
接收的完整路径的 BSTR 的地址`WinHelp`关联与指定的对象，如果任何文件。

*varChild*<br/>
指定要检索的帮助主题是否为的对象或对象的子元素之一。 此参数可以是子的 CHILDID_SELF （若要获取帮助主题的对象） 或子级 ID （若要获取一个对象元素帮助主题）。

*pidTopic*<br/>
标识与指定对象相关联的帮助文件主题。 请参阅*pidTopic*中[IAccessible::get_accHelpTopic](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_acchelptopic) Windows SDK 中。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中`IAccessible::get_accHelpTopic`Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`的派生类以提供有关您的对象的帮助信息。

有关详细信息，请参阅[IAccessible::get_accHelpTopic](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_acchelptopic) Windows SDK 中。

##  <a name="get_acckeyboardshortcut"></a>  CWnd::get_accKeyboardShortcut

由框架调用以检索指定对象的快捷键或访问键。

```
virtual HRESULT get_accKeyboardShortcut(
    VARIANT varChild,
    BSTR* pszKeyboardShortcut);
```

### <a name="parameters"></a>参数

*varChild*<br/>
指定是否要检索的键盘快捷方式为对象或对象的子元素之一。 此参数可以是 CHILDID_SELF （若要获取有关对象的信息） 或子级 ID （若要获取有关对象的子元素的信息）。

*pszKeyboardShortcut*<br/>
接收键盘快捷方式，用于标识的已本地化的字符串的 BSTR 的地址，或如果没有键盘快捷键与指定的对象相关联，则为 NULL。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中[IAccessible::get_accKeyboardShortcut](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_acckeyboardshortcut) Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`的派生类，以标识您的对象的键盘快捷方式。

有关详细信息，请参阅[IAccessible::get_accKeyboardShortcut](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_acckeyboardshortcut) Windows SDK 中。

##  <a name="get_accname"></a>  CWnd::get_accName

由框架调用以检索指定对象的名称。

```
virtual HRESULT get_accName(
    VARIANT varChild,
    BSTR* pszName);
```

### <a name="parameters"></a>参数

*varChild*<br/>
指定是否要检索的名称为对象或对象的子元素之一。 此参数可以是 CHILDID_SELF （若要获取有关对象的信息） 或子级 ID （若要获取有关对象的子元素的信息）。

*pszName*<br/>
接收包含指定的对象的名称的字符串的 BSTR 的地址。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中[IAccessible::get_accName](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accname) Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`的派生类以返回对象的名称。

有关详细信息，请参阅[IAccessible::get_accName](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accname) Windows SDK 中。

##  <a name="get_accparent"></a>  CWnd::get_accParent

由框架调用以检索对象父级的 `IDispatch` 接口。

```
virtual HRESULT get_accParent(IDispatch** ppdispParent);
```

### <a name="parameters"></a>参数

*ppdispParent*<br/>
接收的父对象的地址`IDispatch`接口。 如果没有父存在，或者如果子级不能访问其父级，该变量设置为 NULL。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中[IAccessible::get_accParent](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accparent) Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

在大多数情况下，您无需重写此函数。

有关详细信息，请参阅[IAccessible::get_accParent](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accparent) Windows SDK 中。

##  <a name="get_accrole"></a>  CWnd::get_accRole

由框架调用以检索描述指定对象的角色的信息。

```
virtual HRESULT get_accRole(
    VARIANT varChild,
    VARIANT* pvarRole);
```

### <a name="parameters"></a>参数

*varChild*<br/>
指定要检索的角色信息是否为的对象或对象的子元素之一。 此参数可以是 CHILDID_SELF （若要获取有关对象的信息） 或子级 ID （若要获取有关对象的子元素的信息）。

*pvarRole*<br/>
接收的角色信息。 请参阅*pvarRole*中[IAccessible::get_accRole](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accrole) Windows SDK 中。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中`IAccessible::get_accRole`Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`-如果有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理） 派生的类。

有关详细信息，请参阅[IAccessible::get_accRole](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accrole) Windows SDK 中。

##  <a name="get_accselection"></a>  CWnd::get_accSelection

由框架调用以检索该对象的选定子级。

```
virtual HRESULT get_accSelection(VARIANT* pvarChildren);
```

### <a name="parameters"></a>参数

*pvarChildren*<br/>
接收有关该选择子级的信息。 请参阅*pvarChildren*中[IAccessible::get_accSelection](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accselection) Windows SDK 中。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中`IAccessible::get_accSelection`Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`-如果有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理） 派生的类。

有关详细信息，请参阅[IAccessible::get_accSelection](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accselection) Windows SDK 中。

##  <a name="get_accstate"></a>  CWnd::get_accState

由框架调用以检索指定对象的当前状态。

```
virtual HRESULT get_accState(
    VARIANT varChild,
    VARIANT* pvarState);
```

### <a name="parameters"></a>参数

*varChild*<br/>
指定要检索的状态信息是否为的对象或对象的子元素之一。 此参数可以是 CHILDID_SELF （若要获取有关对象的信息） 或子级 ID （若要获取有关对象的子元素的信息）。

*pvarState*<br/>
接收对象的状态的相关信息。 请参阅*pvarState*中[IAccessible::get_accState](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accstate) Windows SDK 中。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中`IAccessible::get_accState`Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`-如果有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理） 派生的类。

有关详细信息，请参阅[IAccessible::get_accState](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accstate) Windows SDK 中。

##  <a name="get_accvalue"></a>  CWnd::get_accValue

由框架调用以检索指定对象的值。

```
virtual HRESULT get_accValue(
    VARIANT varChild,
    BSTR* pszValue);
```

### <a name="parameters"></a>参数

*varChild*<br/>
指定要检索的值信息是否为的对象或对象的子元素之一。 此参数可以是 CHILDID_SELF （若要获取有关对象的信息） 或子级 ID （若要获取有关对象的子元素的信息）。

*pszValue*<br/>
接收包含对象的当前值的已本地化的字符串的 bstr 的地址。

### <a name="return-value"></a>返回值

如果成功，COM 错误代码在失败时返回 S_OK。 请参阅**返回值**中[IAccessible::get_accValue](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accvalue) Windows SDK 中。

### <a name="remarks"></a>备注

此函数是 MFC 的组成部分[Active Accessibility](/windows/desktop/WinAuto/microsoft-active-accessibility)支持。

重写此函数中的你`CWnd`-如果有 nonwindowed 用户界面元素 （而不是无窗口 ActiveX 控件，MFC 处理） 派生的类。

有关详细信息，请参阅[IAccessible::get_accValue](/windows/desktop/api/oleacc/nf-oleacc-iaccessible-get_accvalue) Windows SDK 中。

##  <a name="getactivewindow"></a>  CWnd::GetActiveWindow

检索指向活动窗口的指针。

```
static CWnd* PASCAL GetActiveWindow();
```

### <a name="return-value"></a>返回值

活动窗口或如果没有窗口处于活动状态在调用时则为 NULL。 该指针可能是暂时的，不应存储起来供将来使用。

### <a name="remarks"></a>备注

活动窗口是当前具有输入的焦点的窗口或明确指定为活动状态窗口[SetActiveWindow](#setactivewindow)成员函数。

##  <a name="getancestor"></a>  CWnd::GetAncestor

检索指定窗口的上级先窗口对象。

```
CWnd* GetAncestor(UINT gaFlags) const;
```

### <a name="parameters"></a>参数

*gaFlags*<br/>
指定要检索的上级。 有关可能的值的完整列表，请参阅[GetAncestor](/windows/desktop/api/winuser/nf-winuser-getancestor)。

### <a name="return-value"></a>返回值

如果函数成功，返回值是指向上级先窗口对象的指针。 如果函数失败，返回值为 NULL。

### <a name="remarks"></a>备注

此成员函数模拟函数的功能[GetAncestor](/windows/desktop/api/winuser/nf-winuser-getancestor)，如 Windows SDK 中所述。

##  <a name="getcapture"></a>  CWnd::GetCapture

检索具有鼠标捕获的窗口。

```
static CWnd* PASCAL GetCapture();
```

### <a name="return-value"></a>返回值

标识具有鼠标捕获的窗口。 如果没有窗口具有鼠标捕获，则为 NULL。

返回值可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

只有一个窗口具有鼠标捕获任何给定时间。 窗口接收鼠标捕获时[SetCapture](#setcapture)调用成员函数。 此窗口接收指示光标在其边框内的鼠标输入。

##  <a name="getcaretpos"></a>  CWnd::GetCaretPos

检索插入符号的当前位置的客户端坐标，并将它们作为返回`CPoint`。

```
static CPoint PASCAL GetCaretPos();
```

### <a name="return-value"></a>返回值

[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，包含插入符号的位置的坐标。

### <a name="remarks"></a>备注

中的客户端坐标提供插入符号位置`CWnd`窗口。

##  <a name="getcheckedradiobutton"></a>  CWnd::GetCheckedRadioButton

检索指定组中的当前选中的单选按钮的 ID。

```
int GetCheckedRadioButton(
    int nIDFirstButton,
    int nIDLastButton);
```

### <a name="parameters"></a>参数

*nIDFirstButton*<br/>
指定组中的第一个单选按钮的整数标识符。

*nIDLastButton*<br/>
指定组中的最后一个单选按钮的整数标识符。

### <a name="return-value"></a>返回值

选中的单选按钮或如果选择无，则为 0 的 ID。

##  <a name="getclientrect"></a>  CWnd::GetClientRect

将复制的客户端坐标`CWnd`指向到结构的工作区*lpRect*。

```
void GetClientRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>参数

*lpRect*<br/>
指向[RECT 结构](/windows/desktop/api/windef/ns-windef-tagrect)或`CRect`对象以接收客户端坐标。 `left`和`top`成员将为 0。 `right`和`bottom`成员将包含的宽度和高度的窗口。

### <a name="remarks"></a>备注

客户端坐标指定客户端区域的左上角和右下角。 由于客户端坐标都相对于左上角的`CWnd`客户端区域中，左上角的坐标为 (0，0)。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::IsIconic](#isiconic)。

##  <a name="getclipboardowner"></a>  CWnd::GetClipboardOwner

检索剪贴板当前所有者。

```
static CWnd* PASCAL GetClipboardOwner();
```

### <a name="return-value"></a>返回值

标识拥有剪贴板，如果函数运行成功的窗口。 否则，它为 NULL。

返回的指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

即使当前不属于，剪贴板仍可以包含数据。

##  <a name="getclipboardviewer"></a>  CWnd::GetClipboardViewer

检索剪贴板查看器链中的第一个窗口。

```
static CWnd* PASCAL GetClipboardViewer();
```

### <a name="return-value"></a>返回值

标识当前负责显示剪贴板如果成功，则窗口（例如，如果没有任何查看器），否则为 NULL。

返回的指针可能是暂时的不应存储供以后使用。

##  <a name="getcontrolunknown"></a>  CWnd::GetControlUnknown

调用此成员函数以检索指向未知 OLE 控件的指针。

```
LPUNKNOWN GetControlUnknown();
```

### <a name="return-value"></a>返回值

一个指向[IUnknown](/windows/desktop/api/unknwn/nn-unknwn-iunknown)由此所表示的 OLE 控件的接口`CWnd`对象。 如果此对象不表示 OLE 控件，则返回值为 NULL。

### <a name="remarks"></a>备注

不应释放此`IUnknown`指针。 通常情况下，你将用于获取控件的特定接口。

返回的接口指针`GetControlUnknown`不引用计数。 不要调用[iunknown:: Release](/windows/desktop/api/unknwn/nf-unknwn-iunknown-release)指针除非您以前调用[iunknown:: Addref](/windows/desktop/api/unknwn/nf-unknwn-iunknown-addref)上它。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#96](../../mfc/reference/codesnippet/cpp/cwnd-class_35.cpp)]

##  <a name="getcurrentmessage"></a>  CWnd::GetCurrentMessage

返回指向此窗口当前正在处理的消息的指针。 时，应只调用**上**<em>消息</em>消息处理程序成员函数。

```
static const MSG* PASCAL GetCurrentMessage();
```

### <a name="return-value"></a>返回值

返回一个指向[MSG](/windows/desktop/api/winuser/ns-winuser-tagmsg)当前正在处理包含窗口的消息的结构。 时，应只调用**上**<em>消息</em>处理程序。

### <a name="example"></a>示例

  有关示例，请参阅[CMDIFrameWnd::MDICascade](../../mfc/reference/cmdiframewnd-class.md#mdicascade)。

##  <a name="getdc"></a>  CWnd::GetDC

检索指向一个常见、 类或工作区，具体取决于为指定类样式的专用设备上下文`CWnd`。

```
CDC* GetDC();
```

### <a name="return-value"></a>返回值

标识的设备上下文`CWnd`工作区如果成功; 否则为返回值为 NULL。 该指针可能是暂时的，不应存储起来供将来使用。

### <a name="remarks"></a>备注

对于常见的设备上下文，`GetDC`分配到上下文检索每个时间的默认属性。 类和专用上下文`GetDC`会以前分配的属性保持不变。 设备上下文可以在后续的图形设备接口 (GDI) 函数，用于在客户端区域中绘制。

设备上下文属于一个窗口类，除非[ReleaseDC](#releasedc)必须调用成员函数来绘制后释放上下文。

设备上下文属于`CWnd`类返回的`GetDC`成员函数，如果 CS_CLASSDC、 CS_OWNDC 或 CS_PARENTDC 指定为中的样式`WNDCLASS`结构时已注册的类。

##  <a name="getdcex"></a>  CWnd::GetDCEx

检索设备上下文的句柄`CWnd`窗口。

```
CDC* GetDCEx(
    CRgn* prgnClip,
    DWORD flags);
```

### <a name="parameters"></a>参数

*prgnClip*<br/>
标识可能结合客户端窗口的可见区域的剪辑区域。

*flags*<br/>
可以具有以下预设值之一：

- DCX_CACHE 从缓存而不是 OWNDC 或 CLASSDC 窗口中返回设备上下文。 重写 CS_OWNDC 和 CS_CLASSDC。

- DCX_CLIPCHILDREN 不包括下面的所有子窗口的可见区域`CWnd`窗口。

- DCX_CLIPSIBLINGS 不包括上述所有同级窗口的可见区域`CWnd`窗口。

- DCX_EXCLUDERGN 不包括由标识的剪辑区域*prgnClip*从返回的设备上下文的可见区域。

- DCX_INTERSECTRGN 相交的剪辑区域由标识*prgnClip*返回的设备上下文的可见区域中。

- DCX_LOCKWINDOWUPDATE 允许绘制即使没有`LockWindowUpdate`调用有效，否则会排除此窗口。 此值用于在跟踪的绘图。

- DCX_PARENTCLIP 使用父窗口的可见区域，并忽略父窗口的 WS_CLIPCHILDREN 和 WS_PARENTDC 样式位。 此值设置为的左上角的设备上下文的源`CWnd`窗口。

- DCX_WINDOW 返回到窗口矩形而不是客户端矩形相对应的设备上下文。

### <a name="return-value"></a>返回值

如果函数成功，则指定的窗口设备上下文否则为，为 NULL。

### <a name="remarks"></a>备注

设备上下文可以在后续的 GDI 函数，用于在客户端区域中绘制。

此函数，这是扩展到[GetDC](/windows/desktop/api/winuser/nf-winuser-getdc)函数中，向应用程序提供更好地控制是否以及如何剪辑为窗口设备上下文。

设备上下文属于一个窗口类，除非[ReleaseDC](/windows/desktop/api/winuser/nf-winuser-releasedc)必须调用函数以在绘图后释放上下文。 由于只有五个常见设备上下文都可以在任何给定时间，未能释放设备上下文可以阻止其他应用程序获得到的设备上下文的访问权限。

若要获取缓存的设备上下文，应用程序必须指定[DCX_CACHE](/windows/desktop/api/winuser/nf-winuser-getdcex)。 如果未指定 DCX_CACHE，且窗口都不 CS_OWNDC 也[CS_CLASSDC](/windows/desktop/api/winuser/ns-winuser-tagwndclassa)，此函数将返回 NULL。

返回具有特殊特征的设备上下文[GetDCEx](/windows/desktop/api/winuser/nf-winuser-getdcex)函数如果 CS_CLASSDC [CS_OWNDC](/windows/desktop/api/winuser/ns-winuser-tagwndclassa)，或[CS_PARENTDC](/windows/desktop/api/winuser/ns-winuser-tagwndclassa) 中指定样式[WNDCLASS](/windows/desktop/api/winuser/ns-winuser-tagwndclassa)结构时已注册的类。

有关这些特征的详细信息，请参阅的说明`WNDCLASS`Windows SDK 中的结构。

##  <a name="getdcrendertarget"></a>  CWnd::GetDCRenderTarget

检索 `CWnd` 窗口的设备上下文 (DC) 呈现目标。

```
CDCRenderTarget* GetDCRenderTarget();
```

### <a name="return-value"></a>返回值

设备上下文呈现目标指定的窗口，如果函数运行成功;否则为，为 NULL。

### <a name="remarks"></a>备注

##  <a name="getdescendantwindow"></a>  CWnd::GetDescendantWindow

调用此成员函数以查找由给定 ID 指定的子代窗口

```
CWnd* GetDescendantWindow(
    int nID,
    BOOL bOnlyPerm = FALSE) const;
```

### <a name="parameters"></a>参数

*nID*<br/>
指定要检索的控件或子窗口的标识符。

*bOnlyPerm*<br/>
指定要返回的窗口是否可以为临时。 如果为 TRUE，可以返回永久窗口;如果为 FALSE，则该函数可以返回临时窗口。 临时 windows 上的详细信息请参阅[技术说明 3](../../mfc/tn003-mapping-of-windows-handles-to-objects.md)。

### <a name="return-value"></a>返回值

一个指向`CWnd`对象，或者如果不找到任何子窗口，则为 NULL。

### <a name="remarks"></a>备注

此成员函数将搜索子窗口，不仅 windows 直接子级的整个树。

##  <a name="getdesktopwindow"></a>  CWnd::GetDesktopWindow

返回 Windows 桌面窗口。

```
static CWnd* PASCAL GetDesktopWindow();
```

### <a name="return-value"></a>返回值

标识 Windows 桌面窗口。 此指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

桌面窗口覆盖整个屏幕，之上绘制所有图标和其他窗口的区域。

##  <a name="getdlgctrlid"></a>  CWnd::GetDlgCtrlID

返回窗口或控件的 ID 值的任何子窗口，不仅仅是这些控件在对话框中。

```
int GetDlgCtrlID() const;
```

### <a name="return-value"></a>返回值

数字标识符`CWnd`子窗口，如果函数成功; 否则为 0。

### <a name="remarks"></a>备注

因为顶级窗口没有 ID 值，此函数的返回值无效如果`CWnd`是顶级窗口。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::OnCtlColor](#onctlcolor)。

##  <a name="getdlgitem"></a>  CWnd::GetDlgItem

检索指向在对话框中指定的控件或子窗口或其他窗口的指针。

```
CWnd* GetDlgItem(int nID) const;

void GetDlgItem(
    int nID,
    HWND* phWnd) const;
```

### <a name="parameters"></a>参数

*nID*<br/>
指定要检索的控件或子窗口的标识符。

*phWnd*<br/>
指向子窗口的指针。

### <a name="return-value"></a>返回值

指向给定控件或子窗口的指针。 如果无法控制使用通过给定的整数 ID *nID*参数存在，则值为 NULL。

返回的指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

通常转换为标识控件的类型返回的指针*nID*。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#97](../../mfc/reference/codesnippet/cpp/cwnd-class_36.cpp)]

##  <a name="getdlgitemint"></a>  CWnd::GetDlgItemInt

检索标识的控件的文本*nID*。

```
UINT GetDlgItemInt(
    int nID,
    BOOL* lpTrans = NULL,
    BOOL bSigned = TRUE) const;
```

### <a name="parameters"></a>参数

*nID*<br/>
指定要转换的对话框控件的整数标识符。

*lpTrans*<br/>
指向将接收已翻译的标志的布尔变量。

*bSigned*<br/>
指定是否要检索的值进行签名。

### <a name="return-value"></a>返回值

指定对话框中项文本的已翻译的值。 0 是有效的返回值，因为*lpTrans*必须用于检测错误。 如果需要已签名的返回值，则将其转换为**int**类型。

函数将返回 0，如果已翻译的数量大于 INT_MAX （适用于有符号的数字） 或 UINT_MAX （为无符号）。

发生错误时，如遇到非数字字符和超过了上述最`GetDlgItemInt`将 0 复制到指向的位置*lpTrans*。 如果没有任何错误*lpTrans*接收非零值。 如果*lpTrans*为 NULL，`GetDlgItemInt`出现的错误不警告。

### <a name="remarks"></a>备注

它将给定的对话框中指定的控件的文本转换为整型值转换通过剥离开头的文本的任何多余的空格和转换十进制数字。 它达到文本的末尾或遇到的任何非数字字符时，它会停止转换。

如果*bSigned*为 TRUE，`GetDlgItemInt`检查负号 （-） 开头的文本，并将文字转换为有符号数字。 否则，它创建一个无符号的值。

它将发送[WM_GETTEXT](/windows/desktop/winmsg/wm-gettext)到控件的消息。

##  <a name="getdlgitemtext"></a>  CWnd::GetDlgItemText

调用此成员函数以检索标题或文本与在对话框中的控件相关联。

```
int GetDlgItemText(
    int nID,
    LPTSTR lpStr,
    int nMaxCount) const;

int GetDlgItemText(
    int nID,
    CString& rString) const;
```

### <a name="parameters"></a>参数

*nID*<br/>
指定要检索其标题的控件的整数标识符。

*lpStr*<br/>
指向用于接收控件的标题或文本的缓冲区。

*nMaxCount*<br/>
指定要复制到的字符串的最大长度 （以字符为单位） *lpStr*。 如果字符串的长度超过*nMaxCount*，则会被截断。

*rString*<br/>
对引用[CString](../../atl-mfc-shared/reference/cstringt-class.md)。

### <a name="return-value"></a>返回值

指定字符复制到缓冲区，不包括终止 null 字符的实际的数目。 如果复制没有文本，则值为 0。

### <a name="remarks"></a>备注

`GetDlgItemText`成员函数将文本复制到指向的位置*lpStr* ，并返回它将复制的字节数的计数。

##  <a name="getdsccursor"></a>  CWnd::GetDSCCursor

调用此成员函数以检索指向由数据源控件的数据源、 用户名、 密码和 SQL 属性定义的基础光标的指针。

```
IUnknown* GetDSCCursor();
```

### <a name="return-value"></a>返回值

指向由数据源控件定义的游标的指针。 MFC 负责调用`AddRef`指针。

### <a name="remarks"></a>备注

使用返回的指针设置要求 ICursor 属性的复杂数据绑定控件，如数据绑定网格控件。 数据源控件将变为活动状态直到第一个绑定的控件请求其光标。 这种情况可能是通过调用显式`GetDSCCursor`或隐式 MFC 绑定管理器。 在任一情况下，您可以强制使数据源控件可通过调用变为活动状态`GetDSCCursor`，然后再调用`Release`上返回的指针到`IUnknown`。 激活将导致要尝试连接到基础数据源的数据源控件。 可能在以下上下文中使用返回的指针：

### <a name="example"></a>示例

[!code-cpp[NVC_MFC_AxDataBinding#1](../../mfc/reference/codesnippet/cpp/cwnd-class_6.cpp)]
[!code-cpp[NVC_MFC_AxDataBinding#5](../../mfc/reference/codesnippet/cpp/cwnd-class_37.cpp)]
[!code-cpp[NVC_MFC_AxDataBinding#3](../../mfc/reference/codesnippet/cpp/cwnd-class_8.cpp)]

##  <a name="getdynamiclayout"></a>  CWnd::GetDynamicLayout

检索指向动态布局管理器对象的指针。

```
CMFCDynamicLayout* GetDynamicLayout();
```

### <a name="return-value"></a>返回值

动态布局管理器对象的指针，如果未启用动态布局，则为 NULL。

### <a name="remarks"></a>备注

窗口对象拥有并管理返回的指针的生存期，因此它只应该用于访问对象；不要删除指针或永久存储指针。

##  <a name="getexstyle"></a>  CWnd::GetExStyle

返回窗口的扩展样式。

```
DWORD GetExStyle() const;
```

### <a name="return-value"></a>返回值

在窗口的扩展样式。 有关在 MFC 中使用的扩展的窗口样式的详细信息，请参阅[扩展窗口样式](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles)。

##  <a name="getfocus"></a>  CWnd::GetFocus

检索指向的`CWnd`的当前具有输入的焦点。

```
static CWnd* PASCAL GetFocus();
```

### <a name="return-value"></a>返回值

指向具有当前焦点，则为 NULL，如果没有焦点窗口的窗口的指针。

该指针可能是暂时的，不应存储起来供将来使用。

##  <a name="getfont"></a>  CWnd::GetFont

将 WM_GETFONT 消息发送到要检索当前字体的窗口。

```
CFont* GetFont() const;
```

### <a name="return-value"></a>返回值

指向[CFont](../../mfc/reference/cfont-class.md)附加到窗口的当前字体的对象。

### <a name="remarks"></a>备注

除非在窗口处理 WM_GETFONT 消息，则此方法无效。 很多 MFC 类派生自`CWnd`处理此消息，因为它们会附加到的预定义的窗口类，包括 WM_GETFONT 消息的消息处理程序。 若要使用此方法从派生类`CWnd`必须定义 WM_GETFONT 消息的方法处理程序。

##  <a name="getforegroundwindow"></a>  CWnd::GetForegroundWindow

返回指向前台窗口的指针 （该用户当前使用的窗口）。

```
static CWnd* PASCAL GetForegroundWindow();
```

### <a name="return-value"></a>返回值

指向前台窗口的指针。 这可能是一个临时`CWnd`对象。

### <a name="remarks"></a>备注

前景窗口仅适用于顶级窗口 （框架窗口或对话框）。

##  <a name="geticon"></a>  CWnd::GetIcon

所示调用此成员函数可获取的句柄是大 (32 x 32) 或为小型 (16 x 16) 图标，句柄*bBigIcon*。

```
HICON GetIcon(BOOL bBigIcon) const;
```

### <a name="parameters"></a>参数

*bBigIcon*<br/>
指定 32 像素由 32 像素的图标如果为 TRUE;如果为 FALSE 的 16 像素图标指定 16 像素。

### <a name="return-value"></a>返回值

图标的图柄。 如果不成功，则返回 NULL。

##  <a name="getlastactivepopup"></a>  CWnd::GetLastActivePopup

确定最近处于活动状态的由 `CWnd` 拥有的弹出窗口。

```
CWnd* GetLastActivePopup() const;
```

### <a name="return-value"></a>返回值

标识最近活动的弹出窗口。 如果满足以下条件之一，返回值将是窗口本身：

- 最近活动窗口本身。

- 在窗口不拥有任何弹出窗口。

- 窗口不是顶级窗口，或拥有的另一个窗口。

该指针可能是暂时的，不应存储起来供将来使用。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::FindWindow](#findwindow)。

##  <a name="getlayeredwindowattributes"></a>  CWnd::GetLayeredWindowAttributes

检索分层窗口的不透明度和透明度颜色键。

```
BOOL GetLayeredWindowAttributes(
    COLORREF* pcrKey,
    BYTE* pbAlpha,
    DWORD* pdwFlags) const;
```

### <a name="parameters"></a>参数

*pcrKey*<br/>
指向接收撰写分层的窗口时要使用的透明度颜色键 COLORREF 值。 通过用这种颜色窗口绘制的所有像素将都是透明的。 如果不需要参数，这可以为 NULL。

*pbAlpha*<br/>
为接收用于描述分层窗口的暗度的 Alpha 值的字节的指针。 当该变量由引用*pbAlpha*为 0，则窗口是完全透明。 当该变量由引用*pbAlpha*为 255，窗口是不透明。 如果不需要参数，这可以为 NULL。

*pdwFlags*<br/>
指向接收分层标志的 DWORD 的指针。 如果不需要参数，这可以为 NULL。 有关可能的值的完整列表，请参阅[GetLayeredWindowAttributes](/windows/desktop/api/winuser/nf-winuser-getlayeredwindowattributes)。

### <a name="return-value"></a>返回值

如果函数成功，则为非零值；否则为

### <a name="remarks"></a>备注

此成员函数模拟函数的功能[GetLayeredWindowAttributes](/windows/desktop/api/winuser/nf-winuser-getlayeredwindowattributes)，如 Windows SDK 中所述。

##  <a name="getmenu"></a>  CWnd::GetMenu

检索指向此窗口的菜单。

```
CMenu* GetMenu() const;
```

### <a name="return-value"></a>返回值

标识菜单。 如果值为 NULL`CWnd`有无菜单。 如果返回值是不确定`CWnd`是子窗口。

返回的指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

此函数应不使用为子窗口，因为它们不具有一个菜单。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#98](../../mfc/reference/codesnippet/cpp/cwnd-class_38.cpp)]

##  <a name="getmenubarinfo"></a>  CWnd::GetMenuBarInfo

检索有关指定的菜单栏的信息。

```
BOOL GetMenuBarInfo(
    LONG idObject,
    LONG idItem,
    PMENUBARINFO pmbi) const;
```

### <a name="parameters"></a>参数

*idObject*<br/>
指定菜单对象。 有关可能的值的列表，请参阅[中的 GetMenuBarInfo](/windows/desktop/api/winuser/nf-winuser-getmenubarinfo)。

*idItem*<br/>
指定要为其检索信息的项。 如果此参数为零，该函数将检索有关菜单本身的信息。 如果此参数为 1，该函数将检索信息的第一项菜单中，依次类推。

*pmbi*<br/>
指向[MENUBARINFO](/windows/desktop/api/winuser/ns-winuser-tagmenubarinfo)结构，它接收的信息。

### <a name="return-value"></a>返回值

如果函数成功，则为非零值；否则为

### <a name="remarks"></a>备注

此成员函数模拟函数的功能[中的 GetMenuBarInfo](/windows/desktop/api/winuser/nf-winuser-getmenubarinfo)，如 Windows SDK 中所述。

##  <a name="getnextdlggroupitem"></a>  CWnd::GetNextDlgGroupItem

内的一组控件在对话框中的上一个或下一个控件的搜索。

```
CWnd* GetNextDlgGroupItem(
    CWnd* pWndCtl,
    BOOL bPrevious = FALSE) const;

COleControlSiteOrWnd* GetNextDlgGroupItem(
    COleControlSiteOrWnd* pCurSiteOrWnd = NULL) const;
```

### <a name="parameters"></a>参数

*pWndCtl*<br/>
标识要用作搜索的起始点的控件。

*bPrevious*<br/>
指定的功能是如何在对话框中搜索的控件组。 如果为 TRUE，该函数将搜索组; 中的上一个控件如果为 FALSE，它将搜索的组中的下一个控件。

*pCurSiteOrWnd*<br/>
标识`COleControlSiteOrWnd`控件。 有关详细信息`COleControlSiteOrWnd`，请参阅**备注**。

### <a name="return-value"></a>返回值

指向成员函数是否成功的组中的上一个或下一个控件。

返回的指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

开头使用创建的控件的一组控件[WS_GROUP](styles-used-by-mfc.md#window-styles)样式和以结尾不通过 WS_GROUP 样式创建的最后一个控件。

默认情况下，`GetNextDlgGroupItem`成员函数返回一个指向组中的下一个控件。 如果*pWndCtl*标识的组中的第一个控件和*bPrevious*为 TRUE，`GetNextDlgGroupItem`返回一个指向组中的最后一个控件。

> [!NOTE]
> 由于 MFC 支持无窗口 ActiveX 控件、 标准 ActiveX 控件和 windows，因此不再引用通过仅 HWND 的控件就足够了。 `COleControlSiteOrWnd`对象中包含为窗口的 ActiveX 控件、 无窗口 ActiveX 控件或一个窗口，按如下所示标识的对象的信息：

|控件或窗口类型|标识信息|
|----------------------------|-----------------------------|
|窗口的 ActiveX 控件|包含 HWND，并将相关联[COleControlSite](../../mfc/reference/colecontrolsite-class.md)对象与之。 `m_hWnd`的成员`COleControlSiteOrWnd`设置为该控件的 HWND 和`m_pSite`成员指向控件的`COleControlSite`。|
|无窗口 ActiveX 控件|不包含任何 HWND。 `m_pSite`的成员`COleControlSiteOrWnd`指向控件的`COleControlSite`，和`m_hWnd`成员为 NULL。|
|标准的窗口|包含只是 HWND。 `m_hWnd`的成员`COleControlSiteOrWnd`设置为窗口的 HWND 和`m_pSite`成员为 NULL。|

##  <a name="getnextdlgtabitem"></a>  CWnd::GetNextDlgTabItem

检索指向与创建的第一个控件的[WS_TABSTOP](styles-used-by-mfc.md#window-styles)样式和的前面或后面指定的控件。

```
CWnd* GetNextDlgTabItem(
    CWnd* pWndCtl,
    BOOL bPrevious = FALSE) const;

COleControlSiteOrWnd* GetNextDlgTabItem(
    COleControlSiteOrWnd* pCurSiteOrWnd,
    BOOL bPrevious) const;
```

### <a name="parameters"></a>参数

*pWndCtl*<br/>
标识要用作搜索的起始点的控件。

*pCurSiteOrWnd*<br/>
标识`COleControlSiteOrWnd`控件。 有关详细信息`COleControlSiteOrWnd`，请参阅[CWnd::GetNextDlgGroupItem](#getnextdlggroupitem)。

*bPrevious*<br/>
指定如何搜索对话框的函数。 如果为 TRUE，该函数中搜索对话框的; 中的上一个控件如果为 FALSE，它会搜索下一个控件。

### <a name="return-value"></a>返回值

指向具有 WS_TABSTOP 样式，如果成员函数运行成功的上一个或下一个控件。

返回的指针可能是暂时的不应存储供以后使用。

有关详细信息`COleControlSiteOrWnd`，请参阅[CWnd::GetNextDlgGroupItem](#getnextdlggroupitem)。

##  <a name="getnextwindow"></a>  CWnd::GetNextWindow

窗口管理器的列表中的下一步 （或上一个） 窗口搜索。

```
CWnd* GetNextWindow(UINT nFlag = GW_HWNDNEXT) const;
```

### <a name="parameters"></a>参数

*nFlag*<br/>
指定是否在函数返回一个指向下一个窗口或上一个窗口。 它可以是任一 GW_HWNDNEXT，返回的窗口后面`CWnd`窗口管理器的列表，或 GW_HWNDPREV，返回上一个窗口的窗口管理器的列表的对象。

### <a name="return-value"></a>返回值

标识下一个 （或上一个） 窗口中的窗口管理器的列表成员函数是否成功。

返回的指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

窗口管理器的列表包含所有顶级窗口、 其关联的子窗口和任何子窗口的子窗口的条目。

如果`CWnd`是顶级窗口中，函数搜索下一个 （或上一个） 的顶级窗口; 如果`CWnd`是子窗口，函数搜索的下一步 （或上一个） 子窗口。

##  <a name="getolecontrolsite"></a>  CWnd::GetOleControlSite

检索指定 ActiveX 控件的自定义站点。

```
COleControlSite* GetOleControlSite(UINT idControl) const;
```

### <a name="parameters"></a>参数

*idControl*<br/>
ActiveX 控件的 ID。

##  <a name="getopenclipboardwindow"></a>  CWnd::GetOpenClipboardWindow

检索当前已打开剪贴板的窗口句柄。

```
static CWnd* PASCAL GetOpenClipboardWindow();
```

### <a name="return-value"></a>返回值

如果函数成功，则当前已打开剪贴板的窗口句柄否则为，为 NULL。

##  <a name="getowner"></a>  CWnd::GetOwner

检索指向窗口的所有者。

```
CWnd* GetOwner() const;
```

### <a name="return-value"></a>返回值

指向 `CWnd` 对象的指针。

### <a name="remarks"></a>备注

如果窗口具有没有所有者，则默认情况下返回指向父窗口对象的指针。 请注意，所有者和拥有之间的关系与几个重要方面中的父-子方面不同。 例如，使用的父窗口并局限于其父窗口工作区。 在桌面上，可以在任何位置绘制拥有的 windows。

此函数的所有权概念是不同于所有权这一概念[GetWindow](/windows/desktop/api/winuser/nf-winuser-getwindow)。

##  <a name="getparent"></a>  CWnd::GetParent

调用此函数可获得到的子窗口的父窗口 （如果有） 的指针。

```
CWnd* GetParent() const;
```

### <a name="return-value"></a>返回值

请参阅中的返回值部分[GetParent](/windows/desktop/api/winuser/nf-winuser-getparent) Windows SDK 中。

### <a name="remarks"></a>备注

`GetParent`函数返回一个指向直接父级 （如果存在）。 与此相反， [GetParentOwner](#getparentowner)函数返回指向不是子窗口 （没有 WS_CHILD 样式） 的最直接父级或所有者窗口的指针。 如果在子窗口内具有子窗口`GetParent`和`GetParentOwner`返回不同的结果。

##  <a name="getparentframe"></a>  CWnd::GetParentFrame

调用此成员函数以检索父框架窗口。

```
CFrameWnd* GetParentFrame() const;
```

### <a name="return-value"></a>返回值

框架窗口，如果成功，则指向的指针否则为，为 NULL。

### <a name="remarks"></a>备注

成员函数将搜索之前在父链[CFrameWnd](../../mfc/reference/cframewnd-class.md) （或派生类） 找到对象。

##  <a name="getparentowner"></a>  CWnd::GetParentOwner

调用此成员函数以获取到子窗口的父窗口或所有者窗口的指针。

```
CWnd* GetParentOwner() const;
```

### <a name="return-value"></a>返回值

指向 `CWnd` 对象的指针。 如果 `CWnd` 对象未附加到该句柄，则会创建并附加一个临时 `CWnd` 对象。 该指针可能是暂时的，不应存储起来供将来使用。

### <a name="remarks"></a>备注

`GetParentOwner` 返回一个指向不是子窗口 （没有 WS_CHILD 样式） 的最直接父级或所有者窗口。 可以用来设置当前的所有者窗口[出现了 SetOwner](#setowner)。 默认情况下，窗口的父级是其所有者。

与此相反， [GetParent](#getparent)函数返回一个指向直接父级，不论它是否是子窗口。 如果在子窗口内具有子窗口`GetParent`和`GetParentOwner`返回不同的结果。

##  <a name="getproperty"></a>  CWnd::GetProperty

调用此成员函数可获取指定的 ActiveX 控件属性*dwDispID*。

```
void GetProperty(
    DISPID dwDispID,
    VARTYPE vtProp,
    void* pvProp)const;
```

### <a name="parameters"></a>参数

*dwDispID*<br/>
标识要检索的属性。

*vtProp*<br/>
指定要检索的属性的类型。 有关可能的值，请参阅备注部分 [COleDispatchDriver::InvokeHelper](../../mfc/reference/coledispatchdriver-class.md#invokehelper)。

*pvProp*<br/>
将该变量的地址将接收属性值。 它必须匹配指定的类型*vtProp*。

### <a name="remarks"></a>备注

`GetProperty` 返回的值通过*pvProp*。

> [!NOTE]
> 应仅在调用此函数`CWnd`对象，表示 ActiveX 控件。

有关此成员函数中使用的 ActiveX 控件容器的详细信息，请参阅文章[ActiveX 控件容器：ActiveX 控件容器中的 ActiveX 控件编程](../../mfc/programming-activex-controls-in-a-activex-control-container.md)。

##  <a name="getrendertarget"></a>  CWnd::GetRenderTarget

获取与此窗口相关联的呈现目标。

```
CHwndRenderTarget* GetRenderTarget();
```

### <a name="return-value"></a>返回值

为呈现器目标或 NULL 指针。

##  <a name="getsafehwnd"></a>  CWnd::GetSafeHwnd

返回`m_hWnd`，则为 null**这**指针为 NULL。

```
HWND GetSafeHwnd() const;
```

### <a name="return-value"></a>返回值

返回一个窗口的窗口句柄。 如果返回 NULL`CWnd`未附加到一个窗口，或如果与 null 值一起`CWnd`指针。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::SubclassWindow](#subclasswindow)。

##  <a name="getsafeowner"></a>  CWnd::GetSafeOwner

调用此成员函数以检索应用于对话框所有者窗口或其他模式窗口。

```
static CWnd* GetSafeOwner(
    CWnd* pParent = NULL,
    HWND* pWndTop = NULL);
```

### <a name="parameters"></a>参数

*pParent*<br/>
指向一个父级`CWnd`窗口。 可以为 NULL。

*pWndTop*<br/>
指向当前位于顶部的窗口的指针。 可以为 NULL。

### <a name="return-value"></a>返回值

指向给定窗口的安全所有者的指针。

### <a name="remarks"></a>备注

安全的所有者是第一个非子父窗口的*pParent*。 如果*pParent*为 NULL，线程的主窗口 (通过检索[AfxGetMainWnd](../../mfc/reference/application-information-and-management.md#afxgetmainwnd)) 用于查找一个所有者。

> [!NOTE]
> 框架本身使用此函数来确定正确的所有者窗口的对话框和属性表不指定所有者。

##  <a name="getscrollbarctrl"></a>  CWnd::GetScrollBarCtrl

调用此成员函数以获取指向指定的同级滚动条或拆分器窗口。

```
virtual CScrollBar* GetScrollBarCtrl(int nBar) const;
```

### <a name="parameters"></a>参数

*nBar*<br/>
指定滚动条的类型。 参数可以采用以下值之一：

- SB_HORZ 检索水平滚动条的位置。

- SB_VERT 检索垂直滚动条的位置。

### <a name="return-value"></a>返回值

同级滚动条控件或如果没有，则为 NULL。

### <a name="remarks"></a>备注

WS_HSCROLL 或 WS_VSCROLL 的位将设置窗口的创建过程时创建的滚动条时，此成员函数不会进行操作。 `CWnd`此函数的实现只是返回 NULL。 派生类，如`CView`，实现所述的功能。

##  <a name="getscrollbarinfo"></a>  CWnd::GetScrollBarInfo

检索有关指定滚动条的信息。

```
BOOL GetScrollBarInfo(
    LONG idObject,
    PSCROLLBARINFO psbi) const;
```

### <a name="parameters"></a>参数

*idObject*<br/>
指定菜单对象。 有关可能的值的列表，请参阅[GetScrollBarInfo](/windows/desktop/api/winuser/nf-winuser-getscrollbarinfo)。

*psbi*<br/>
指向[SCROLLBARINFO](/windows/desktop/api/winuser/ns-winuser-tagscrollbarinfo)结构，它接收的信息。

### <a name="return-value"></a>返回值

如果函数成功，则为非零值；否则为

### <a name="remarks"></a>备注

此成员函数模拟函数的功能[GetScrollBarInfo](/windows/desktop/api/winuser/nf-winuser-getscrollbarinfo)，如 Windows SDK 中所述。

##  <a name="getscrollinfo"></a>  CWnd::GetScrollInfo

调用此成员函数以检索信息的`SCROLLINFO`结构维护的有关滚动条。

```
BOOL GetScrollInfo(
    int nBar,
    LPSCROLLINFO lpScrollInfo,
    UINT nMask = SIF_ALL);
```

### <a name="parameters"></a>参数

*nBar*<br/>
指定滚动条控件或窗口的非工作区的一部分。 如果它属于非工作区*nBar*还用于指明是否滚动条位于水平、 垂直，或两者。 它必须是以下值之一：

- SB_CTL 检索滚动条控件的参数。 `m_hWnd`数据成员必须为滚动条控件的句柄。

- SB_HORZ 检索窗口的标准的水平滚动条的参数。

- SB_VERT 检索窗口的标准的垂直滚动条的参数。

*lpScrollInfo*<br/>
一个指向[SCROLLINFO](/windows/desktop/api/winuser/ns-winuser-tagscrollinfo)结构。 请参阅 Windows SDK，了解有关此结构的详细信息。

*nMask*<br/>
指定要检索的滚动栏参数。 默认值指定 SIF_PAGE、 SIF_POS、 SIF_TRACKPOS 和 SIF_RANGE 的组合。 请参阅`SCROLLINFO`有关详细信息*nMask*值。

### <a name="return-value"></a>返回值

如果消息检索到的任何值，则返回为 TRUE。 否则，它为 FALSE。

### <a name="remarks"></a>备注

`GetScrollInfo` 使应用程序可以使用 32 位滚动位置。

[SCROLLINFO](/windows/desktop/api/winuser/ns-winuser-tagscrollinfo)结构包含滚动条，其中包括的最小值和最大滚动位置、 页面大小和滚动框 （滚动块） 的位置有关的信息。 请参阅`SCROLLINFO`结构适用于有关更改结构的默认值的详细信息的 Windows SDK 中的主题。

MFC Windows 消息处理程序指示滚动条位置[CWnd::OnHScroll](#onhscroll)并[CWnd::OnVScroll](#onvscroll)，提供仅 16 位的位置数据。 `GetScrollInfo` 和`SetScrollInfo`提供 32 位的滚动条位置数据。 因此，应用程序可以调用`GetScrollInfo`时处理`CWnd::OnHScroll`或`CWnd::OnVScroll`获取 32 位滚动条位置数据。

##  <a name="getscrolllimit"></a>  CWnd::GetScrollLimit

调用此成员函数以检索滚动条的最大滚动位置。

```
int GetScrollLimit(int nBar);
```

### <a name="parameters"></a>参数

*nBar*<br/>
指定滚动条的类型。 参数可以采用以下值之一：

- SB_HORZ 检索水平滚动条的滚动限制。

- SB_VERT 检索垂直滚动条的滚动限制。

### <a name="return-value"></a>返回值

指定如果成功，则一个滚动条的最大位置否则为 0。

##  <a name="getscrollpos"></a>  CWnd::GetScrollPos

检索滚动条的滚动框的当前位置。

```
int GetScrollPos(int nBar) const;
```

### <a name="parameters"></a>参数

*nBar*<br/>
指定要检查的滚动条。 参数可以采用以下值之一：

- SB_HORZ 检索水平滚动条的位置。

- SB_VERT 检索垂直滚动条的位置。

### <a name="return-value"></a>返回值

指定如果成功，则滚动条中滚动框的当前位置否则为 0。

### <a name="remarks"></a>备注

当前位于取决于当前的滚动范围的相对值。 例如，如果滚动的范围为 50 到 100 和滚动框位于中间栏中，当前的位置将是 75。

##  <a name="getscrollrange"></a>  CWnd::GetScrollRange

将给定的滚动条的当前最小值和最大的滚动条位置复制到由指定的位置*lpMinPos*并*lpMaxPos*。

```
void GetScrollRange(
    int nBar,
    LPINT lpMinPos,
    LPINT lpMaxPos) const;
```

### <a name="parameters"></a>参数

*nBar*<br/>
指定要检查的滚动条。 参数可以采用以下值之一：

- SB_HORZ 检索水平滚动条的位置。

- SB_VERT 检索垂直滚动条的位置。

*lpMinPos*<br/>
指向要接收的最小的位置的整数变量。

*lpMaxPos*<br/>
指向要接收的最大位置的整数变量。

### <a name="remarks"></a>备注

如果`CWnd`不具有滚动条，则`GetScrollRange`成员函数将复制到 0 *lpMinPos*并*lpMaxPos*。

标准滚动条的默认范围是 0 到 100。 滚动条控件的默认范围为空 （这两个值都为 0）。

##  <a name="getstyle"></a>  CWnd::GetStyle

返回当前窗口样式。

```
DWORD GetStyle() const;
```

### <a name="return-value"></a>返回值

窗口的样式。 有关在 MFC 中所用的窗口样式的详细信息，请参阅[的窗口样式](styles-used-by-mfc.md#window-styles)。

##  <a name="getsystemmenu"></a>  CWnd::GetSystemMenu

允许应用程序访问控件菜单以进行复制和修改。

```
CMenu* GetSystemMenu(BOOL bRevert) const;
```

### <a name="parameters"></a>参数

*bRevert*<br/>
指定要执行的操作。 如果*bRevert*为 FALSE，`GetSystemMenu`返回的句柄当前正在使用的控件菜单的副本。 此副本最初等同于控件菜单上，但可以进行修改。 如果*bRevert*为 TRUE，`GetSystemMenu`将控制菜单重置回默认状态。 以前，可能已经过修改，如果任何，销毁控制菜单中。 在这种情况下，返回值未定义。

### <a name="return-value"></a>返回值

如果标识的控件菜单一份*bRevert*为 FALSE。 如果*bRevert*为 TRUE，则返回值是未定义。

返回的指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

不使用任何窗口`GetSystemMenu`以使其自己的控件副本菜单接收标准的控件菜单。

所返回的指针`GetSystemMenu`成员函数可用于[CMenu::AppendMenu](../../mfc/reference/cmenu-class.md#appendmenu)， [CMenu::InsertMenu](../../mfc/reference/cmenu-class.md#insertmenu)，或[CMenu::ModifyMenu](../../mfc/reference/cmenu-class.md#modifymenu)到函数更改控制菜单。

控制菜单最初包含使用 SC_CLOSE、 SC_MOVE 和 SC_SIZE 等的不同 ID 值标识的项。 控制菜单上的项目生成[WM_SYSCOMMAND](#onsyscommand)消息。 所有预定义的控件菜单项都具有大于 0xF000 ID 号。 如果应用程序将项添加到控件菜单上，则应使用小于 F000 ID 号。

Windows 可能自动使项目不可用标准的控件菜单上。 `CWnd` 可以执行其自己所选内容或不可用时通过响应[WM_INITMENU](#oninitmenu)任何菜单显示之前发送的消息。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#99](../../mfc/reference/codesnippet/cpp/cwnd-class_39.cpp)]

##  <a name="gettitlebarinfo"></a>  CWnd::GetTitleBarInfo

检索有关指定标题栏的信息。

```
BOOL GetTitleBarInfo(PTITLEBARINFO pti) const;
```

### <a name="parameters"></a>参数

*pti*<br/>
指向[TITLEBARINFO](/windows/desktop/api/winuser/ns-winuser-tagtitlebarinfo)结构，它接收的信息。

### <a name="remarks"></a>备注

此成员函数模拟函数的功能[GetTitleBarInfo](/windows/desktop/api/winuser/nf-winuser-gettitlebarinfo)，如 Windows SDK 中所述。

##  <a name="gettoplevelframe"></a>  CWnd::GetTopLevelFrame

调用此成员函数以检索窗口的顶级框架窗口中，如果有的话。

```
CFrameWnd* GetTopLevelFrame() const;
```

### <a name="return-value"></a>返回值

标识窗口的顶级框架窗口。

返回的指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

如果`CWnd`没有附加的窗口，或者不是其顶级父级[CFrameWnd](../../mfc/reference/cframewnd-class.md)-派生对象，此函数将返回 NULL。

##  <a name="gettoplevelowner"></a>  CWnd::GetTopLevelOwner

调用此成员函数以检索顶级窗口。

```
CWnd* GetTopLevelOwner() const;
```

### <a name="return-value"></a>返回值

标识的顶级窗口。 返回的指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

顶级窗口是桌面的子级的窗口。 如果`CWnd`没有附加的窗口，此函数将返回 NULL。

##  <a name="gettoplevelparent"></a>  CWnd::GetTopLevelParent

调用此成员函数以检索窗口的顶级父级。

```
CWnd* GetTopLevelParent() const;
```

### <a name="return-value"></a>返回值

标识在窗口的顶级父窗口。

返回的指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

`GetTopLevelParent` 类似于[GetTopLevelFrame](#gettoplevelframe)并[GetTopLevelOwner](#gettoplevelowner); 但是，它将忽略此值设置为当前的所有者窗口。

##  <a name="gettopwindow"></a>  CWnd::GetTopWindow

搜索所属的顶级子窗口`CWnd`。

```
CWnd* GetTopWindow() const;
```

### <a name="return-value"></a>返回值

标识中的顶级子窗口`CWnd`子窗口的链接的列表。 如果没有子窗口存在，值为 NULL。

返回的指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

如果`CWnd`没有任何子级，则此函数返回 NULL。

##  <a name="getupdaterect"></a>  CWnd::GetUpdateRect

检索完全包围更新区域的最小矩形的坐标。

```
BOOL GetUpdateRect(
    LPRECT lpRect,
    BOOL bErase = FALSE);
```

### <a name="parameters"></a>参数

*lpRect*<br/>
指向`CRect`对象或[RECT 结构](/windows/desktop/api/windef/ns-windef-tagrect)，是否要接收包含更新区域的更新的客户端坐标。

将此参数设置为 NULL，以确定更新区域中是否存在`CWnd`。 如果*lpRect*为 NULL，`GetUpdateRect`如果更新区域存在并且不为 0，如果一个成员函数返回非零值。 这提供了一种方法来确定是否 WM_PAINT 消息时从无效的区域。 未设置此参数为 NULL，在 Windows 3.0 版及更早版本。

*bErase*<br/>
指定是否要清除中更新区域的背景。

### <a name="return-value"></a>返回值

指定更新区域的状态。 值不为零的更新区域是否不为空;否则为 0。

如果*lpRect*参数设置为 NULL，则返回值为非零，如果存在更新区域; 否则为 0。

### <a name="remarks"></a>备注

如果`CWnd`创建为 CS_OWNDC 样式和映射模式不是 MM_TEXT，`GetUpdateRect`成员函数提供以逻辑坐标表示的矩形。 否则为`GetUpdateRect`提供客户端中的矩形的坐标。 如果没有更新的区域，`GetUpdateRect`设置为空 （将所有坐标为 0） 的矩形。

*BErase*参数指定是否`GetUpdateRect`应擦除更新区域的背景。 如果*bErase*为 TRUE，且更新区域不为空，则在后台被擦除。 要清除在后台`GetUpdateRect`发送[WM_ERASEBKGND](#onerasebkgnd)消息。

更新矩形来检索[BeginPaint](#beginpaint)成员函数等同于检索到的`GetUpdateRect`成员函数。

`BeginPaint`成员函数会自动验证更新区域中，因此任何对`GetUpdateRect`调用后立即进行`BeginPaint`检索一个空的更新区域。

##  <a name="getupdatergn"></a>  CWnd::GetUpdateRgn

检索到由标识区域的更新区域*pRgn*。

```
int GetUpdateRgn(
    CRgn* pRgn,
    BOOL bErase = FALSE);
```

### <a name="parameters"></a>参数

*pRgn*<br/>
标识更新区域。

*bErase*<br/>
指定是否在后台将被清除，并将提取的子窗口的非工作区区域。 如果值为 FALSE，不进行任何绘图。

### <a name="return-value"></a>返回值

指定一个短整数标志，指示生成的区域的类型。 值可以采用下列之一：

- SIMPLEREGION 区域具有不重叠的边框。

- COMPLEXREGION 区域有重叠的边框。

- NULLREGION 区域为空。

- 不创建错误任何区域。

### <a name="remarks"></a>备注

此区域的坐标是相对于左上角 （客户端坐标）。

[BeginPaint](#beginpaint)成员函数会自动验证更新区域中，因此任何对`GetUpdateRgn`对的调用后立即进行`BeginPaint`检索一个空的更新区域。

##  <a name="getwindow"></a>  CWnd::GetWindow

返回一个指向窗口请求或如果没有，则为 NULL。

```
CWnd* GetWindow(UINT nCmd) const;
```

### <a name="parameters"></a>参数

*nCmd*<br/>
指定之间的关系`CWnd`和返回的窗口。 它可以采用以下值之一：

- GW_CHILD 标识`CWnd`第一个子窗口。

- GW_HWNDFIRST 如果`CWnd`为子窗口，则返回第一个同级窗口。 否则，它返回第一个顶级窗口列表中。

- GW_HWNDLAST 如果`CWnd`为子窗口，则返回最后一个同级窗口。 否则，它在列表中返回的最后一个顶级窗口。

- GW_HWNDNEXT 返回下一个窗口的窗口管理器的列表。

- GW_HWNDPREV 返回上一个窗口的窗口管理器的列表。

- GW_OWNER 标识`CWnd`所有者。

### <a name="return-value"></a>返回值

返回的指针可能是暂时的不应存储供以后使用。

##  <a name="getwindowcontexthelpid"></a>  CWnd::GetWindowContextHelpId

如果任何，与窗口相关联，请调用此成员函数以检索帮助上下文标识符。

```
DWORD GetWindowContextHelpId() const;
```

### <a name="return-value"></a>返回值

帮助上下文标识符。 如果窗口具有 none，则返回 0。

##  <a name="getwindowedchildcount"></a>  CWnd::GetWindowedChildCount

调用此成员函数以检索关联的子窗口数。

```
long GetWindowedChildCount();
```

### <a name="return-value"></a>返回值

与相关联的子窗口数`CWnd`对象。

##  <a name="getwindowdc"></a>  CWnd::GetWindowDC

检索整个窗口，其中包括标题栏、 菜单和滚动条的显示上下文。

```
CDC* GetWindowDC();
```

### <a name="return-value"></a>返回值

如果函数成功，则，标识给定窗口的显示上下文否则为，为 NULL。

返回的指针可能是暂时的不应存储供以后使用。 [ReleaseDC](#releasedc)应该为每次成功调用一次调用`GetWindowDC`。

### <a name="remarks"></a>备注

窗口显示上下文允许在任意位置进行绘制`CWnd`，因为上下文的源是在左上角的`CWnd`而不是工作区。

默认属性分配给显示上下文检索上下文时，它每次。 以前的特性都将丢失。

`GetWindowDC` 旨在用于特殊的绘制效果内`CWnd`非工作区。 不建议在任何窗口的非工作区区域中绘制。

[GetSystemMetrics](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) Windows 函数可用于检索非工作区，如标题栏、 菜单和滚动条的不同部件的维度。

绘制完成后[ReleaseDC](#releasedc)必须调用成员函数以释放显示上下文。 发布显示上下文失败将会严重影响绘制由应用程序由于一次可以打开的设备上下文的数量限制请求。

##  <a name="getwindowinfo"></a>  CWnd::GetWindowInfo

检索有关窗口的信息。

```
BOOL GetWindowInfo(PWINDOWINFO pwi) const;
```

### <a name="parameters"></a>参数

*pwi*<br/>
一个指向[WINDOWINFO](/windows/desktop/api/winuser/ns-winuser-tagwindowinfo)结构。

### <a name="remarks"></a>备注

此成员函数模拟函数的功能[GetWindowInfo](/windows/desktop/api/winuser/nf-winuser-getwindowinfo)，如 Windows SDK 中所述。

##  <a name="getwindowlesschildcount"></a>  CWnd::GetWindowlessChildCount

检索关联无窗口子窗口数。

```
long GetWindowlessChildCount();
```

### <a name="return-value"></a>返回值

与关联的无窗口子窗口数`CWnd`对象。

##  <a name="getwindowplacement"></a>  CWnd::GetWindowPlacement

检索窗口的显示状态以及正常（已还原）、最小化和最大化位置。

```
BOOL GetWindowPlacement(WINDOWPLACEMENT* lpwndpl) const;
```

### <a name="parameters"></a>参数

*lpwndpl*<br/>
指向`WINDOWPLACEMENT`接收显示状态和位置信息的结构。

### <a name="return-value"></a>返回值

如果该函数成功，则为非 0；否则为 0。

### <a name="remarks"></a>备注

`flags`的成员[WINDOWPLACEMENT](/windows/desktop/api/winuser/ns-winuser-tagwindowplacement)检索此函数的结构始终是 0。 如果`CWnd`已最大化`showCmd`的成员`WINDOWPLACEMENT`是 SW_SHOWMAXIMIZED。 最小化窗口时，它是 SW_SHOWMINIMIZED。 它在 SW_SHOWNORMAL 其他方面。

##  <a name="getwindowrect"></a>  CWnd::GetWindowRect

将复制的边界矩形的尺寸`CWnd`指向的结构的对象*lpRect*。

```
void GetWindowRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>参数

*lpRect*<br/>
指向`CRect`对象或[RECT 结构](/windows/desktop/api/windef/ns-windef-tagrect)将接收的左上角和右下角的屏幕坐标。

### <a name="remarks"></a>备注

维度可以相对于显示屏幕的左上角的屏幕坐标中。 标题、 边框和滚动条的维度 （如果存在） 是包含。

##  <a name="getwindowrgn"></a>  CWnd::GetWindowRgn

调用此成员函数以获取窗口的窗口区域。

```
int GetWindowRgn(HRGN hRgn)const;
```

### <a name="parameters"></a>参数

*hRgn*<br/>
句柄的窗口区域。

### <a name="return-value"></a>返回值

返回的值指定该函数可获取的区域的类型。 它可以是下列值之一：

- NULLREGION 区域为空。

- SIMPLEREGION 区域是一个单一的矩形。

- COMPLEXREGION 区域是多个矩形。

- 出现错误的错误则区域不受影响。

### <a name="remarks"></a>备注

窗口区域确定在其中操作系统允许绘图窗口内的区域。 操作系统不显示窗口的窗口区域之外的任何部分。

窗口的窗口区域的坐标是相对于窗口没有窗口的客户端区域的左上角。

若要设置的窗口区域的一个窗口，调用[CWnd::SetWindowRgn](#setwindowrgn)。

##  <a name="getwindowtext"></a>  CWnd::GetWindowText

副本`CWnd`指向的缓冲区中 （如果有的话） 描述标题*lpszStringBuf*或到目标字符串*rString*。

```
int GetWindowText(
    LPTSTR lpszStringBuf,
    int nMaxCount) const;

void GetWindowText(
    CString& rString) const;
```

### <a name="parameters"></a>参数

*lpszStringBuf*<br/>
指向将接收窗口的标题的复制的字符串的缓冲区。

*nMaxCount*<br/>
指定要复制到缓冲区，包括终止 null 字符的字符最大数目。 如果字符串的长度中指定的字符数超过*nMaxCount*，则会被截断。

*rString*<br/>
一个[CString](../../atl-mfc-shared/reference/cstringt-class.md)对象，它接收复制的字符串的窗口的标题。

### <a name="return-value"></a>返回值

指定以字符为单位的复制的字符串，不包括终止 null 字符的长度。 如果为 0`CWnd`没有标题或标题是否为空。

### <a name="remarks"></a>备注

如果`CWnd`对象是一个控件，`GetWindowText`成员函数将复制而不是复制标题控件中的文本。

此成员函数将导致[WM_GETTEXT](/windows/desktop/winmsg/wm-gettext)发送到消息`CWnd`对象。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::SetWindowText](#setwindowtext)。

##  <a name="getwindowtextlength"></a>  CWnd::GetWindowTextLength

返回的长度`CWnd`对象标题的标题。

```
int GetWindowTextLength() const;
```

### <a name="return-value"></a>返回值

指定字符，不包括任何 null 终止字符的文本长度。 如果不存在任何此类文本，则值为 0。

### <a name="remarks"></a>备注

如果`CWnd`是一个控件，`GetWindowTextLength`成员函数将返回而不是标题控件中文本的长度。

此成员函数将导致[WM_GETTEXTLENGTH](/windows/desktop/winmsg/wm-gettextlength)发送到消息`CWnd`对象。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::SetWindowText](#setwindowtext)。

##  <a name="hidecaret"></a>  CWnd::HideCaret

通过从显示屏幕中移除来隐藏插入符号。

```
void HideCaret();
```

### <a name="remarks"></a>备注

尽管将插入符号不再是可见的但它可以再次使用显示[ShowCaret](#showcaret)成员函数。 隐藏插入符号不会销毁其当前的形状。

隐藏是累积的。 如果`HideCaret`已在行中，调用五次`ShowCaret`成员函数前，必须调用五次将显示插入符号。

##  <a name="hilitemenuitem"></a>  CWnd::HiliteMenuItem

突出显示，或者从顶级 （菜单栏） 菜单项移除突出显示。

```
BOOL HiliteMenuItem(
    CMenu* pMenu,
    UINT nIDHiliteItem,
    UINT nHilite);
```

### <a name="parameters"></a>参数

*pMenu*<br/>
标识包含要突出显示的项的顶级菜单。

*nIDHiliteItem*<br/>
指定要在突出显示，具体取决于值的菜单项*nHilite*参数。

*nHilite*<br/>
指定是否突出显示的菜单项或删除突出显示。 它可以是 MF_HILITE 或与 MF_BYCOMMAND 或 MF_BYPOSITION MF_UNHILITE 的组合。 可以使用按位 OR 运算符组合的值。 这些值的含义如下：

- MF_BYCOMMAND 解释*nIDHiliteItem*作为菜单项 ID （默认值解释）。

- MF_BYPOSITION 解释*nIDHiliteItem*为菜单项的从零开始的偏移量。

- MF_HILITE 突出显示该项。 如果未指定此值，突出显示是从该项中移除。

- MF_UNHILITE 从项目中删除突出显示。

### <a name="return-value"></a>返回值

指定是否已突出显示的菜单项。 如果该项已突出显示; 非零值否则为 0。

### <a name="remarks"></a>备注

MF_HILITE 和 MF_UNHILITE 标志可仅与此成员函数;它们不能用于[CMenu::ModifyMenu](../../mfc/reference/cmenu-class.md#modifymenu)成员函数。

##  <a name="htmlhelp"></a>  CWnd::HtmlHelp

调用此成员函数以调用 HTMLHelp 应用程序。

```
virtual void HtmlHelp(
    DWORD_PTR dwData,
    UINT nCmd = 0x000F);
```

### <a name="parameters"></a>参数

*dwData*<br/>
指定其他数据。 使用的值取决于的值*nCmd*参数。

*nCmd*<br/>
指定请求的帮助的类型。 有关一系列可能的值以及它们如何影响*dwData*参数，请参阅*uCommand* HTML 帮助 API 中的引用 Windows SDK 中所述的参数。

### <a name="remarks"></a>备注

请参阅[CWinApp::HtmlHelp](../../mfc/reference/cwinapp-class.md#htmlhelp)有关详细信息。

##  <a name="initdynamiclayout"></a>  CWnd::InitDynamicLayout

由框架调用以初始化窗口的动态布局。

```
void InitDynamicLayout();
```

### <a name="remarks"></a>备注

请勿直接调用此方法。

##  <a name="invalidate"></a>  CWnd::Invalidate

使整个客户端区域无效， `CWnd`。

```
void Invalidate(BOOL bErase = TRUE);
```

### <a name="parameters"></a>参数

*bErase*<br/>
指定是否要清除中更新区域的背景。

### <a name="remarks"></a>备注

客户端区域标记为进行绘制时的下一步[WM_PAINT](#onpaint)消息时发生。 通过 WM_PAINT 消息之前，还可以验证区域[ValidateRect](#validaterect)或[ValidateRgn](#validatergn)成员函数。

*BErase*参数指定是否要清除时处理更新区域中更新区域的背景。 如果*bErase*为 TRUE 时，在后台时清除[BeginPaint](#beginpaint)调用成员函数; 如果*bErase*为 FALSE 时，后台保持不变。 如果*bErase*是 TRUE 的清除更新区域，而不仅仅是在给定部件的整个区域中的背景的任意部分。

Windows 将发送[WM_PAINT](#onpaint)每当消息`CWnd`更新区域不为空，并且在该窗口的应用程序队列中没有任何其他消息。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::UpdateWindow](#updatewindow)。

##  <a name="invalidaterect"></a>  CWnd::InvalidateRect

使给定矩形内的客户端区域无效通过添加到该矩形`CWnd`更新区域。

```
void InvalidateRect(
    LPCRECT lpRect,
    BOOL bErase = TRUE);
```

### <a name="parameters"></a>参数

*lpRect*<br/>
指向`CRect`对象或[RECT 结构](/windows/desktop/api/windef/ns-windef-tagrect)包含矩形 （在工作区坐标中） 添加到更新区域。 如果*lpRect*为 NULL，整个工作区添加到区域。

*bErase*<br/>
指定是否要清除中更新区域的背景。

### <a name="remarks"></a>备注

无效的矩形，以及更新区域中的所有其他区域标记为进行绘制时的下一步[WM_PAINT](#onpaint)发送消息。 无效的区域在更新区域中累积，直到下一个 WM_PAINT 调用时，处理区域或区域进行验证[ValidateRect](#validaterect)或[ValidateRgn](#validatergn)成员函数。

*BErase*参数指定是否要清除时处理更新区域中更新区域的背景。 如果*bErase*为 TRUE 时，在后台时清除[BeginPaint](#beginpaint)调用成员函数; 如果*bErase*为 FALSE 时，后台保持不变。 如果*bErase*的清除更新区域，在整个区域中的背景的任意部分，而不仅仅是在给定的一部分，则为 TRUE。

Windows 将发送[WM_PAINT](#onpaint)每当消息`CWnd`更新区域不为空，并且在该窗口的应用程序队列中没有任何其他消息。

##  <a name="invalidatergn"></a>  CWnd::InvalidateRgn

使给定区域内的客户端区域无效通过将其添加到当前更新区域的`CWnd`。

```
void InvalidateRgn(
    CRgn* pRgn,
    BOOL bErase = TRUE);
```

### <a name="parameters"></a>参数

*pRgn*<br/>
一个指向[CRgn](../../mfc/reference/crgn-class.md)对象，用于标识要添加到更新区域的区域。 假定该区域具有客户端坐标。 如果此参数为 NULL，则整个工作区添加到更新区域。

*bErase*<br/>
指定是否要清除中更新区域的背景。

### <a name="remarks"></a>备注

无效的区域，以及更新区域中的所有其他区域标记为进行绘制时[WM_PAINT](#onpaint)接下来发送消息。 无效的区域在更新区域中累积，直到下一步发送 WM_PAINT 消息，处理区域或区域进行验证[ValidateRect](#validaterect)或[ValidateRgn](#validatergn)成员函数。

*BErase*参数指定是否要清除时处理更新区域中更新区域的背景。 如果*bErase*为 TRUE 时，在后台时清除[BeginPaint](#beginpaint)调用成员函数; 如果*bErase*为 FALSE 时，后台保持不变。 如果*bErase*是 TRUE 的清除更新区域，而不仅仅是在给定部件的整个区域中的背景的任意部分。

Windows 将发送[WM_PAINT](#onpaint)每当消息`CWnd`更新区域不为空，并且在该窗口的应用程序队列中没有任何其他消息。

以前必须已将给定的区域创建其中一个区域函数中。

##  <a name="invokehelper"></a>  CWnd::InvokeHelper

调用此成员函数以调用 ActiveX 控件方法或属性指定的*dwDispID*，在指定的上下文*wFlags*。

```
void AFX_CDECL InvokeHelper(
    DISPID dwDispID,
    WORD wFlags,
    VARTYPE vtRet,
    void* pvRet,
    const BYTE* pbParamInfo,
    ... );
```

### <a name="parameters"></a>参数

*dwDispID*<br/>
标识要调用的方法或属性。

*wFlags*<br/>
描述对调用上下文的标志`IDispatch::Invoke`。

*vtRet*<br/>
指定返回值的类型。 有关可能的值，请参阅备注部分 [COleDispatchDriver::InvokeHelper](../../mfc/reference/coledispatchdriver-class.md#invokehelper)。

*pvRet*<br/>
将该变量的地址将接收的属性值或返回值。 它必须匹配指定的类型*vtRet*。

*pbParamInfo*<br/>
指向以 null 结尾字节指定后面的参数的类型的字符串指针*pbParamInfo*。 有关可能的值，请参阅备注部分`COleDispatchDriver::InvokeHelper`。

*...*<br/>
参数中指定的类型的变量列表*pbParamInfo*。

### <a name="remarks"></a>备注

*PbParamInfo*参数指定的参数传递到方法或属性的类型。 参数的变量列表在语法声明中通过 *...* 进行表示。

此函数将参数转换为 VARIANTARG 值，然后调用`IDispatch::Invoke`ActiveX 控件上的方法。 如果 `IDispatch::Invoke` 调用失败，则此函数会引发异常。 如果返回 SCODE （状态代码），那么`IDispatch::Invoke`是 DISP_E_EXCEPTION，此函数将引发[COleException](../../mfc/reference/coleexception-class.md)对象中，否则为它将引发[COleDispatchException](../../mfc/reference/coledispatchexception-class.md)。

> [!NOTE]
> 应仅在调用此函数`CWnd`对象，表示 ActiveX 控件。

有关此成员函数中使用的 ActiveX 控件容器的详细信息，请参阅文章[ActiveX 控件容器：ActiveX 控件容器中的 ActiveX 控件编程](../../mfc/programming-activex-controls-in-a-activex-control-container.md)。

##  <a name="ischild"></a>  CWnd::IsChild

指示在指定窗口*pWnd*的子窗口或其他直接子代的`CWnd`。

```
BOOL IsChild(const CWnd* pWnd) const;
```

### <a name="parameters"></a>参数

*pWnd*<br/>
标识要测试的窗口。

### <a name="return-value"></a>返回值

指定函数的结果。 值不为零，如果该窗口由标识*pWnd*是子窗口的`CWnd`; 否则为 0。

### <a name="remarks"></a>备注

子窗口是直接子代`CWnd`如果`CWnd`对象是从原始的弹出窗口指向子窗口的父窗口的链中。

##  <a name="isd2dsupportenabled"></a>  CWnd::IsD2DSupportEnabled

确定是否启用 D2D 支持。

```
BOOL IsD2DSupportEnabled();
```

### <a name="return-value"></a>返回值

如果已启用该功能; 则为 TRUE否则为 FALSE。

##  <a name="isdialogmessage"></a>  CWnd::IsDialogMessage

调用此成员函数来确定给定的消息是否适用于无模式对话框;如果是，此函数将处理该消息。

```
BOOL IsDialogMessage(LPMSG lpMsg);
```

### <a name="parameters"></a>参数

*lpMsg*<br/>
指向[MSG](/windows/desktop/api/winuser/ns-winuser-tagmsg)结构，其中包含要检查的消息。

### <a name="return-value"></a>返回值

指定成员函数是否已处理给定的消息。 如果已处理该消息，则它为非零值否则为 0。 如果返回为 0，则调用[cwnd:: Pretranslatemessage](#pretranslatemessage)来处理该消息的基类的成员函数。 中的重写`CWnd::PreTranslateMessage`成员函数的代码如下所示：

[!code-cpp[NVC_MFCWindowing#100](../../mfc/reference/codesnippet/cpp/cwnd-class_40.cpp)]

### <a name="remarks"></a>备注

当`IsDialogMessage`函数处理消息时，它会检查键盘消息，并将其转换为相应的对话框中的选择命令。 例如，TAB 键选择下一个控件或组控件，并向下箭头键选择下一个控件组中。

您必须通过处理的消息`IsDialogMessage`到[TranslateMessage](/windows/desktop/api/winuser/nf-winuser-translatemessage)或[DispatchMessage](/windows/desktop/api/winuser/nf-winuser-dispatchmessage) Windows 函数，因为已处理。

##  <a name="isdlgbuttonchecked"></a>  CWnd::IsDlgButtonChecked

确定按钮控件是否具有它旁边的复选标记。

```
UINT IsDlgButtonChecked(int nIDButton) const;
```

### <a name="parameters"></a>参数

*nIDButton*<br/>
指定按钮控件的整数标识符。

### <a name="return-value"></a>返回值

如果选中给定的控件，则非零值，如果未选中，则为 0。 仅单选按钮，可以选中复选框。 为三个状态的按钮，返回值可以是 2，如果按钮是不确定的。 此成员函数返回 0 表示某个按钮。

### <a name="remarks"></a>备注

如果该按钮具有三个状态的控件，此成员函数将确定是否它灰显，选中，或都不。

##  <a name="isdynamiclayoutenabled"></a>  CWnd::IsDynamicLayoutEnabled

确定是否在此窗口上启用动态布局。 如果启用动态布局，则子窗口的位置和大小可以在用户调整父窗口大小时进行更改。

```
BOOL IsDynamicLayoutEnabled() const;
```

### <a name="return-value"></a>返回值

如果启用了动态布局，则为 TRUE；否则为 FALSE。

### <a name="remarks"></a>备注

##  <a name="isiconic"></a>  CWnd::IsIconic

指定是否`CWnd`最小化 （图标化）。

```
BOOL IsIconic() const;
```

### <a name="return-value"></a>返回值

如果非零`CWnd`最小化; 否则为 0。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#101](../../mfc/reference/codesnippet/cpp/cwnd-class_41.cpp)]

##  <a name="istouchwindow"></a>  CWnd::IsTouchWindow

指定 `CWnd` 是否具有触摸支持。

```
BOOL IsTouchWindow() const;
```

### <a name="return-value"></a>返回值

如果`CWnd`具有触摸支持; 否则为 FALSE。

### <a name="remarks"></a>备注

##  <a name="iswindowenabled"></a>  CWnd::IsWindowEnabled

指定是否`CWnd`启用了对鼠标和键盘输入。

```
BOOL IsWindowEnabled() const;
```

### <a name="return-value"></a>返回值

如果非零`CWnd`已启用; 否则为 0。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#102](../../mfc/reference/codesnippet/cpp/cwnd-class_42.cpp)]

##  <a name="iswindowvisible"></a>  CWnd::IsWindowVisible

确定给定窗口的可见性状态。

```
BOOL IsWindowVisible() const;
```

### <a name="return-value"></a>返回值

如果非零`CWnd`可见 (具有[WS_VISIBLE](styles-used-by-mfc.md#window-styles)设置样式位，并且其父窗口处于可见)。 因为返回的值反映了 WS_VISIBLE 样式位的状态，则返回值可能为非零值即使`CWnd`完全遮盖其他窗口。

### <a name="remarks"></a>备注

一个窗口拥有 WS_VISIBLE 样式位所指示的可见性状态。 当通过调用设置此样式位[ShowWindow](#showwindow)成员函数，将显示的窗口和后续绘制到窗口将显示，只要窗口具有样式位组。

如果该窗口涵盖的其他 windows 则剪裁的其父窗口，将不显示任何绘制到具有 WS_VISIBLE 样式的窗口。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#103](../../mfc/reference/codesnippet/cpp/cwnd-class_43.cpp)]

##  <a name="iszoomed"></a>  CWnd::IsZoomed

确定是否`CWnd`已最大化。

```
BOOL IsZoomed() const;
```

### <a name="return-value"></a>返回值

如果非零`CWnd`最大化; 否则为 0。

##  <a name="killtimer"></a>  CWnd::KillTimer

终止通过标识的计时器事件*nIDEvent*早期调用`SetTimer`。

```
BOOL KillTimer(UINT_PTR nIDEvent);
```

### <a name="parameters"></a>参数

*nIDEvent*<br/>
计时器事件的值传递给[SetTimer](#settimer)。

### <a name="return-value"></a>返回值

指定函数的结果。 值为非零，如果事件已终止。 如果为 0`KillTimer`成员函数找不到指定的计时器事件。

### <a name="remarks"></a>备注

挂起[WM_TIMER](#ontimer)与计时器相关联的消息不会从消息队列。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::SetTimer](#settimer)。

##  <a name="loaddynamiclayoutresource"></a>  CWnd::LoadDynamicLayoutResource

由框架调用，以从资源文件加载动态布局信息。

```
BOOL LoadDynamicLayoutResource(LPCTSTR lpszResourceName);
```

### <a name="parameters"></a>参数

*lpszResourceName*<br/>
包含此窗口所需的动态布局信息的资源名称。

### <a name="return-value"></a>返回值

如果函数运行成功，则为非零。 如果发生故障，则为 0。

### <a name="remarks"></a>备注

请勿直接调用此方法。

##  <a name="lockwindowupdate"></a>  CWnd::LockWindowUpdate

禁用在给定窗口中绘制。

```
BOOL LockWindowUpdate();
```

### <a name="return-value"></a>返回值

如果函数运行成功，则为非零。 如果发生故障，或如果为 0`LockWindowUpdate`使用函数来锁定另一个窗口。

### <a name="remarks"></a>备注

无法移动已锁定的窗口。 可以一次锁定只能有一个窗口。 若要解锁使用锁定的窗口`LockWindowUpdate`，调用[UnlockWindowUpdate](#unlockwindowupdate)。

如果使用锁定的窗口 （或任何锁定的子窗口） 的应用程序调用[GetDC，](https://msdn.microsoft.com/library/windows/desktop/dd144871) [GetDCEx，](https://msdn.microsoft.com/library/windows/desktop/dd144873)或[BeginPaint](/windows/desktop/api/winuser/nf-winuser-beginpaint) Windows 函数调用的函数返回设备上下文的可见区域为空。 应用程序通过调用解锁窗口之前，会发生此情况`UnlockWindowUpdate`成员函数。

当窗口更新将被锁定时，系统将记录的设备上下文与锁定窗口关联到任意绘制操作的绑定矩形。 此边框时重新绘制，在锁定的窗口及其子窗口以强制最终中失效[WM_PAINT](/windows/desktop/gdi/wm-paint)消息更新屏幕。 如果不发生任何绘图窗口更新已锁定时，没有区域会失效。

`LockWindowUpdate`成员函数不会使给定的窗口不可见，并将不会清除[WS_VISIBLE](styles-used-by-mfc.md#window-styles)样式位。

##  <a name="m_hwnd"></a>  CWnd::m_hWnd

Windows 窗口的句柄附加到此`CWnd`。

```
HWND m_hWnd;
```

### <a name="remarks"></a>备注

`m_hWnd`数据成员是公共类型的变量的 HWND。

##  <a name="mapwindowpoints"></a>  CWnd::MapWindowPoints

将一组点从 `CWnd` 的坐标空间转换（映射）到另一个窗口的坐标空间。

```
void MapWindowPoints(
    CWnd* pwndTo,
    LPRECT lpRect) const;

void MapWindowPoints(
    CWnd* pwndTo,
    LPPOINT lpPoint,
    UINT nCount) const;
```

### <a name="parameters"></a>参数

*pwndTo*<br/>
将点转换成的窗口。 如果此参数为 NULL，点将转换为屏幕坐标。

*lpRect*<br/>
指定的点是要转换的矩形。 仅对于 Windows 3.1 和更高版本，此函数的第一个版本是可用。

*lpPoint*<br/>
指向数组的指针[POINT 结构](/windows/desktop/api/windef/ns-windef-tagpoint)包含要转换的点集。

*nCount*<br/>
指定的数量`POINT`指向数组中的结构*lpPoint*。

##  <a name="messagebox"></a>  CWnd::MessageBox

创建并显示一个窗口，其中包含应用程序提供的消息和标题，再加上的预定义的图标和中所述的按键组合[消息框样式](../../mfc/reference/styles-used-by-mfc.md#message-box-styles)列表。

```
int MessageBox(
    LPCTSTR lpszText,
    LPCTSTR lpszCaption = NULL,
    UINT nType = MB_OK);
```

### <a name="parameters"></a>参数

*lpszText*<br/>
指向`CString`对象或包含要显示的消息的以 null 结尾的字符串。

*lpszCaption*<br/>
指向`CString`对象或以 null 结尾的字符串要用于消息框标题。 如果*lpszCaption*为 NULL，使用"错误"的默认标题。

*nType*<br/>
指定的内容和消息框的行为。

### <a name="return-value"></a>返回值

此方法利用[MessageBox](/windows/desktop/api/winuser/nf-winuser-messagebox)函数 Windows SDK 中定义。 此方法返回调用此函数的结果。

### <a name="remarks"></a>备注

使用全局函数[AfxMessageBox](../../mfc/reference/cstring-formatting-and-message-box-display.md#afxmessagebox)而不是该成员函数以在你的应用程序中实现一个消息框。

下面显示了可以在消息框中使用的各种系统图标：

|||
|-|-|
|![停止&#40;x&#41;图标](../../mfc/reference/media/vc364f1.gif "停止&#40;x&#41;图标")|MB_ICONHAND、 MB_ICONSTOP 和 MB_ICONERROR|
|![帮助&#40;？&#41;图标](../../mfc/reference/media/vc364f2.gif "帮助&#40;？&#41;图标")|MB_ICONQUESTION|
|![重要&#40; &#33; &#41;图标](../../mfc/reference/media/vc364f3.gif "重要&#40; &#33; &#41;图标")|MB_ICONEXCLAMATION 和 MB_ICONWARNING|
|![信息&#40;我&#41;图标](../../mfc/reference/media/vc364f4.gif "信息&#40;i&#41;图标")|MB_ICONASTERISK 和 MB_ICONINFORMATION|

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#104](../../mfc/reference/codesnippet/cpp/cwnd-class_44.cpp)]

##  <a name="modifystyle"></a>  CWnd::ModifyStyle

调用此成员函数来修改窗口的样式。

```
BOOL ModifyStyle(
    DWORD dwRemove,
    DWORD dwAdd,
    UINT nFlags = 0);
```

### <a name="parameters"></a>参数

*dwRemove*<br/>
指定要删除在样式修改过程的窗口样式。

*dwAdd*<br/>
指定要添加样式修改期间的窗口样式。

*nFlags*<br/>
要传递给标志[SetWindowPos](#setwindowpos)，或为零`SetWindowPos`不应调用。 默认值为零。 请参阅预设标志的列表的备注部分。

### <a name="return-value"></a>返回值

如果已成功修改样式; 非零值否则为为 0。

### <a name="remarks"></a>备注

可以通过使用按位 OR 组合样式来添加或删除 (&#124;) 运算符。 请参阅主题[的窗口样式](/windows/desktop/winmsg/window-styles)并[CreateWindow](/windows/desktop/api/winuser/nf-winuser-createwindowa)有关可用的窗口样式信息 Windows SDK 中。

如果*nFlags*为非零值，`ModifyStyle`调用 Windows API 函数[SetWindowPos](/windows/desktop/api/winuser/nf-winuser-setwindowpos)并重绘窗口通过组合*nFlags*与以下四个预设标志：

- SWP_NOSIZE 保留当前的大小。

- SWP_NOMOVE 保留当前的位置。

- SWP_NOZORDER 保留当前的 Z 顺序。

- SWP_NOACTIVATE 不会激活窗口。

若要修改一个窗口的扩展样式，请参阅[ModifyStyleEx](#modifystyleex)。

> [!NOTE]
> 对于某些控件 （ES_READONLY 在编辑控件中，例如样式），在某些样式`ModifyStyle`可能不正确更改样式因为控件可能需要执行特殊的内部处理。 在这些情况下，相应的消息更改样式将可用 (EM_SETREADONLY 中所述的示例)。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#105](../../mfc/reference/codesnippet/cpp/cwnd-class_45.cpp)]

##  <a name="modifystyleex"></a>  CWnd::ModifyStyleEx

调用此成员函数来修改窗口的扩展的样式。

```
BOOL ModifyStyleEx(
    DWORD dwRemove,
    DWORD dwAdd,
    UINT nFlags = 0);
```

### <a name="parameters"></a>参数

*dwRemove*<br/>
指定要删除在样式修改过程的扩展的样式。

*dwAdd*<br/>
指定要添加样式修改期间的扩展的样式。

*nFlags*<br/>
要传递给标志[SetWindowPos](#setwindowpos)，或为零`SetWindowPos`不应调用。 默认值为零。 请参阅预设标志的列表的备注部分。

### <a name="return-value"></a>返回值

如果已成功修改样式; 非零值否则为为 0。

### <a name="remarks"></a>备注

可以通过使用按位 OR 组合样式来添加或删除 (&#124;) 运算符。 请参阅主题[扩展窗口样式](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles)本书中并[CreateWindowEx](/windows/desktop/api/winuser/nf-winuser-createwindowexa)有关可用的信息在 Windows sdk 扩展样式

如果*nFlags*为非零值，`ModifyStyleEx`调用 Windows API 函数[SetWindowPos](/windows/desktop/api/winuser/nf-winuser-setwindowpos)并重绘窗口通过组合*nFlags*与以下四个预设标志：

- SWP_NOSIZE 保留当前的大小。

- SWP_NOMOVE 保留当前的位置。

- SWP_NOZORDER 保留当前的 Z 顺序。

- SWP_NOACTIVATE 不会激活窗口。

若要修改 windows 中使用正则窗口样式，请参阅[ModifyStyle](#modifystyle)。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#106](../../mfc/reference/codesnippet/cpp/cwnd-class_46.cpp)]

##  <a name="movewindow"></a>  CWnd::MoveWindow

更改的位置和尺寸。

```
void MoveWindow(
    int x,
    int y,
    int nWidth,
    int nHeight,
    BOOL bRepaint = TRUE);

void MoveWindow(
    LPCRECT lpRect,
    BOOL bRepaint = TRUE);
```

### <a name="parameters"></a>参数

*x*<br/>
指定新位置的左侧和右侧的`CWnd`。

*y*<br/>
指定新位置的顶部`CWnd`。

*nWidth*<br/>
指定的新宽度`CWnd`。

*nHeight*<br/>
指定新的高度`CWnd`。

*bRepaint*<br/>
指定是否`CWnd`是进行重新绘制。 如果为 TRUE，`CWnd`接收[WM_PAINT](/windows/desktop/gdi/wm-paint)消息其[OnPaint](#onpaint)像往常一样消息处理程序。 如果此参数为 FALSE，没有任何类型的重新绘制时发生。 这适用于工作区、 非工作区 （包括标题和滚动条），和父窗口为发现的任何部分`CWnd`的移动。 当此参数为 FALSE 时，应用程序必须显式失效或重新绘制的任何部分`CWnd`和父窗口，必须重绘。

*lpRect*<br/>
[CRect](../../atl-mfc-shared/reference/crect-class.md)对象或[RECT 结构](/windows/desktop/api/windef/ns-windef-tagrect)，它指定新的大小和位置。

### <a name="remarks"></a>备注

为顶级`CWnd`对象， *x*并*y*参数是相对于屏幕的左上角。 某个子项的`CWnd`对象，它们是相对于父窗口的工作区的左上角。

`MoveWindow`函数发送[WM_GETMINMAXINFO](#ongetminmaxinfo)消息。 处理此消息提供`CWnd`机会来修改最大和最小可能 windows 的默认值。 如果为参数`MoveWindow`成员函数超过这些值，值可以替换为 WM_GETMINMAXINFO 处理程序中的最小值或最大值。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::ClientToScreen](#clienttoscreen)。

##  <a name="notifywinevent"></a>  CWnd::NotifyWinEvent

向系统发出信号，指出发生了预定义事件。 如果任何客户端应用程序中注册该事件的挂钩函数，系统将调用客户端的挂钩函数。

```
void NotifyWinEvent(
    DWORD event,
    LONG idObjectType,
    LONG idObject);
```

### <a name="parameters"></a>参数

*event*<br/>
指定发生的事件。 此值必须是之一[事件常量](/windows/desktop/WinAuto/event-constants)。

*idObjectType*<br/>
标识生成事件的对象的种类。 此值是在预定义之一[对象标识符](/windows/desktop/WinAuto/object-identifiers)或自定义对象的 ID 值。

*idObject*<br/>
标识是否生成事件的对象或对象的一个子元素。 如果此值为 CHILDID_SELF，对象本身生成事件。 否则，此值是生成事件的元素的子 ID。

### <a name="remarks"></a>备注

此成员函数模拟函数的功能[NotifyWinEvent](/windows/desktop/api/winuser/nf-winuser-notifywinevent)，如 Windows SDK 中所述。

##  <a name="onactivate"></a>  CWnd::OnActivate

框架将调用此成员函数时`CWnd`对象正在激活或停用。

```
afx_msg void OnActivate(
    UINT nState,
    CWnd* pWndOther,
    BOOL bMinimized);
```

### <a name="parameters"></a>参数

*nState*<br/>
指定是否`CWnd`正在激活或停用。 它可以是下列值之一：

- 正在停用 WA_INACTIVE 窗口。

- WA_ACTIVE 窗口正在激活通过某种方法不是鼠标单击 （例如，通过选择窗口的键盘界面使用）。

- 通过单击鼠标正在激活 WA_CLICKACTIVE 窗口。

*pWndOther*<br/>
指向`CWnd`正在激活或停用。 指针可以为 NULL，而且可能是临时。

*bMinimized*<br/>
指定的最小化的状态`CWnd`正在激活或停用。 值为 TRUE 指示窗口已最小化。

如果为 TRUE，`CWnd`正在激活; 停用。

### <a name="remarks"></a>备注

如果`CWnd`用鼠标单击激活的对象，它将接收[OnMouseActivate](#onmouseactivate)成员函数调用。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onactivateapp"></a>  CWnd::OnActivateApp

到所有顶级窗口被激活的任务，并为正在停用任务的所有顶级窗口，框架调用此成员函数。

```
afx_msg void OnActivateApp(
    BOOL bActive,
    DWORD dwThreadID);
```

### <a name="parameters"></a>参数

*bActive*<br/>
指定是否`CWnd`正在激活或停用。 TRUE 表示`CWnd`正在激活。 FALSE 表示`CWnd`正在停用。

*dwThreadID*<br/>
指定的值的线程 id。 如果*bActive*为 TRUE， *dwThreadID*标识拥有的线程`CWnd`正在停用。 如果*bActive*为 FALSE 时， *dwThreadID*标识拥有的线程`CWnd`正在激活。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onambientproperty"></a>  CWnd::OnAmbientProperty

框架调用此成员函数以从包含 OLE 控件的窗口中获取环境属性值。

```
virtual BOOL OnAmbientProperty(
    COleControlSite* pSite,
    DISPID dispid,
    VARIANT* pvar);
```

### <a name="parameters"></a>参数

*pSite*<br/>
对站点的请求环境属性的控件的指针。

*dispid*<br/>
请求的环境属性的调度 ID。

*pvar*<br/>
指向调用方分配`VARIANT`结构，通过返回环境属性的值。

### <a name="return-value"></a>返回值

如果支持该环境的属性; 则为 TRUE如果不为 FALSE。

### <a name="remarks"></a>备注

重写此函数可更改的默认的环境属性值返回到其控件的 OLE 控件容器。 重写函数不处理任何环境属性请求应转发到基类实现。

##  <a name="onappcommand"></a>  CWnd::OnAppCommand

当用户生成应用程序命令事件时，框架将调用此成员函数。 当用户单击应用程序命令按钮或者在应用程序命令键，则会发生这种情况下。

```
afx_msg void OnAppCommand(
    CWnd* pWnd,
    UINT nCmd,
    UINT nDevice,
    UINT nKey);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*pWnd*|[in]指向`CWnd`对象，表示用户已单击的命令按钮或按命令键的窗口。 此窗口可以接收消息的窗口的子窗口。|
|*nCmd*|[in]指示应用程序命令。 有关可能的值的列表，请参阅下面的命令*cmd*一部分*lParam*参数[WM_APPCOMMAND](/windows/desktop/inputdev/wm-appcommand)。|
|*nDevice*|[in]输入生成的设备的输入的事件。 有关可能的值的列表，请参阅下的设备*uDevice*一部分*lParam*参数[WM_APPCOMMAND](/windows/desktop/inputdev/wm-appcommand)。|
|*nKey*|[in]指示都已关闭，例如鼠标左键或 CTRL 键的任何虚拟键。 有关可能的值的列表，请参阅下的项*dwKeys*一部分*lParam*参数[WM_APPCOMMAND](/windows/desktop/inputdev/wm-appcommand)。 有关详细信息，请参阅在"消息参数"副标题[有关鼠标输入](/windows/desktop/inputdev/about-mouse-input)。|

### <a name="remarks"></a>备注

此方法接收[WM_APPCOMMAND](/windows/desktop/inputdev/wm-appcommand)通知，Windows SDK 中所述。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onaskcbformatname"></a>  CWnd::OnAskCbFormatName

框架将调用此成员函数在剪贴板中包含数据时处理 CF_OWNERDISPLAY 格式 （即，当剪贴板所有者显示剪贴板内容）。

```
afx_msg void OnAskCbFormatName(
    UINT nMaxCount,
    LPTSTR lpszString);
```

### <a name="parameters"></a>参数

*nMaxCount*<br/>
指定要复制字节最大的数目。

*lpszString*<br/>
指向以该格式名称的副本将存储的缓冲区。

### <a name="remarks"></a>备注

剪贴板所有者应提供有关其格式的名称。

重写此成员函数，并将 CF_OWNERDISPLAY 格式的名称复制到指定的缓冲区，不超过最大指定字节数。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="oncancelmode"></a>  CWnd::OnCancelMode

框架调用此成员函数以告知`CWnd`取消任何内部模式。

```
afx_msg void OnCancelMode();
```

### <a name="remarks"></a>备注

如果`CWnd`对象具有焦点，其`OnCancelMode`时显示对话框或消息框中，调用成员函数。 这样，`CWnd`取消鼠标捕获等模式的机会。

默认实现通过调用来响应[ReleaseCapture](/windows/desktop/api/winuser/nf-winuser-releasecapture) Windows 函数。 重写此成员函数在派生类来处理其他模式。

##  <a name="oncapturechanged"></a>  CWnd::OnCaptureChanged

框架调用此成员函数，以通知正在失去鼠标捕获的窗口。

```
afx_msg void OnCaptureChanged(CWnd* pWnd);
```

### <a name="parameters"></a>参数

*pWnd*<br/>
指向要获得鼠标捕获的窗口的指针

### <a name="remarks"></a>备注

窗口收到此消息，即使它会调用[ReleaseCapture](/windows/desktop/api/winuser/nf-winuser-releasecapture)本身。 应用程序不应尝试对此消息的响应设置鼠标捕获。 当它收到此消息时，窗口应重绘自己，如有必要，以反映新的鼠标捕获状态。

请参阅适用于信息的 Windows SDK `ReleaseCapture` Windows 函数。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onchangecbchain"></a>  CWnd::OnChangeCbChain

为每个窗口剪贴板查看器链来向其通知正在从链中移除一个窗口中，框架调用此成员函数。

```
afx_msg void OnChangeCbChain(
    HWND hWndRemove,
    HWND hWndAfter);
```

### <a name="parameters"></a>参数

*hWndRemove*<br/>
指定要从剪贴板查看器链中移除的窗口句柄。

*hWndAfter*<br/>
指定遵循正在从剪贴板查看器链中删除该窗口的窗口句柄。

### <a name="remarks"></a>备注

每个`CWnd`对象，它接收`OnChangeCbChain`应使用调用[SendMessage](/windows/desktop/api/winuser/nf-winuser-sendmessage) Windows 函数来发送[WM_CHANGECBCHAIN](/windows/desktop/dataxchg/wm-changecbchain)剪贴板查看器中的下一个窗口的消息链 (返回的句柄`SetClipboardViewer`)。 如果*hWndRemove*是链，通过指定的窗口中的下一个窗口*hWndAfter*会成为下一步的窗口中，并且剪贴板消息将传递到它。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onchangeuistate"></a>  CWnd::OnChangeUIState

在应更改用户界面 (UI) 状态时调用。

```
afx_msg void OnChangeUIState(
    UINT nAction,
    UINT nUIElement);
```

### <a name="parameters"></a>参数

*nAction*<br/>
指定要执行的操作。 可以是以下值之一：

- UIS_CLEAR 的 UI 状态元素 (由指定*nUIElement*) 应隐藏。

- UIS_INITIALIZE 的 UI 状态元素 (由指定*nUIElement*) 应根据最后一个输入事件进行更改。 有关详细信息，请参阅**备注**一部分[WM_CHANGEUISTATE](/windows/desktop/menurc/wm-changeuistate)。

- UIS_SET 的 UI 状态元素 (由指定*nUIElement*) 应为可见。

*nUIElement*<br/>
指定受影响的用户界面状态元素或控件的样式。 可以是以下值之一：

- UISF_HIDEACCEL 键盘加速器。

- UISF_HIDEFOCUS 焦点指示器。

- UISF_ACTIVE Windows XP:应在用于活动控件的样式绘制控件。

### <a name="remarks"></a>备注

此成员函数模拟的功能[WM_CHANGEUISTATE](/windows/desktop/menurc/wm-changeuistate)消息，如 Windows SDK 中所述。

##  <a name="onchar"></a>  CWnd::OnChar

当击键转换为非系统字符时，框架将调用此成员函数。

```
afx_msg void OnChar(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>参数

*nChar*<br/>
包含键的字符代码值。

*nRepCnt*<br/>
包含重复次数的击键时用户按住该键重复的次数。

*nFlags*<br/>
包含扫描代码、 密钥转换代码、 上一项状态和上下文的代码中，如下面的列表中所示：

|“值”|含义|
|-----------|-------------|
|0-15|指定的重复计数。 值是由于用户按下键而重复击键次数。|
|16-23|指定扫描代码。 值取决于原始设备制造商 (OEM)|
|24|指定密钥是否是扩展的密钥，例如增强的 101 或 102 键键盘显示的右侧 ALT 和 CTRL 键。 值为 1，如果它是一个扩展的密钥;否则，则为 0。|
|25-28|由 Windows 内部使用。|
|29|指定的上下文代码。 如果当按下了键; 并按住 ALT 键，则值为 1否则，值为 0。|
|30|指定上一个键的状态。 如果密钥已关闭之前发送消息，或如果密钥已启用，则为 0，则值为 1。|
|31|指定转换状态。 如果正在释放键，或如果按下了键则为 0，则值为 1。|

### <a name="remarks"></a>备注

此函数之前调用[OnKeyUp](#onkeyup)成员函数及[OnKeyDown](#onkeydown)调用成员函数。 `OnChar` 包含被按下或释放的键盘键的值。

因为不一定存在一对一的对应关系之间按下的键和`OnChar`生成的调用中的信息*nFlags*通常是不到应用程序很有用。 中的信息*nFlags*仅适用于最新调用`OnKeyUp`成员函数或`OnKeyDown`成员函数之前调用`OnChar`。

对于 IBM 增强 101 和 102 键键盘，增强型的密钥是右 ALT 和键盘; 的主要部分上的右 CTRL 键项、 DEL、 主页、 结束、 PAGE UP、 PAGE DOWN 和左侧的数字键盘中; 群集中的箭头键和斜杠 （/） 和数字键盘中的 ENTER 键。 一些其他键盘可能支持中的扩展密钥位*nFlags*。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onchartoitem"></a>  CWnd::OnCharToItem

调用时具有的列表框[LBS_WANTKEYBOARDINPUT](../../mfc/reference/styles-used-by-mfc.md#list-box-styles)样式发送其所有者[WM_CHARTOITEM](/windows/desktop/Controls/wm-chartoitem)消息以响应[WM_CHAR](#onchar)消息。

```
afx_msg int OnCharToItem(
    UINT nChar,
    CListBox* pListBox,
    UINT nIndex);
```

### <a name="parameters"></a>参数

*nChar*<br/>
指定由用户按下的键的值。

*pListBox*<br/>
指定指向列表框。 它可能是暂时的。

*nIndex*<br/>
指定当前插入符号位置。

### <a name="return-value"></a>返回值

框架调用此成员函数以指定应用程序以响应调用的执行的操作。 返回值-2 表示应用程序处理的选择项的所有方面，希望列表框中的任何进一步的操作。 返回值为-1 表示列表框中应执行击键的响应的默认操作。 返回值为 0 或更高版本的列表框中指定项的从零开始的索引，并指示列表框中应为击键上给定的项执行默认操作。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onchildactivate"></a>  CWnd::OnChildActivate

如果`CWnd`对象是多文档界面 (MDI) 子窗口，`OnChildActivate`是由框架调用，当用户单击窗口的标题栏或窗口激活时，移动，或调整其大小。

```
afx_msg void OnChildActivate();
```

##  <a name="onchildnotify"></a>  CWnd::OnChildNotify

接收应用于该窗口的通知消息时，将通过此窗口的父窗口调用此成员函数。

```
virtual BOOL OnChildNotify(
    UINT message,
    WPARAM wParam,
    LPARAM lParam,
    LRESULT* pResult);
```

### <a name="parameters"></a>参数

*message*<br/>
向父窗口发送一个 Windows 消息号。

*wParam*<br/>
*Wparam*与消息关联。

*lParam*<br/>
*Lparam*与消息关联。

*pLResult*<br/>
指向要从父级的窗口过程返回的值的指针。 如果不产生任何返回值，此指针将为 NULL。

### <a name="return-value"></a>返回值

如果此窗口负责处理该消息发送给其父级; 非零值否则为 0。

### <a name="remarks"></a>备注

永远不会直接调用此成员函数。

此成员函数的默认实现返回 0，这意味着父级应处理消息。

重写此成员函数以扩展控件用来响应通知消息的方式。

##  <a name="onclipboardupdate"></a>  CWnd::OnClipboardUpdate

剪贴板的内容已更改时，框架将调用此成员函数。

```
afx_msg void OnClipboardUpdate();
```

##  <a name="onclose"></a>  CWnd::OnClose

框架调用此成员函数作为信号的`CWnd`或应用程序将终止。

```
afx_msg void OnClose();
```

### <a name="remarks"></a>备注

默认实现将调用`DestroyWindow`。

##  <a name="oncolorizationcolorchanged"></a>  CWnd::OnColorizationColorChanged

非工作区渲染策略已更改时，框架将调用此成员。

```
afx_msg void OnColorizationColorChanged(
    DWORD dwColorizationColor,
    BOOL bOpacity);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*dwColorizationColor*|[in]指定新的着色颜色。<br /><br /> 颜色格式是十六进制数的窗体 0xAARRGGBB，其中每个四个组件的范围从 0x00 通过 0xFF。 AA 组件是 alpha 值、 RR 是红色的颜色、 GG 为绿色，和 BB 为蓝色。|
|*bOpacity*|[in]如果新的颜色混合使用不透明度，则为 TRUE如果不是，FALSE。|

### <a name="remarks"></a>备注

此方法接收[WM_DWMNCRENDERINGCHANGED](/windows/desktop/dwm/wm-dwmcolorizationcolorchanged)通知消息时，Windows SDK 中所述。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="oncommand"></a>  CWnd::OnCommand

当用户从菜单中选择某个项，子控件将发送一条通知消息，或加速器键击转换时，框架将调用此成员函数。

```
virtual BOOL OnCommand(
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>参数

*wParam*<br/>
低序位字*wParam*标识的菜单项、 控件或快捷键的命令 ID。 高序位字*wParam*指定通知消息，如果消息是从另一控件。 如果消息是从加速器，高序位字为 1。 如果消息是从一个菜单，高序位字为 0。

*lParam*<br/>
标识发送消息，如果消息是从控件的控件。 否则为*lParam*为 0。

### <a name="return-value"></a>返回值

应用程序返回非零，如果它可以处理此消息;否则为 0。

### <a name="remarks"></a>备注

`OnCommand` 处理控件通知和 ON_COMMAND 条目的消息映射，调用相应的成员函数。

重写此成员函数在派生类来处理[WM_COMMAND](/windows/desktop/menurc/wm-command)消息。 除非重写将处理的消息映射的基类`OnCommand`调用。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="oncompacting"></a>  CWnd::OnCompacting

框架调用此成员函数针对所有顶级窗口，当 Windows 检测到所压缩内存所用 12.5%以上的 30 到 60 秒间隔内的系统时间。

```
afx_msg void OnCompacting(UINT nCpuTime);
```

### <a name="parameters"></a>参数

*nCpuTime*<br/>
指定当前所用的 Windows 压缩内存与 CPU 时间花费在执行其他操作的 CPU 时间的比率。 例如，8000 h 表示 50%的 CPU 时间压缩内存。

### <a name="remarks"></a>备注

这表明系统内存不足。

当`CWnd`对象收到此调用时，它应尽可能考虑在内的应用程序和总运行在 Windows 中的应用程序的活动的当前级别释放尽可能多的内存。 应用程序可以调用 Windows 函数来确定在运行应用程序的数量。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="oncompareitem"></a>  CWnd::OnCompareItem

框架调用此成员函数以在排序的子所有者描述组合框或列表框中指定新项的相对位置。

```
afx_msg int OnCompareItem(
    int nIDCtl,
    LPCOMPAREITEMSTRUCT lpCompareItemStruct);
```

### <a name="parameters"></a>参数

*nIDCtl*<br/>
发送 WM_COMPAREITEM 消息的控件的标识符。

*lpCompareItemStruct*<br/>
包含的长指针[COMPAREITEMSTRUCT](/windows/desktop/api/winuser/ns-winuser-tagcompareitemstruct)数据结构，其中包含的标识符和应用程序提供两个项组合框或列表框中的数据。

### <a name="return-value"></a>返回值

指示两个项的相对位置。 它可能是以下值之一：

|“值”|含义|
|-----------|-------------|
|-1|第 1 项进行排序项 2 之前。|
|0|第 1 项和项 2 排序相同。|
|1|在项 2 之后，第 1 项进行排序。|

### <a name="remarks"></a>备注

如果创建一个组合框或列表框[CBS_SORT](../../mfc/reference/styles-used-by-mfc.md#combo-box-styles)或[LBS_SORT](../../mfc/reference/styles-used-by-mfc.md#list-box-styles)样式，Windows 组合框或列表框将向所有者发送 WM_COMPAREITEM 消息每当应用程序将添加新项。

组合框或列表框中的两个项修订后的中`COMPAREITEMSTRUCT`指向结构*lpCompareItemStruct*。 `OnCompareItem` 应返回一个值，指示哪个项应出现在之前的其他。 通常情况下，Windows 将使此调用几次直到确定新项的准确位置。

如果`hwndItem`的成员`COMPAREITEMSTRUCT`结构属于[CListBox](../../mfc/reference/clistbox-class.md)或[CComboBox](../../mfc/reference/ccombobox-class.md)对象，则`CompareItem`调用相应的类的虚函数。 重写`CComboBox::CompareItem`或`CListBox::CompareItem`中将派生`CListBox`或`CComboBox`类来执行项比较。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="oncompositionchanged"></a>  CWnd::OnCompositionChanged

启用或禁用桌面窗口管理器 (DWM) 组合时，框架针对所有顶级窗口调用此成员函数。

```
afx_msg void OnCompositionChanged();
```

### <a name="remarks"></a>备注

此方法接收[WM_DWMCOMPOSITIONCHANGED](/windows/desktop/dwm/wm-dwmcompositionchanged)通知，Windows SDK 中所述。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="oncontextmenu"></a>  CWnd::OnContextMenu

当用户单击 （右键单击） 在窗口中的鼠标右键按钮时由框架调用。

```
afx_msg void OnContextMenu(
    CWnd* pWnd,
    CPoint pos);
```

### <a name="parameters"></a>参数

*pWnd*<br/>
在其中用户右键单击鼠标窗口句柄。 这可以是窗口的接收消息的子窗口。 有关处理此消息的详细信息，请参阅备注部分。

*pos*<br/>
用屏幕坐标表示时的鼠标光标的位置单击。

### <a name="remarks"></a>备注

可以通过显示上下文菜单使用来处理此消息[TrackPopupMenu](../../mfc/reference/cmenu-class.md#trackpopupmenu)。

如果不显示上下文菜单应传递到此消息[DefWindowProc](#defwindowproc)函数。 如果您的窗口是子窗口，`DefWindowProc`将消息发送给父级。 否则为`DefWindowProc`如果指定的位置是窗口的标题中显示默认上下文菜单。

##  <a name="oncopydata"></a>  CWnd::OnCopyData

由框架，以将数据复制到另一个应用程序中调用此成员函数。

```
afx_msg BOOL OnCopyData(
    CWnd* pWnd,
    COPYDATASTRUCT* pCopyDataStruct);
```

### <a name="parameters"></a>参数

*pWnd*<br/>
一个指向`CWnd`发送数据的对象。

*pCopyDataStruct*<br/>
一个指向[COPYDATASTRUCT](/windows/desktop/api/winuser/ns-winuser-tagcopydatastruct)结构，其中包含要发送的数据。

### <a name="return-value"></a>返回值

如果接收应用程序已成功接受的数据，则返回 TRUE。 否则，返回 FALSE。

### <a name="remarks"></a>备注

正在传递的数据不能包含指针或对对象接收数据的应用程序无法访问的其他引用。

正在复制数据，而发送过程的另一个线程必须不会更改。

只读的接收应用程序应考虑数据。 参数指向的结构*pCopyDataStruct*是有效的数据; 在传输期间只但是，接收应用程序不应释放与该结构关联的内存。

如果接收应用程序需要访问的数据，此函数返回后，它必须复制到本地缓冲区中接收的数据。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="oncreate"></a>  CWnd::OnCreate

框架调用此成员函数，当应用程序请求通过调用创建 Windows 窗口[创建](#create)或[CreateEx](#createex)成员函数。

```
afx_msg int OnCreate(LPCREATESTRUCT lpCreateStruct);
```

### <a name="parameters"></a>参数

*lpCreateStruct*<br/>
指向[CREATESTRUCT](/windows/desktop/api/winuser/ns-winuser-tagcreatestructa)结构，其中包含有关的信息`CWnd`对象创建。

### <a name="return-value"></a>返回值

`OnCreate` 必须返回 0，若要继续创建`CWnd`对象。 如果应用程序将返回-1，将销毁窗口。

### <a name="remarks"></a>备注

`CWnd`对象接收此调用创建窗口之后，但之前它将显示出来。 `OnCreate` 之前调用`Create`或`CreateEx`成员函数返回。

重写此成员函数以执行派生任何的类所需的初始化。

`CREATESTRUCT`结构包含用于创建窗口的参数的副本。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onctlcolor"></a>  CWnd::OnCtlColor

要在绘制子控件时，框架将调用此成员函数。

```
afx_msg HBRUSH OnCtlColor(
    CDC* pDC,
    CWnd* pWnd,
    UINT nCtlColor);
```

### <a name="parameters"></a>参数

*pDC*<br/>
包含子窗口的显示上下文的指针。 可能是暂时的。

*pWnd*<br/>
包含请求的颜色的控件的指针。 可能是暂时的。

*nCtlColor*<br/>
包含指定控件的类型的以下值之一：

- CTLCOLOR_BTN 按钮控件

- CTLCOLOR_DLG 对话框

- CTLCOLOR_EDIT 编辑控件

- CTLCOLOR_LISTBOX 列表框控件

- CTLCOLOR_MSGBOX 消息框

- CTLCOLOR_SCROLLBAR 滚动条控件

- CTLCOLOR_STATIC 静态控件

### <a name="return-value"></a>返回值

`OnCtlColor` 必须返回一个句柄到是要用于绘制控件背景的画笔。

### <a name="remarks"></a>备注

大多数控件将此消息发送到其父级 （通常为对话框） 来准备*pDC*用于绘制控件使用正确的颜色。

若要更改的文本颜色，请调用`SetTextColor`具有所需的红色、 绿色和蓝色 (RGB) 值的成员函数。

若要更改的单行编辑控件的背景色，请将画笔句柄设置 CTLCOLOR_EDIT 和 CTLCOLOR_MSGBOX 消息代码并调用[CDC::SetBkColor](../../mfc/reference/cdc-class.md#setbkcolor)响应 CTLCOLOR_EDIT 代码的函数。

`OnCtlColor` 不会调用一个下拉组合框的列表框因为下拉列表框是实际组合框的子级，而不是在窗口的子级。 若要更改下拉列表框的颜色，请创建`CComboBox`使用的重写`OnCtlColor`，用于检查在 CTLCOLOR_LISTBOX`nCtlColor`参数。 在此处理程序，`SetBkColor`成员函数必须用于设置文本的背景色。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。 若要将以下方法添加到对话框类中，使用 Visual Studio 的属性窗格添加为 WM_CTLCOLOR 消息处理程序。 或者，可以在消息映射到手动添加 ON_WM_CTLCOLOR() 条目。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#107](../../mfc/reference/codesnippet/cpp/cwnd-class_47.cpp)]

##  <a name="ondeadchar"></a>  CWnd::OnDeadChar

框架将调用此成员函数时[OnKeyUp](#onkeyup)成员函数和[OnKeyDown](#onkeydown)调用成员函数。

```
afx_msg void OnDeadChar(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>参数

*nChar*<br/>
指定死键的字符值。

*nRepCnt*<br/>
指定的重复计数。

*nFlags*<br/>
指定扫描代码、 密钥转换代码、 上一项状态和上下文的代码中，如下面的列表中所示：

|“值”|描述|
|-----------|-----------------|
|0-7|扫描代码 （依赖于 OEM 的值）。 高序位字低位字节。|
|8|扩展的密钥，如功能键或 （如果它是扩展的键为 1; 否则为 0） 数字键盘上的密钥。|
|9-10|未使用。|
|11-12|由 Windows 内部使用。|
|13|上下文代码 （如果按下了键时按下 ALT 键为 1; 否则为 0）。|
|14|以前的密钥状态 (如果该密钥已关闭之前的调用中，如果键已启动，则为 0，则为 1)。|
|15|转换状态 （如果正在释放键为 1，如果按下了键，则为 0）。|

### <a name="remarks"></a>备注

此成员函数可用于指定成为语音符号键的字符值。 成为语音符号键是一个键，例如变音符号 （双句点） 字符，与其他字符来构成复合字符组合。 例如，变音符号-O 字符组成成为语音符号键、 元音变音符和 O 键。

应用程序通常使用`OnDeadChar`提供有关每个键按下的用户反馈。 例如，应用程序可以不区分重音中显示的当前字符位置而不移动插入符号。

由于不一定存在一对一的对应关系之间按下的键和`OnDeadChar`调用时，信息*nFlags*通常是不到应用程序很有用。 中的信息*nFlags*仅适用于最新调用[OnKeyUp](#onkeyup)成员函数或[OnKeyDown](#onkeydown)之前的成员函数`OnDeadChar`调用。

对于 IBM 增强 101 和 102 键键盘，增强型的密钥是右 ALT 和键盘; 的主要部分上的右 CTRL 键项、 DEL、 主页、 结束、 PAGE UP、 PAGE DOWN 和左侧的数字键盘中; 群集中的箭头键和斜杠 （/） 和数字键盘中的 ENTER 键。 一些其他键盘可能支持中的扩展密钥位*nFlags*。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="ondeleteitem"></a>  CWnd::OnDeleteItem

框架调用此成员函数来通知所有者描述列表框或组合框的所有者被销毁列表框或组合框或已被移除的项[CComboBox::DeleteString](../../mfc/reference/ccombobox-class.md#deletestring)， [CListBox::DeleteString](../../mfc/reference/clistbox-class.md#deletestring)， [CComboBox::ResetContent](../../mfc/reference/ccombobox-class.md#resetcontent)，或[CListBox::ResetContent](../../mfc/reference/clistbox-class.md#resetcontent)。

```
afx_msg void OnDeleteItem(
    int nIDCtl,
    LPDELETEITEMSTRUCT lpDeleteItemStruct);
```

### <a name="parameters"></a>参数

*nIDCtl*<br/>
发送 WM_DELETEITEM 消息的控件的标识符。

*lpDeleteItemStruct*<br/>
指定指向的长指针[DELETEITEMSTRUCT](/windows/desktop/api/winuser/ns-winuser-tagdeleteitemstruct)数据结构，其中包含有关已删除的列表框项的信息。

### <a name="remarks"></a>备注

如果`hwndItem`的成员`DELETEITEMSTRUCT`结构属于组合框或列表框中，则`DeleteItem`调用相应的类的虚函数。 重写`DeleteItem`成员函数的相应控件的类中删除特定于项的数据。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="ondestroy"></a>  CWnd::OnDestroy

框架调用此成员函数以告知`CWnd`对象被销毁。

```
afx_msg void OnDestroy();
```

### <a name="remarks"></a>备注

`OnDestroy` 后，会调用`CWnd`从屏幕中移除对象。

`OnDestroy` 为第一次调用`CWnd`被销毁，然后为的子窗口`CWnd`如销毁它们。 可以假定所有子窗口仍都存在时`OnDestroy`运行。

如果`CWnd`对象被销毁是剪贴板查看器链的一部分 (通过调用设置[SetClipboardViewer](#setclipboardviewer)成员函数)，则`CWnd`必须移除本身剪贴板查看器链的调用[ChangeClipboardChain](#changeclipboardchain)成员函数返回从之前`OnDestroy`函数。

##  <a name="ondestroyclipboard"></a>  CWnd::OnDestroyClipboard

框架将通过调用清空剪贴板时，针对剪贴板所有者调用此成员函数[EmptyClipboard](/windows/desktop/api/winuser/nf-winuser-emptyclipboard) Windows 函数。

```
afx_msg void OnDestroyClipboard();
```

##  <a name="ondevicechange"></a>  CWnd::OnDeviceChange

框架调用此成员函数，以通知应用程序或设备驱动程序的设备或计算机的硬件配置的更改。

```
afx_msg BOOL OnDeviceChange(
    UINT nEventType,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>参数

*nEventType*<br/>
事件类型。 请参阅备注部分的可用值的说明

*dwData*<br/>
一个包含特定于事件的数据结构的地址。 其含义取决于给定的事件。

### <a name="remarks"></a>备注

提供软件可控制功能，例如弹出和锁定的设备的操作系统通常情况下发送 DBT_DEVICEREMOVEPENDING 消息，以使应用程序和设备驱动程序正常结束其设备的使用。

如果操作系统中强制删除的设备，它可能不这样做之前发送 DBT_DEVICEQUERYREMOVE 消息。

*N 事件*参数可以是下列值之一：

- [DBT_DEVICEARRIVAL](/windows/desktop/DevIO/dbt-devicearrival)设备已插入，并且现已推出。

- [DBT_DEVICEQUERYREMOVE](/windows/desktop/DevIO/dbt-devicequeryremove)请求中删除设备的权限。 任何应用程序可以拒绝此请求，并取消删除。

- [DBT_DEVICEQUERYREMOVEFAILED](/windows/desktop/DevIO/dbt-devicequeryremovefailed)删除设备的请求已被取消。

- [DBT_DEVICEREMOVEPENDING](/windows/desktop/DevIO/dbt-deviceremovepending)即将删除的设备。 不能对其拒绝。

- [DBT_DEVICEREMOVECOMPLETE](/windows/desktop/DevIO/dbt-deviceremovecomplete)设备已被删除。

- [DBT_DEVICETYPESPECIFIC](/windows/desktop/DevIO/dbt-devicetypespecific)特定于设备的事件。

- [DBT_CONFIGCHANGED](/windows/desktop/DevIO/dbt-configchanged)当前配置已更改。

- DBT_DEVNODES_CHANGED 设备节点已更改。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="ondevmodechange"></a>  CWnd::OnDevModeChange

框架将调用此成员函数的所有顶层`CWnd`对象时用户更改设备模式设置。

```
afx_msg void OnDevModeChange(LPTSTR lpDeviceName);
```

### <a name="parameters"></a>参数

*lpDeviceName*<br/>
指向 Windows 初始化文件，WIN 中指定的设备名称。INI。

### <a name="remarks"></a>备注

处理 WM_DEVMODECHANGE 消息的应用程序可能会重新初始化其设备模式设置。 使用 Windows 的应用程序`ExtDeviceMode`函数将保存并还原设备设置通常不会处理此函数。

当用户从控制面板更改默认打印机时，不调用此函数。 在这种情况下，`OnWinIniChange`调用函数。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="ondrawclipboard"></a>  CWnd::OnDrawClipboard

在剪贴板的内容更改时，框架为剪贴板查看器链中每个窗口调用此成员函数。

```
afx_msg void OnDrawClipboard();
```

### <a name="remarks"></a>备注

只有应用程序通过调用加入了剪贴板查看器链[SetClipboardViewer](#setclipboardviewer)响应此调用所需的成员函数。

接收每个窗口`OnDrawClipboard`调用应调用[SendMessage](/windows/desktop/api/winuser/nf-winuser-sendmessage) Windows 函数来传递[WM_DRAWCLIPBOARD](/windows/desktop/dataxchg/wm-drawclipboard)到剪贴板查看器链中下一个窗口的消息。 通过返回的下一个窗口的句柄[SetClipboardViewer](#setclipboardviewer)成员函数; 它可能会在响应中修改[OnChangeCbChain](#onchangecbchain)成员函数调用。

##  <a name="ondrawiconicthumbnailorlivepreview"></a>  CWnd::OnDrawIconicThumbnailOrLivePreview

由框架在需要获取要在 Windows 7 选项卡缩略图上或客户端上（进行应用程序速览）显示的位图时进行调用。

```
virtual void OnDrawIconicThumbnailOrLivePreview(
    CDC& dc,
    CRect rect,
    CSize szRequiredThumbnailSize,
    BOOL bIsThumbnail,
    BOOL& bAlphaChannelSet);
```

### <a name="parameters"></a>参数

*dc*<br/>
指定设备上下文。

*rect*<br/>
指定要呈现的区域的边框。

*szRequiredThumbnailSize*<br/>
指定目标缩略图的大小。 如果应忽略*bIsThumbnail*为 FALSE。

*bIsThumbnail*<br/>
指定是否为标志性的缩略图或实时预览 （扫视） 调用此方法。

*bAlphaChannelSet*<br/>
[out]将其设置为 TRUE，如果您的实现初始化中选择的位图的 alpha 通道*dc*。

### <a name="remarks"></a>备注

重写此方法在派生类中的和指定的设备上下文上绘制自定义缩略图和查看。 如果*bThumbnail*为 TRUE， *szRequiredThumbnailSize*可以忽略。 在这种情况下，您应注意绘制完整大小的位图 （即，涵盖整个工作区的位图）。 设备上下文 ( *dc*) 附带了所选的 32 位位图。 默认实现将 WM_PRINT 发送到 PRF_CLIENT、 PRF_CHILDREN 和 PRF_NONCLIENT 标志与此窗口。

##  <a name="ondrawitem"></a>  CWnd::OnDrawItem

框架调用此成员函数的所有者描述的按钮控件、 组合框控件、 列表框控件或菜单时该控件的可视方位的所有者或菜单已更改。

```
afx_msg void OnDrawItem(
    int nIDCtl,
    LPDRAWITEMSTRUCT lpDrawItemStruct);
```

### <a name="parameters"></a>参数

*nIDCtl*<br/>
包含发送 WM_DRAWITEM 消息的控件的标识符。 如果菜单发送该消息， *nIDCtl*包含 0。

*lpDrawItemStruct*<br/>
指定指向的长指针`DRAWITEMSTRUCT`数据结构，其中包含有关要绘制的项和绘图所需的类型信息。

### <a name="remarks"></a>备注

`itemAction`的成员[DRAWITEMSTRUCT](/windows/desktop/api/winuser/ns-winuser-tagdrawitemstruct)结构定义要执行绘制操作。 此成员中的数据允许控件所有者才能确定绘图的操作是必需的。

在之前从处理此消息返回时，应用程序应确保通过标识的设备上下文*hDC*的成员`DRAWITEMSTRUCT`结构还原为默认状态。

如果`hwndItem`成员所属[CButton](../../mfc/reference/cbutton-class.md)， [CMenu](../../mfc/reference/cmenu-class.md)， [CListBox](../../mfc/reference/clistbox-class.md)，或[CComboBox](../../mfc/reference/ccombobox-class.md)对象，则`DrawItem`调用的合适的类的虚函数。 重写`DrawItem`绘制项的相应控件的类成员函数。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="ondropfiles"></a>  CWnd::OnDropFiles

在用户已将自己注册作为拖放文件接收者的窗口上方释放鼠标左键时，框架将调用此成员函数。

```
afx_msg void OnDropFiles(HDROP hDropInfo);
```

### <a name="parameters"></a>参数

*hDropInfo*<br/>
指向介绍拖放的文件的内部数据结构的指针。 使用此句柄`DragFinish`， `DragQueryFile`，和`DragQueryPoint`Windows 函数来检索有关已删除的文件的信息。

### <a name="remarks"></a>备注

通常情况下，派生的类将旨在支持拖放的文件，并且它将在窗口构造过程中注册自身。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onenable"></a>  CWnd::OnEnable

框架在应用程序更改的启用的状态时调用此成员函数`CWnd`对象。

```
afx_msg void OnEnable(BOOL bEnable);
```

### <a name="parameters"></a>参数

*bEnable*<br/>
指定是否`CWnd`对象已启用或禁用。 此参数，如果为 TRUE`CWnd`已启用; 它是 FALSE，则`CWnd`已被禁用。

### <a name="remarks"></a>备注

`OnEnable` 之前调用[EnableWindow](#enablewindow)成员函数返回，但之后启用的窗口状态 ( [WS_DISABLED](styles-used-by-mfc.md#window-styles)样式位) 已更改。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onendsession"></a>  CWnd::OnEndSession

框架将调用此成员函数之后，`CWnd`对象已返回非零值取值[OnQueryEndSession](#onqueryendsession)成员函数调用。

```
afx_msg void OnEndSession(BOOL bEnding);
```

### <a name="parameters"></a>参数

*bEnding*<br/>
指定要终止会话。 它，则会话正在结束; 如果为 TRUE否则为 FALSE。

### <a name="remarks"></a>备注

`OnEndSession`调用将通知`CWnd`对象是否实际上正在结束会话。

如果*弯曲*为 TRUE 时，Windows 可以终止后的所有应用程序具有从处理此调用返回的任何时间。 因此，具有应用程序执行中的终止所需的所有任务`OnEndSession`。

不需要调用[DestroyWindow](#destroywindow)成员函数或[PostQuitMessage](/windows/desktop/api/winuser/nf-winuser-postquitmessage)会话结束时的 Windows 功能。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onenteridle"></a>  CWnd::OnEnterIdle

框架调用此成员函数以向应用程序的主窗口过程通知模式对话框或菜单正在进入空闲状态。

```
afx_msg void OnEnterIdle(
    UINT nWhy,
    CWnd* pWho);
```

### <a name="parameters"></a>参数

*nWhy*<br/>
指定消息是一个对话框或菜单所显示的结果。 此参数可以是下列值之一：

- MSGF_DIALOGBOX 系统处于空闲状态，因为正在显示一个对话框。

- MSGF_MENU 系统处于空闲状态，因为将显示一个菜单。

*pWho*<br/>
指定指向对话框中的 (如果*nWhy*是 MSGF_DIALOGBOX)，或包含显示菜单上的窗口 (如果*nWhy*是 MSGF_MENU)。 此指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

模式对话框或菜单时没有邮件正在等待其队列中处理一个或多个以前的消息后进入空闲状态。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onentermenuloop"></a>  CWnd::OnEnterMenuLoop

当进入了菜单模式循环时，框架将调用此成员函数。

```
afx_msg void OnEnterMenuLoop(BOOL bIsTrackPopupMenu);
```

### <a name="parameters"></a>参数

*bIsTrackPopupMenu*<br/>
指定所涉及的菜单是否弹出菜单。 如果函数成功，则，具有非零值否则为 0。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onentersizemove"></a>  CWnd::OnEnterSizeMove

框架调用此成员函数后受影响的窗口进入移动或大小调整模式循环一次。

```
afx_msg void OnEnterSizeMove();
```

### <a name="remarks"></a>备注

此方法接收[WM_ENTERSIZEMOVE](/windows/desktop/winmsg/wm-entersizemove)通知，Windows SDK 中所述。

窗口进入移动或大小调整模式循环，当用户单击窗口的标题栏或大小调整边框，或者窗口将传递[WM_SYSCOMMAND](/windows/desktop/menurc/wm-syscommand)到消息[CWnd::DefWindowProc](#defwindowproc)函数和*wParam*该消息的参数指定 SC_MOVE 或 SC_SIZE。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onerasebkgnd"></a>  CWnd::OnEraseBkgnd

框架将调用此成员函数时`CWnd`对象背景需要擦除 （例如，在调整大小时）。

```
afx_msg BOOL OnEraseBkgnd(CDC* pDC);
```

### <a name="parameters"></a>参数

*pDC*<br/>
指定设备上下文对象。

### <a name="return-value"></a>返回值

如果清除背景，则为非零值否则为 0。

### <a name="remarks"></a>备注

被调用以准备进行绘制无效的区域。

默认实现会使用指定的窗口类背景画笔在后台清除`hbrBackground`窗口类结构的成员。

如果`hbrBackground`成员为 NULL，重写版本`OnEraseBkgnd`应清除的背景色。 你的版本还应保持一致的预期使用画笔的原点`CWnd`通过首先调用坐标[UnrealizeObject](/windows/desktop/api/wingdi/nf-wingdi-unrealizeobject)的画笔，，然后选择画笔。

重写`OnEraseBkgnd`应返回非零值以响应 WM_ERASEBKGND，如果它处理消息并清除后台; 这表示无需再清除不需要。 如果它返回 0，窗口将保持被标记为无需被清除。 (通常情况下，这意味着`fErase`的成员`PAINTSTRUCT`结构将为 TRUE。)

Windows 假定在后台计算 MM_TEXT 映射模式下。 如果设备上下文使用任何其他映射模式下，清除的区域可能不是在客户端区域的可见部分。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onexitmenuloop"></a>  CWnd::OnExitMenuLoop

已退出了菜单模式循环时，框架将调用此成员函数。

```
afx_msg void OnExitMenuLoop(BOOL bIsTrackPopupMenu);
```

### <a name="parameters"></a>参数

*bIsTrackPopupMenu*<br/>
指定所涉及的菜单是否弹出菜单。 如果函数成功，则，具有非零值否则为 0。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onexitsizemove"></a>  CWnd::OnExitSizeMove

框架调用此成员函数受影响的窗口退出移动或大小调整模式循环后的一次。

```
afx_msg void OnExitSizeMove();
```

### <a name="remarks"></a>备注

此方法接收[WM_EXITSIZEMOVE](/windows/desktop/winmsg/wm-exitsizemove)通知，Windows SDK 中所述。

窗口进入移动或大小调整模式循环，当用户单击窗口的标题栏或大小调整边框，或者窗口将传递[WM_SYSCOMMAND](/windows/desktop/menurc/wm-syscommand)到消息[CWnd::DefWindowProc](#defwindowproc)函数和*wParam*该消息的参数指定 SC_MOVE 或 SC_SIZE。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onfontchange"></a>  CWnd::OnFontChange

在系统中的所有顶级窗口接收`OnFontChange`后应用程序更改的字体资源池从框架调用。

```
afx_msg void OnFontChange();
```

### <a name="remarks"></a>备注

添加或删除从系统中的字体的应用程序 (例如，通过[AddFontResource](/windows/desktop/api/wingdi/nf-wingdi-addfontresourcea)或[RemoveFontResource](/windows/desktop/api/wingdi/nf-wingdi-removefontresourcea) Windows 函数) 应发送[WM_FONTCHANGE](/windows/desktop/gdi/wm-fontchange)给所有顶级窗口的消息。

若要发送此消息，请使用[SendMessage](/windows/desktop/api/winuser/nf-winuser-sendmessage) Windows 函数与*hWnd*参数设置为 HWND_BROADCAST。

##  <a name="ongetdlgcode"></a>  CWnd::OnGetDlgCode

针对控件进行调用，以便控件可以自己处理箭头键和 TAB 键输入。

```
afx_msg UINT OnGetDlgCode();
```

### <a name="return-value"></a>返回值

一个或多个以下值，该值指示应用程序进程的输入类型：

- DLGC_BUTTON 按钮 （通用）。

- DLGC_DEFPUSHBUTTON 默认按钮。

- DLGC_HASSETSEL EM_SETSEL 消息。

- DLGC_UNDEFPUSHBUTTON 否默认按键处理。 （应用程序可以使用此标志与 DLGC_BUTTON 以指示它处理按钮输入，但依赖于默认按键处理系统。）

- DLGC_RADIOBUTTON 单选按钮。

- DLGC_STATIC 静态控件。

- DLGC_WANTALLKEYS 所有键盘输入。

- DLGC_WANTARROWS 箭头键。

- DLGC_WANTCHARS WM_CHAR 消息。

- DLGC_WANTMESSAGE 所有键盘输入。 应用程序传递到该控件的此消息。

- DLGC_WANTTAB TAB 键。

### <a name="remarks"></a>备注

通常情况下，Windows 处理所有箭头键和 TAB 键输入到`CWnd`控件。 通过重写`OnGetDlgCode`、`CWnd`控件可以选择特定类型的输入来处理本身。

默认值`OnGetDlgCode`函数的预定义的控件类返回代码适用于每个类。

##  <a name="ongetminmaxinfo"></a>  CWnd::OnGetMinMaxInfo

每当 Windows 需要知道最大化的位置或维度，或最小值或最大跟踪大小大时，框架将调用此成员函数。

```
afx_msg void OnGetMinMaxInfo(MINMAXINFO* lpMMI);
```

### <a name="parameters"></a>参数

*lpMMI*<br/>
指向`MINMAXINFO`结构，其中包含有关窗口的信息的最大化大小、 位置和其最小值和最大跟踪大小。 有关此结构的详细信息，请参阅[MINMAXINFO](/windows/desktop/api/winuser/ns-winuser-tagminmaxinfo)结构。

### <a name="remarks"></a>备注

最大化的大小时完全展开其边框的窗口大小。 跟踪窗口的大小的最大值是可以通过使用边框来调整窗口的大小的最大窗口大小。 最小跟踪窗口的大小是最小的窗口大小，可以通过使用边框来调整窗口的大小。

Windows 将填充指定的各种位置和维度的默认值的点数组。 应用程序可能会更改这些值在`OnGetMinMaxInfo`。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onhelp"></a>  CWnd::OnHelp

处理应用程序中的 F1 帮助（使用当前上下文）。

```
afx_msg void OnHelp();
```

### <a name="remarks"></a>备注

请参阅[CWinApp::OnHelp](../../mfc/reference/cwinapp-class.md#onhelp)有关详细信息。

##  <a name="onhelpfinder"></a>  CWnd::OnHelpFinder

处理 ID_HELP_FINDER 和 ID_DEFAULT_HELP 命令。

```
afx_msg void OnHelpFinder();
```

### <a name="remarks"></a>备注

请参阅[CWinApp::OnHelpFinder](../../mfc/reference/cwinapp-class.md#onhelpfinder)有关详细信息。

##  <a name="onhelpindex"></a>  CWnd::OnHelpIndex

处理 ID_HELP_INDEX 命令并提供默认帮助主题。

```
afx_msg void OnHelpIndex();
```

### <a name="remarks"></a>备注

请参阅[CWinApp::OnHelpIndex](../../mfc/reference/cwinapp-class.md#onhelpindex)有关详细信息。

##  <a name="onhelpinfo"></a>  CWnd::OnHelpInfo

当用户按 F1 键时，由框架调用。

```
afx_msg BOOL OnHelpInfo(HELPINFO* lpHelpInfo);
```

### <a name="parameters"></a>参数

*lpHelpInfo*<br/>
指向[HELPINFO](/windows/desktop/api/winuser/ns-winuser-taghelpinfo)结构，其中包含有关菜单项、 控件、 对话框中或为其请求帮助窗口的信息。

### <a name="return-value"></a>返回值

如果窗口具有键盘焦点或菜单处于活动状态的时间段内返回 TRUE。 如果没有窗口具有键盘焦点，则返回 FALSE。

### <a name="remarks"></a>备注

如果当用户按 f1 键时，菜单处于活动状态，WM_HELP 发送到与菜单; 关联的窗口否则，WM_HELP 发送到具有键盘焦点的窗口。 如果没有窗口具有键盘焦点，WM_HELP 是发送到当前活动窗口。

##  <a name="onhelpusing"></a>  CWnd::OnHelpUsing

处理 ID_HELP_USING 命令。

```
afx_msg void OnHelpUsing();
```

### <a name="remarks"></a>备注

请参阅[CWinApp::OnHelpUsing](../../mfc/reference/cwinapp-class.md#onhelpusing)有关详细信息。

##  <a name="onhotkey"></a>  CWnd::OnHotKey

在用户按系统范围热键时，框架将调用此成员函数。

```
afx_msg void OnHotKey(
    UINT nHotKeyId,
    UINT nKey1,
    UINT nKey2);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nHotKeyId*|[in]热键生成消息标识符。 如果消息由系统定义热键生成，此参数将为以下值之一：<br /><br /> -IDHOT_SNAPDESKTOP-管理单元桌面热键曾按下。<br />-IDHOT_SNAPWINDOW-管理单元窗口热键曾按下。|
|*nKey1*|[in]表示与指定的键一起按下了结合使用的密钥的标志的按位组合 (OR) *nKey2*参数。 可能的值为：<br /><br /> -MOD_ALT-任一 ALT 键已按下。<br />-MOD_CONTROL-任一 CTRL 键已按下。<br />-MOD_SHIFT-任一 SHIFT 键已按下。<br />-MOD_WIN 的任一 WINDOWS 键已按下。 这些密钥标记为 Microsoft Windows 徽标。|
|*nKey2*|[in]热键虚拟键代码。|

### <a name="remarks"></a>备注

此方法接收[WM_HOTKEY](/windows/desktop/inputdev/wm-hotkey)通知，Windows SDK 中所述。 此消息会放在与已注册的热键的线程关联的消息队列的顶部。 使用[RegisterHotKey](/windows/desktop/api/winuser/nf-winuser-registerhotkey)函数以注册系统范围热键。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onhscroll"></a>  CWnd::OnHScroll

当用户单击窗口的水平滚动条，框架将调用此成员函数。

```
afx_msg void OnHScroll(
    UINT nSBCode,
    UINT nPos,
    CScrollBar* pScrollBar);
```

### <a name="parameters"></a>参数

*nSBCode*<br/>
指定的滚动条代码，指示用户的滚动请求。 此参数可以是以下值之一：

- SB_LEFT 滚动到最左侧。

- SB_ENDSCROLL 最终滚动。

- 左 SB_LINELEFT 滚动。

- 向右 SB_LINERIGHT 滚动。

- 左 SB_PAGELEFT 滚动一页。

- SB_PAGERIGHT 滚动一页右侧。

- SB_RIGHT 滚动到最右侧。

- SB_THUMBPOSITION 滚动到绝对位置。 通过指定当前位置*nPos*参数。

- SB_THUMBTRACK 拖动滚动框移到指定位置。 通过指定当前位置*nPos*参数。

*nPos*<br/>
如果滚动条代码 SB_THUMBPOSITION 或 SB_THUMBTRACK;，指定滚动框位置否则，不使用。 具体取决于初始滚动范围*nPos*可以是负数，并且应强制转换为**int**如有必要。

*pScrollBar*<br/>
如果滚动消息来自的滚动条控件，包含控件的指针。 如果用户单击窗口的滚动条，则此参数为 NULL。 该指针可能是暂时的，不应存储起来供将来使用。

### <a name="remarks"></a>备注

由应用程序提供一些反馈进行拖动滚动框时，通常使用 SB_THUMBTRACK 滚动条代码。

如果应用程序控制的滚动条的内容滚动，它必须重置以滚动框的位置[SetScrollPos](#setscrollpos)成员函数。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#108](../../mfc/reference/codesnippet/cpp/cwnd-class_48.cpp)]

##  <a name="onhscrollclipboard"></a>  CWnd::OnHScrollClipboard

剪贴板所有者`OnHScrollClipboard`时的剪贴板数据具有由剪贴板查看器中调用成员函数`CF_OWNERDISPLAY`设置格式，并且剪贴板查看器的水平滚动条中没有一个事件。

```
afx_msg void OnHScrollClipboard(
    CWnd* pClipAppWnd,
    UINT nSBCode,
    UINT nPos);
```

### <a name="parameters"></a>参数

*pClipAppWnd*<br/>
指定指向剪贴板查看器窗口的指针。 该指针可能是暂时的，不应存储起来供将来使用。

*nSBCode*<br/>
在低序位字中指定以下的滚动条代码之一：

- SB_BOTTOM 到右下角滚动。

- SB_ENDSCROLL 最终滚动。

- SB_LINEDOWN 一个向下滚动一行。

- SB_LINEUP 滚动行上移一行。

- 向下 SB_PAGEDOWN 滚动一页。

- 向上 SB_PAGEUP 滚动一页。

- SB_THUMBPOSITION 滚动到的绝对位置。 中提供了当前位置*nPos*。

- SB_TOP 滚动到左上角。

*nPos*<br/>
如果滚动条代码 SB_THUMBPOSITION;，包含滚动框位置否则不使用。

### <a name="remarks"></a>备注

所有者应滚动剪贴板图像、 使相应部分失效以及更新滚动条值。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="oniconerasebkgnd"></a>  CWnd::OnIconEraseBkgnd

框架将调用此成员函数以使用最小化 （图标化）`CWnd`对象时必须绘制图标之前填充图标的背景。

```
afx_msg void OnIconEraseBkgnd(CDC* pDC);
```

### <a name="parameters"></a>参数

*pDC*<br/>
指定的设备上下文对象的图标。 可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

`CWnd` 接收此调用，仅当为窗口的默认实现; 定义类图标否则为[OnEraseBkgnd](#onerasebkgnd)调用。

[DefWindowProc](#defwindowproc)成员函数填充图标背景与父窗口的背景画笔。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="oninitmenu"></a>  CWnd::OnInitMenu

当菜单要成为活动状态时，框架将调用此成员函数。

```
afx_msg void OnInitMenu(CMenu* pMenu);
```

### <a name="parameters"></a>参数

*pMenu*<br/>
指定要初始化的菜单。 可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

`OnInitMenu` 当用户单击菜单栏上的项或按菜单键时调用。 重写此成员函数以显示前修改菜单。

`OnInitMenu` 是仅调用一次，（例如，当用户单击菜单栏上的项） 首次访问一个菜单。 此方法不提供有关菜单项的信息。 用户在将移动到菜单中的项 （例如，通过跨多个菜单项将鼠标） 是不会再次调用的函数。 一旦用户从菜单中退出 （例如，通过单击应用程序客户端区域），并更高版本单击菜单栏上的项，将再次调用该函数。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="oninitmenupopup"></a>  CWnd::OnInitMenuPopup

当弹出菜单要成为活动状态时，框架将调用此成员函数。

```
afx_msg void OnInitMenuPopup(
    CMenu* pPopupMenu,
    UINT nIndex,
    BOOL bSysMenu);
```

### <a name="parameters"></a>参数

*pPopupMenu*<br/>
指定弹出菜单的菜单对象。 可能是暂时的不应存储供以后使用。

*nIndex*<br/>
指定在主菜单中的弹出菜单的索引。

*bSysMenu*<br/>
如果弹出菜单的控件菜单; 则为 TRUE否则为 FALSE。

### <a name="remarks"></a>备注

这允许应用程序，而无需更改整个菜单显示之前修改弹出菜单。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="oninputdevicechange"></a>  CWnd::OnInputDeviceChange

添加或从系统中删除 I/O 设备时，框架将调用此成员函数。

```
afx_msg void OnInputDeviceChange(unsigned short uFlag);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*uFlag*|[in]此标志可以包含以下值：<br /><br /> -GIDC_ARRIVAL-一个新的设备已添加到系统。<br />已从系统删除-GIDC_REMOVAL-一个设备。|

### <a name="remarks"></a>备注

此方法接收[WM_INPUT_DEVICE_CHANGE](/windows/desktop/inputdev/wm-input-device-change)通知，Windows SDK 中所述。 是泛型的输入的设备的消息。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="oninputlangchange"></a>  CWnd::OnInputLangChange

框架调用此成员为最顶层的受影响窗口之后更改应用程序的输入的语言。

```
afx_msg void OnInputLangChange(
    UINT nCharSet,
    UINT nLocaleId);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nCharSet*|[in]新的区域设置的字符集。 有关详细信息，请参阅*lfCharSet*的参数[LOGFONT](/windows/desktop/api/wingdi/ns-wingdi-taglogfonta)结构。|
|*nLocaleId*|[in]输入法区域设置标识符。 有关详细信息，请参阅[语言标识符常量和字符串](/windows/desktop/Intl/language-identifier-constants-and-strings)。|

### <a name="remarks"></a>备注

此方法接收[WM_INPUTLANGCHANGE](/windows/desktop/winmsg/wm-inputlangchange)通知消息时，Windows SDK 中所述。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="oninputlangchangerequest"></a>  CWnd::OnInputLangChangeRequest

框架调用此成员为具有焦点的窗口，当用户选择新的输入的语言。

```
afx_msg void OnInputLangChangeRequest(
    UINT nFlags,
    UINT nLocaleId);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nFlags*|[in]指示从上一或下一个区域设置的区域设置中，已安装列表中选择了新的区域设置或新输入区域设置的键盘布局可与系统字符集的标志的按位 (OR) 组合。<br /><br /> 可能的值为 INPUTLANGCHANGE_BACKWARD、 INPUTLANGCHANGE_FORWARD 和 INPUTLANGCHANGE_SYSCHARSET。|
|*nLocaleId*|[in]输入法区域设置标识符。 有关详细信息，请参阅[语言标识符常量和字符串](/windows/desktop/Intl/language-identifier-constants-and-strings)。|

### <a name="remarks"></a>备注

此方法接收[WM_INPUTLANGCHANGEREQUEST](/windows/desktop/winmsg/wm-inputlangchangerequest)通知消息时，Windows SDK 中所述。 用户选择使用任一热键在键盘控件面板应用程序，或从系统任务栏上的指示器指定新的输入的语言时，会发布此消息。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onkeydown"></a>  CWnd::OnKeyDown

按下非系统键时，框架将调用此成员函数。

```
afx_msg void OnKeyDown(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>参数

*nChar*<br/>
指定给定的键的虚拟键代码。 标准虚拟键代码的列表，请参见 Winuser.h

*nRepCnt*<br/>
重复计数 （次击键重复由于用户按下键而数）。

*nFlags*<br/>
指定扫描代码、 密钥转换代码、 上一项状态和上下文的代码中，如下面的列表中所示：

|“值”|描述|
|-----------|-----------------|
|0-7|扫描代码 （依赖于 OEM 的值）。|
|8|扩展的密钥，如函数密钥或数字小键盘 (如果它是一个扩展的密钥，则为 1) 上的某个项。|
|9-10|未使用。|
|11-12|由 Windows 内部使用。|
|13|上下文代码 （如果按下了键时按下 ALT 键为 1; 否则为 0）。|
|14|以前的密钥状态 (如果该密钥已关闭之前的调用中，如果键已启动，则为 0，则为 1)。|
|15|转换状态 （如果正在释放键为 1，如果按下了键，则为 0）。|

对于 WM_KEYDOWN 消息，密钥转换位 （位 15） 为 0，上下文代码位 （位 13） 为 0。

### <a name="remarks"></a>备注

非系统键是未按下 ALT 键时按下键盘键或者按下时是键盘键`CWnd`具有输入的焦点。

由于自动重复，多个`OnKeyDown`调用之前可能会出现[OnKeyUp](#onkeyup)进行成员函数调用。 位，指示以前的密钥状态可以用于确定是否`OnKeyDown`调用是第一个向下转换或向下重复的转换。

对于 IBM 增强 101 和 102 键键盘，增强型的密钥是右 ALT 和键盘; 的主要部分上的右 CTRL 键项、 DEL、 主页、 结束、 PAGE UP、 PAGE DOWN 和左侧的数字键盘中; 群集中的箭头键和斜杠 （/） 和数字键盘中的 ENTER 键。 一些其他键盘可能支持中的扩展密钥位*nFlags*。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onkeyup"></a>  CWnd::OnKeyUp

释放非系统键时，框架将调用此成员函数。

```
afx_msg void OnKeyUp(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>参数

*nChar*<br/>
指定给定的键的虚拟键代码。 标准虚拟键代码的列表，请参见 Winuser.h

*nRepCnt*<br/>
重复计数 （次击键重复由于用户按下键而数）。

*nFlags*<br/>
指定扫描代码、 密钥转换代码、 上一项状态和上下文的代码中，如下面的列表中所示：

|“值”|描述|
|-----------|-----------------|
|0-7|扫描代码 （依赖于 OEM 的值）。 高序位字低位字节。|
|8|扩展的密钥，如功能键或 （如果它是扩展的键为 1; 否则为 0） 数字键盘上的密钥。|
|9-10|未使用。|
|11-12|由 Windows 内部使用。|
|13|上下文代码 （如果按下了键时按下 ALT 键为 1; 否则为 0）。|
|14|以前的密钥状态 (如果该密钥已关闭之前的调用中，如果键已启动，则为 0，则为 1)。|
|15|转换状态 （如果正在释放键为 1，如果按下了键，则为 0）。|

对于 WM_KEYUP 消息，密钥转换位 （位 15） 为 1，上下文代码位 （位 13） 为 0。

### <a name="remarks"></a>备注

非系统键是未按下 ALT 键时按下键盘键或者按下时是键盘键`CWnd`具有输入的焦点。

对于 IBM 增强 101 和 102 键键盘，增强型的密钥是右 ALT 和键盘; 的主要部分上的右 CTRL 键项、 DEL、 主页、 结束、 PAGE UP、 PAGE DOWN 和左侧的数字键盘中; 群集中的箭头键和斜杠 （/） 和数字键盘中的 ENTER 键。 一些其他键盘可能支持中的扩展密钥位*nFlags*。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onkillfocus"></a>  CWnd::OnKillFocus

框架失去输入的焦点之前调用此成员函数。

```
afx_msg void OnKillFocus(CWnd* pNewWnd);
```

### <a name="parameters"></a>参数

*pNewWnd*<br/>
指定指向接收到输入的焦点的窗口 （可能为 NULL 或可能是暂时）。

### <a name="remarks"></a>备注

如果`CWnd`对象显示一个插入符号，应在此时销毁插入符号。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onlbuttondblclk"></a>  CWnd::OnLButtonDblClk

当用户双击鼠标左键时，框架将调用此成员函数。

```
afx_msg void OnLButtonDblClk(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>参数

*nFlags*<br/>
指示是否各种虚拟键都已关闭。 此参数可以是下列值中的任意组合：

- 如果 CTRL 键已关闭，MK_CONTROL 设置。

- 如果左鼠标按钮 MK_LBUTTON 设置已关闭。

- 如果鼠标中键按下，设置 MK_MBUTTON。

- 如果鼠标右键 MK_RBUTTON 设置已关闭。

- 如果 SHIFT 键按下，设置 MK_SHIFT。

*point*<br/>
指定游标 x 和 y 坐标。 这些坐标始终都相对于窗口的左上角。

### <a name="remarks"></a>备注

具有 CS_DBLCLKS 的 windows [WNDCLASS](/windows/desktop/api/winuser/ns-winuser-tagwndclassa)样式将收到`OnLButtonDblClk`调用。 这是 Microsoft 基础类 windows 的默认值。 Windows 调用`OnLButtonDblClk`当用户按下的、 释放，然后按下鼠标左键在系统中再次双击时间限制。 双击鼠标左键实际上会生成四个事件：[WM_LBUTTONDOWN](#onlbuttondown)， [WM_LBUTTONUP](#onlbuttonup)消息，需知道 WM_LBUTTONDBLCLK 调用时，并释放按钮时的另一个 WM_LBUTTONUP 消息。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onlbuttondown"></a>  CWnd::OnLButtonDown

当用户按下鼠标左键时，框架将调用此成员函数。

```
afx_msg void OnLButtonDown(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>参数

*nFlags*<br/>
指示是否各种虚拟键都已关闭。 此参数可以是下列值中的任意组合：

- 如果 CTRL 键已关闭，MK_CONTROL 设置。

- 如果左鼠标按钮 MK_LBUTTON 设置已关闭。

- 如果鼠标中键按下，设置 MK_MBUTTON。

- 如果鼠标右键 MK_RBUTTON 设置已关闭。

- 如果 SHIFT 键按下，设置 MK_SHIFT。

*point*<br/>
指定游标 x 和 y 坐标。 这些坐标始终都相对于窗口的左上角。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onlbuttonup"></a>  CWnd::OnLButtonUp

当用户释放鼠标按钮时，框架将调用此成员函数。

```
afx_msg void OnLButtonUp(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>参数

*nFlags*<br/>
指示是否各种虚拟键都已关闭。 此参数可以是下列值中的任意组合：

- 如果 CTRL 键已关闭，MK_CONTROL 设置。

- 如果鼠标中键按下，设置 MK_MBUTTON。

- 如果鼠标右键 MK_RBUTTON 设置已关闭。

- 如果 SHIFT 键按下，设置 MK_SHIFT。

*point*<br/>
指定游标 x 和 y 坐标。 这些坐标始终都相对于窗口的左上角。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onmbuttondblclk"></a>  CWnd::OnMButtonDblClk

当用户双击鼠标中键时，框架将调用此成员函数。

```
afx_msg void OnMButtonDblClk(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>参数

*nFlags*<br/>
指示是否各种虚拟键都已关闭。 此参数可以是下列值中的任意组合：

- 如果 CTRL 键已关闭，MK_CONTROL 设置。

- 如果左鼠标按钮 MK_LBUTTON 设置已关闭。

- 如果鼠标中键按下，设置 MK_MBUTTON。

- 如果鼠标右键 MK_RBUTTON 设置已关闭。

- 如果 SHIFT 键按下，设置 MK_SHIFT。

*point*<br/>
指定游标 x 和 y 坐标。 这些坐标始终都相对于窗口的左上角。

### <a name="remarks"></a>备注

具有 CS_DBLCLKS 的 windows [WNDCLASS](/windows/desktop/api/winuser/ns-winuser-tagwndclassa)样式将收到`OnMButtonDblClk`调用。 这是所有 Microsoft 基础类窗口的默认值。 Windows 生成`OnMButtonDblClk`用户按下的版本中，然后按下鼠标按钮再次在系统中双击时间限制时调用。 双击鼠标中按钮实际上会生成四个事件：[WM_MBUTTONDOWN](#onmbuttondown)并[WM_MBUTTONUP](#onmbuttonup)消息、 WM_MBUTTONDBLCLK 调用，以及另一个 WM_MBUTTONUP 消息。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onmbuttondown"></a>  CWnd::OnMButtonDown

当用户按下鼠标中键时，框架将调用此成员函数。

```
afx_msg void OnMButtonDown(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>参数

*nFlags*<br/>
指示是否各种虚拟键都已关闭。 此参数可以是下列值中的任意组合：

- 如果 CTRL 键已关闭，MK_CONTROL 设置。

- 如果左鼠标按钮 MK_LBUTTON 设置已关闭。

- 如果鼠标中键按下，设置 MK_MBUTTON。

- 如果鼠标右键 MK_RBUTTON 设置已关闭。

- 如果 SHIFT 键按下，设置 MK_SHIFT。

*point*<br/>
指定游标 x 和 y 坐标。 这些坐标始终都相对于窗口的左上角。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onmbuttonup"></a>  CWnd::OnMButtonUp

在用户释放鼠标中键时，框架将调用此成员函数。

```
afx_msg void OnMButtonUp(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>参数

*nFlags*<br/>
指示是否各种虚拟键都已关闭。 此参数可以是下列值中的任意组合：

- 如果 CTRL 键已关闭，MK_CONTROL 设置。

- 如果左鼠标按钮 MK_LBUTTON 设置已关闭。

- 如果鼠标右键 MK_RBUTTON 设置已关闭。

- 如果 SHIFT 键按下，设置 MK_SHIFT。

*point*<br/>
指定游标 x 和 y 坐标。 这些坐标始终都相对于窗口的左上角。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onmdiactivate"></a>  CWnd::OnMDIActivate

框架调用此成员函数在停用的子窗口和子窗口被激活。

```
afx_msg void OnMDIActivate(
    BOOL bActivate,
    CWnd* pActivateWnd,
    CWnd* pDeactivateWnd);
```

### <a name="parameters"></a>参数

*bActivate*<br/>
如果子正在激活并且如果正在停用，则为 FALSE，则为 TRUE。

*pActivateWnd*<br/>
包含要激活的 MDI 子窗口的指针。 当接收到的 MDI 子窗口中， *pActivateWnd*包含要激活的子窗口的指针。 此指针可能是暂时的不应存储供以后使用。

*pDeactivateWnd*<br/>
包含正在停用 MDI 子窗口的指针。 此指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

独立于 MDI 框架窗口被激活的 MDI 子窗口。 当帧变为活动状态、 上次激活所用的子窗口`OnMDIActivate`调用接收[WM_NCACTIVATE](#onncactivate)消息，以绘制活动窗口框架和标题栏中，但它不会收到另一种`OnMDIActivate`调用。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onmeasureitem"></a>  CWnd::OnMeasureItem

框架调用此成员函数由框架为所有者描述按钮、 组合框、 列表框或菜单项的所有者创建控件时。

```
afx_msg void OnMeasureItem(
    int nIDCtl, LPMEASUREITEMSTRUCT lpMeasureItemStruct);
```

### <a name="parameters"></a>参数

*nIDCtl*<br/>
控件的 ID。

*lpMeasureItemStruct*<br/>
指向[MEASUREITEMSTRUCT](/windows/desktop/api/winuser/ns-winuser-tagmeasureitemstruct)数据结构，其中包含所有者描述控件的尺寸。

### <a name="remarks"></a>备注

重写此成员函数并填写`MEASUREITEMSTRUCT`指向数据结构*lpMeasureItemStruct*和返回; 这会通知 Windows 控件的尺寸，并允许 Windows 处理与用户交互控制正确。

如果创建列表框或组合框[LBS_OWNERDRAWVARIABLE](../../mfc/reference/styles-used-by-mfc.md#list-box-styles)或[CBS_OWNERDRAWVARIABLE](../../mfc/reference/styles-used-by-mfc.md#combo-box-styles)样式，框架将调用此函数在控件中; 每个项的所有者否则为这函数调用一次。

Windows 启动对调用`OnMeasureItem`所有者的组合框和列表框发送之前使用 OWNERDRAWFIXED 样式创建[WM_INITDIALOG](/windows/desktop/dlgbox/wm-initdialog)消息。 因此，当所有者收到此调用时，Windows 尚未确定的高度和宽度的控件; 中使用的字体函数调用和需要这些值的计算应发生在应用程序或库的主函数中。

如果要测量的项`CMenu`，`CListBox`或`CComboBox`对象，则`MeasureItem`调用相应的类的虚函数。 重写`MeasureItem`成员函数的相应控件的类，用于计算和设置每个项的大小。

`OnMeasureItem` 仅当在运行时，创建控件的类或创建具有 LBS_OWNERDRAWVARIABLE 或 CBS_OWNERDRAWVARIABLE 样式，将调用。 如果控件由对话框编辑器中，创建`OnMeasureItem`将不会调用。 这是因为[WM_MEASUREITEM](/windows/desktop/Controls/wm-measureitem)控件在创建过程中尽早发送消息。 如果使用子类`DDX_Control`， `SubclassDlgItem`，或`SubclassWindow`，子类化创建过程完成后，通常会出现。 因此，没有方法来处理[WM_MEASUREITEM](/windows/desktop/Controls/wm-measureitem)中控件的消息`OnChildNotify`函数，它是用于实现 ON_WM_MEASUREITEM_REFLECT MFC 的机制。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onmenuchar"></a>  CWnd::OnMenuChar

当用户按下并不与任何当前菜单中的预定义助记键匹配的菜单助记键字符时，框架将调用此成员函数。

```
afx_msg LRESULT OnMenuChar(
    UINT nChar,
    UINT nFlags,
    CMenu* pMenu);
```

### <a name="parameters"></a>参数

*nChar*<br/>
具体取决于生成设置中，指定与用户按下的 ANSI 或 Unicode 字符。

*nFlags*<br/>
如果该菜单弹出菜单，包含 MF_POPUP 标志。 如果该菜单控件菜单，它包含 MF_SYSMENU 标志。

*pMenu*<br/>
包含与所选的指针`CMenu`。 指针可能是暂时的不应存储。

### <a name="return-value"></a>返回值

返回值的高序位字应包含以下命令代码之一：

|“值”|Description|
|-----------|-----------------|
|0|告知 Windows 放弃用户按下并在系统扬声器上创建简短的提示音的字符。|
|1|告知 Windows，若要关闭当前菜单。|
|2|通知 Windows 返回值的低序位字包含特定项的项编号。 由 Windows 选择了此项目。|

如果高序位字包含 0 或 1，则忽略低序位字。 快捷键 （快捷方式） 用于选择放置在菜单中的位图时，应用程序应处理此消息。

### <a name="remarks"></a>备注

发送到`CWnd`拥有菜单。 `OnMenuChar` 也称为当用户按 ALT 和任何其他密钥，即使密钥与助记键字符不对应。 在这种情况下， *pMenu*指向拥有的菜单`CWnd`，和*nFlags*为 0。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onmenudrag"></a>  CWnd::OnMenuDrag

当用户开始拖动菜单项时，框架将调用当前的拖放菜单的此成员函数。

```
afx_msg UINT OnMenuDrag(
    UINT nPos,
    CMenu* pMenu);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nPos*|[in]当拖动操作开始时的菜单项的索引位置。|
|*pMenu*|[in]指向[CMenu](../../mfc/reference/cmenu-class.md)对象，其中包含菜单项。|

### <a name="return-value"></a>返回值

|返回值|含义|
|------------------|-------------|
|MND_CONTINUE|在菜单应保持活动状态。 如果释放鼠标后，应忽略它。|
|MND_ENDMENU|菜单上应已结束。|

### <a name="remarks"></a>备注

此方法接收[WM_MENUDRAG](/windows/desktop/menurc/wm-menudrag)通知，Windows SDK 中所述。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onmenugetobject"></a>  CWnd::OnMenuGetObject

当鼠标光标进入菜单项或从该项的中心移动到顶部或底部的项时，框架将调用当前的拖放菜单的此成员函数。

```
afx_msg UINT OnMenuGetObject(MENUGETOBJECTINFO* pMenuGetObjectInfo);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*pMenu*|[in]指向[MENUGETOBJECTINFO](/windows/desktop/api/winuser/ns-winuser-tagmenugetobjectinfo)上是结构，其中包含有关鼠标光标的拖放菜单的信息。|

### <a name="return-value"></a>返回值

|返回值|含义|
|------------------|-------------|
|MNGO_NOERROR|中返回支持拖放拖动操作的接口指针`pvObj`的成员[MENUGETOBJECTINFO](/windows/desktop/api/winuser/ns-winuser-tagmenugetobjectinfo)结构。 目前，仅[IDropTarget](/windows/desktop/api/oleidl/nn-oleidl-idroptarget)支持接口。|
|MNGO_NOINTERFACE|不支持任何下拉拖动接口。|

### <a name="remarks"></a>备注

此方法接收[WM_MENUGETOBJECT](/windows/desktop/menurc/wm-menugetobject)通知，Windows SDK 中所述。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onmenurbuttonup"></a>  CWnd::OnMenuRButtonUp

当用户释放鼠标右键按钮，在光标位于菜单项上时，框架将调用此成员函数。

```
afx_msg void OnMenuRButtonUp(
    UINT nPos,
    CMenu* pMenu);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nPos*|[in]已释放鼠标右键按钮时的菜单项的索引位置。|
|*pMenu*|[in]指向[CMenu](../../mfc/reference/cmenu-class.md)对象，其中包含菜单项。|

### <a name="remarks"></a>备注

此方法接收[WM_MENURBUTTONUP](/windows/desktop/menurc/wm-menurbuttonup)通知，Windows SDK 中所述。 [WM_MENURBUTTONUP](/windows/desktop/menurc/wm-menurbuttonup)消息，应用程序可以指定在消息中的项的菜单提供上下文相关菜单。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onmenuselect"></a>  CWnd::OnMenuSelect

如果`CWnd`对象是与菜单关联`OnMenuSelect`用户选择菜单项时由框架调用。

```
afx_msg void OnMenuSelect(
    UINT nItemID,
    UINT nFlags,
    HMENU hSysMenu);
```

### <a name="parameters"></a>参数

*nItemID*<br/>
标识选择的项。 如果所选的项是菜单项， *nItemID*包含菜单项 id。 如果所选的项包含弹出菜单中， *nItemID*包含弹出菜单索引，并*hSysMenu*包含主 (单击 on) 菜单的句柄。

*nFlags*<br/>
包含以下菜单标志的组合：

- MF_BITMAP 项是一个位图。

- 已选中 MF_CHECKED 该项。

- MF_DISABLED 项被禁用。

- MF_GRAYED 项将呈灰色。

- 用鼠标选择 MF_MOUSESELECT 任何项目。

- MF_OWNERDRAW 项是所有者描述项。

- MF_POPUP 项都包含一个弹出菜单。

- MF_SEPARATOR 项是菜单项分隔符。

- MF_SYSMENU 项包含在控制菜单中。

*hSysMenu*<br/>
如果*nFlags*包含 MF_SYSMENU，标识与消息关联的菜单。 如果*nFlags*包含 MF_POPUP，标识主菜单的句柄。 如果*nFlags*包含 MF_SYSMENU 和 MF_POPUP，都不是未使用。

### <a name="remarks"></a>备注

如果*nFlags*包含 0xFFFF 和*hSysMenu*包含 0，因为在用户按下 ESC 键或单击菜单之外，Windows 已关闭菜单。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onmouseactivate"></a>  CWnd::OnMouseActivate

当光标处于非活动窗口，用户按下鼠标按钮时，框架将调用此成员函数。

```
afx_msg int OnMouseActivate(
    CWnd* pDesktopWnd,
    UINT nHitTest,
    UINT message);
```

### <a name="parameters"></a>参数

*pDesktopWnd*<br/>
指定指向要激活的窗口的顶级父窗口的指针。 指针可能是暂时的不应存储。

*nHitTest*<br/>
指定[命中测试](#onnchittest)区域代码。 命中的测试是一个测试，以便确定光标的位置。

*message*<br/>
指定鼠标消息号。

### <a name="return-value"></a>返回值

指定是否激活`CWnd`以及是否要放弃的鼠标事件。 它必须是以下值之一：

- MA_ACTIVATE 激活`CWnd`对象。

- MA_NOACTIVATE 不要激活`CWnd`对象。

- MA_ACTIVATEANDEAT 激活`CWnd`对象，并放弃鼠标事件。

- MA_NOACTIVATEANDEAT 不要激活`CWnd`对象，并放弃鼠标事件。

### <a name="remarks"></a>备注

默认实现将此消息传递到父窗口之前进行任何处理。 如果父窗口返回 TRUE，将停止处理。

单个的命中测试区域代码的说明，请参阅[OnNcHitTest](#onnchittest)成员函数

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCAxCtl#9](../../mfc/reference/codesnippet/cpp/cwnd-class_49.cpp)]

##  <a name="onmousehover"></a>  CWnd::OnMouseHover

将光标的先前调用中指定的时间段内悬停在窗口的工作区时，框架将调用此成员函数[TrackMouseEvent](/windows/desktop/api/winuser/nf-winuser-trackmouseevent)。

```
afx_msg void OnMouseHover(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nFlags*|[in]指示哪个修改键被按下标志的按位组合 (OR)。 例如，MK_CONTROL 标志指示按下了 CTRL 键。|
|*point*|[in]一个[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*并*y*光标相对于工作区的左上角的坐标。|

### <a name="remarks"></a>备注

此方法接收[WM_MOUSEHOVER](/windows/desktop/inputdev/wm-mousehover)通知，Windows SDK 中所述。

*NFlags*参数可以是下表中列出的修改键的组合。 有关详细信息，请参阅[有关鼠标输入](/windows/desktop/inputdev/about-mouse-input)。

|修改键|描述|
|------------------|-----------------|
|MK_CONTROL|按下 CTRL 键。|
|MK_LBUTTON|鼠标左键已按下。|
|MK_MBUTTON|鼠标中键已按下。|
|MK_RBUTTON|鼠标右键已按下。|
|MK_SHIFT|按下 SHIFT 键。|
|MK_XBUTTON1|Microsoft 智能鼠标的 XBUTTON1 鼠标按钮按下。|
|MK_XBUTTON2|Microsoft 智能鼠标 XBUTTON2 鼠标左键已按下。|

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onmousehwheel"></a>  CWnd::OnMouseHWheel

框架在当前窗口组成的桌面窗口管理器 (DWM)，并且该窗口最大化时调用此成员。

```
afx_msg void OnMouseHWheel(
    UINT nFlags,
    short zDelta,
    CPoint pt);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nFlags*|[in]指示哪个修改键被按下标志的按位组合 (OR)。 例如，MK_CONTROL 标志指示按下了 CTRL 键。<br /><br /> 有关标志列表，请参阅在"消息参数"副标题[有关鼠标输入](/windows/desktop/inputdev/about-mouse-input)。|
|*zDelta*|[in]指示在序列图或部门 WHEEL_DELTA，表示这是 120 旋转鼠标滚轮的距离。 正值指示轮已转动向右;负值指示轮已转动的左侧。|
|*pt*|[in]一个[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*并*y*光标相对于工作区的左上角的坐标。|

### <a name="remarks"></a>备注

此方法接收[WM_MOUSEHWHEEL](/windows/desktop/inputdev/wm-mousehwheel)通知消息时，Windows SDK 中所述。 此消息发送到具有焦点时鼠标的水平滚轮发生倾斜或旋转的窗口。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onmouseleave"></a>  CWnd::OnMouseLeave

框架调用此成员函数，当光标离开的先前调用中指定的窗口工作区[TrackMouseEvent](/windows/desktop/api/winuser/nf-winuser-trackmouseevent)。

```
afx_msg void OnMouseLeave();
```

### <a name="remarks"></a>备注

此方法接收[WM_MOUSELEAVE](/windows/desktop/inputdev/wm-mouseleave)通知，Windows SDK 中所述。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onmousemove"></a>  CWnd::OnMouseMove

当鼠标光标移动时，框架将调用此成员函数。

```
afx_msg void OnMouseMove(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>参数

*nFlags*<br/>
指示是否各种虚拟键都已关闭。 此参数可以是下列值中的任意组合：

- 如果 CTRL 键已关闭，MK_CONTROL 设置。

- 如果左鼠标按钮 MK_LBUTTON 设置已关闭。

- 如果鼠标中键按下，设置 MK_MBUTTON。

- 如果鼠标右键 MK_RBUTTON 设置已关闭。

- 如果 SHIFT 键按下，设置 MK_SHIFT。

*point*<br/>
指定游标 x 和 y 坐标。 这些坐标始终都相对于窗口的左上角。

### <a name="remarks"></a>备注

如果没有捕获鼠标，通过收到 WM_MOUSEMOVE 消息`CWnd`鼠标光标; 下的对象; 否则，将消息转到已捕获鼠标的窗口。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onmousewheel"></a>  CWnd::OnMouseWheel

用户滚动鼠标滚轮以及遇到滚轮的下一步陷波，框架将调用此成员函数。

```
afx_msg BOOL OnMouseWheel(
    UINT nFlags,
    short zDelta,
    CPoint pt);
```

### <a name="parameters"></a>参数

*nFlags*<br/>
指示是否各种虚拟键都已关闭。 此参数可以是下列值中的任意组合：

- 如果 CTRL 键已关闭，MK_CONTROL 设置。

- 如果左鼠标按钮 MK_LBUTTON 设置已关闭。

- 如果鼠标中键按下，设置 MK_MBUTTON。

- 如果鼠标右键 MK_RBUTTON 设置已关闭。

- 如果 SHIFT 键按下，设置 MK_SHIFT。

*zDelta*<br/>
指示距离旋转。 *ZDelta*值表示在序列图或部门 WHEEL_DELTA，这是 120。 值小于零表示大于零表示向前旋转 （背离用户） 的值时的旋转后 （朝向用户）。 用户可以通过更改鼠标软件中的滚轮设置反转此响应。 请参阅有关此参数的详细信息的备注部分。

*pt*<br/>
指定游标 x 和 y 坐标。 这些坐标始终都相对于屏幕的左上角。

### <a name="return-value"></a>返回值

如果启用鼠标滚轮滚动，则非零值否则为 0。

### <a name="remarks"></a>备注

除非重写，否则`OnMouseWheel`调用的默认[对 wm_mousewheel 进行](/windows/desktop/inputdev/wm-mousewheel)。 Windows 会自动将消息路由到具有焦点的控件或子窗口。 Win32 函数[DefWindowProc](/windows/desktop/api/winuser/nf-winuser-defwindowproca)传播父链对其进行处理的窗口消息。

*ZDelta*参数是倍数 WHEEL_DELTA，设置为 120。 此值是要执行的操作的阈值和一个此类操作 （例如，滚动向前一个陷波） 应发生的每个增量。

WHEEL_DELTA 已设置为 120，以便可以更好地解析轮，如与没有凹口自由地旋转滚轮。 可以更好地解析滚轮发送更多的消息，每次旋转，但是每条消息由较小的增量值。 若要使用此类滚轮，请添加传入*zDelta*值直到达到 WHEEL_DELTA 时 （以便为给定的增量旋转收到相同的响应），或者滚动以响应更频繁的消息的一部分行。 此外可以选择滚动粒度和累积差异数据，直到达到 WHEEL_DELTA。

重写此成员函数以提供您自己的鼠标滚轮滚动行为。

> [!NOTE]
> `OnMouseWheel` 为 Windows NT 4.0 及更高版本中处理消息。 对于 Windows 95/98 或 Windows NT 3.51 消息处理功能，使用[OnRegisteredMouseWheel](#onregisteredmousewheel)。

##  <a name="onmove"></a>  CWnd::OnMove

框架将调用此成员函数之后，`CWnd`移动对象。

```
afx_msg void OnMove(
    int x,
    int y);
```

### <a name="parameters"></a>参数

*x*<br/>
指定新的客户端区域的左上角的 x 坐标位置。 此新位置的重叠和弹出窗口的屏幕坐标中但父工作区坐标的子窗口。

*y*<br/>
指定新的客户端区域的左上角的 y 坐标位置。 此新位置的重叠和弹出窗口的屏幕坐标中但父工作区坐标的子窗口。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onmoving"></a>  CWnd::OnMoving

框架将调用此成员函数时用户正在移动`CWnd`对象。

```
afx_msg void OnMoving(
    UINT nSide,
    LPRECT lpRect);
```

### <a name="parameters"></a>参数

*nSide*<br/>
要移动的窗口边缘。

*lpRect*<br/>
地址[CRect](../../atl-mfc-shared/reference/crect-class.md)或[RECT 结构](/windows/desktop/api/windef/ns-windef-tagrect)，其中将包含项目的坐标。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onncactivate"></a>  CWnd::OnNcActivate

在非工作区需要更改以指示活动或非活动状态时，框架将调用此成员函数。

```
afx_msg BOOL OnNcActivate(BOOL bActive);
```

### <a name="parameters"></a>参数

*bActive*<br/>
指定当标题栏或图标需要更改以指示活动或非活动状态。 *BActive*参数为 TRUE，如果活动的标题或图标是绘制。 为 FALSE 的非活动标题或图标。

### <a name="return-value"></a>返回值

如果 Windows 应继续使用默认的处理，则非零值若要防止在停用的标题栏或图标为 0。

### <a name="remarks"></a>备注

默认实现将绘制的标题栏和标题栏文本以其活动颜色如果*bActive*为 TRUE，以其处于非活动状态的颜色如果*bActive*为 FALSE。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onnccalcsize"></a>  CWnd::OnNcCalcSize

框架调用此成员函数时需要计算的大小和工作区的位置。

```
afx_msg void OnNcCalcSize(
    BOOL bCalcValidRects,
    NCCALCSIZE_PARAMS* lpncsp);
```

### <a name="parameters"></a>参数

*bCalcValidRects*<br/>
指定应用程序应指定客户端区域的哪个部分包含有效的信息。 Windows 会将有效的信息复制到新的客户端区域内的指定区域。 如果此参数为 TRUE，该应用程序应指定有效的客户端区域的哪个部分。

*lpncsp*<br/>
指向[NCCALCSIZE_PARAMS](/windows/desktop/api/winuser/ns-winuser-tagnccalcsize_params)数据结构，其中包含应用程序可用于计算的新大小和位置信息`CWnd`矩形 （包括工作区、 边框、 标题、 滚动条等）.

### <a name="remarks"></a>备注

通过处理此消息，应用程序可控制窗口的客户端区域中的内容的大小或窗口的位置发生更改时。

而不考虑的值*bCalcValidRects*，在指定的数组中的第一个矩形`rgrc`结构成员的`NCCALCSIZE_PARAMS`结构包含窗口的坐标。 为子窗口的坐标为相对于父窗口的工作区。 针对顶级窗口的坐标为屏幕坐标。 应用程序应修改`rgrc[0]`矩形才能反映的大小和工作区的位置。

`rgrc[1]`并`rgrc[2]`矩形是有效才*bCalcValidRects*为 TRUE。 在这种情况下，`rgrc[1]`之前它已移动或调整大小矩形中包含窗口的坐标。 `rgrc[2]`矩形中包含的窗口的工作区坐标之前窗口已移动。 所有坐标都都相对于父窗口或屏幕。

默认实现计算窗口特征 （状态显示为滚动条、 菜单中，依次类推） 工作区的大小，并在将结果放置于*lpncsp*。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onnccreate"></a>  CWnd::OnNcCreate

框架将调用之前的此成员函数[WM_CREATE](#oncreate)消息时`CWnd`首次创建对象。

```
afx_msg BOOL OnNcCreate(LPCREATESTRUCT lpCreateStruct);
```

### <a name="parameters"></a>参数

*lpCreateStruct*<br/>
指向[CREATESTRUCT](/windows/desktop/api/winuser/ns-winuser-tagcreatestructa)数据结构`CWnd`。

### <a name="return-value"></a>返回值

如果创建非工作区，非零值。 如果发生错误; 则为 0`Create`函数将返回**失败**这种情况下。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onncdestroy"></a>  CWnd::OnNcDestroy

当正在销毁非工作区，并且销毁 Windows 窗口时最后一个成员函数调用时由框架调用。

```
afx_msg void OnNcDestroy();
```

### <a name="remarks"></a>备注

默认实现执行一些清理，然后调用虚拟成员函数[PostNcDestroy](#postncdestroy)。

重写`PostNcDestroy`如果你想要执行自己的清理操作，如**删除此**操作。 如果重写`OnNcDestroy`，必须调用`OnNcDestroy`基类以确保为窗口中，将释放在内部分配任何内存中。

##  <a name="onnchittest"></a>  CWnd::OnNcHitTest

框架将调用此成员函数`CWnd`包含光标的对象 (或`CWnd`对象使用[SetCapture](#setcapture)成员函数来捕获鼠标输入) 每次鼠标移动。

```
afx_msg LRESULT OnNcHitTest(CPoint point);
```

### <a name="parameters"></a>参数

*point*<br/>
包含光标 x 和 y 坐标。 这些坐标始终是屏幕坐标。

### <a name="return-value"></a>返回值

其中一个鼠标命中测试枚举下面列出的值。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onnclbuttondblclk"></a>  CWnd::OnNcLButtonDblClk

框架调用此成员函数，当用户双击鼠标左键时在光标处于非工作区的`CWnd`。

```
afx_msg void OnNcLButtonDblClk(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>参数

*nHitTest*<br/>
指定[命中测试代码](#onnchittest)。 命中的测试是一个测试，以便确定光标的位置。

*point*<br/>
指定`CPoint`对象，其中包含 x 和 y 屏幕坐标的光标位置。 这些坐标始终都相对于屏幕的左上角。

### <a name="remarks"></a>备注

如果适用，请[WM_SYSCOMMAND](#onsyscommand)发送消息。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onnclbuttondown"></a>  CWnd::OnNcLButtonDown

框架在光标处于非工作区的用户按下鼠标左键时调用此成员函数`CWnd`对象。

```
afx_msg void OnNcLButtonDown(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>参数

*nHitTest*<br/>
指定[命中测试代码](#onnchittest)。 命中的测试是一个测试，以便确定光标的位置。

*point*<br/>
指定`CPoint`对象，其中包含 x 和 y 屏幕坐标的光标位置。 这些坐标始终都相对于屏幕的左上角。

### <a name="remarks"></a>备注

如果适用，请[WM_SYSCOMMAND](#onsyscommand)发送。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递给函数的参数反映已收到消息时由框架接收到的参数。如果调用此函数的基类实现，该实现将使用最初的消息和未提供的参数传递给函数的参数。

##  <a name="onnclbuttonup"></a>  CWnd::OnNcLButtonUp

当用户释放鼠标左键时在光标处于非工作区时，框架将调用此成员函数。

```
afx_msg void OnNcLButtonUp(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>参数

*nHitTest*<br/>
指定[命中测试代码](#onnchittest)。 命中的测试是一个测试，以便确定光标的位置。

*point*<br/>
指定`CPoint`对象，其中包含 x 和 y 屏幕坐标的光标位置。 这些坐标始终都相对于屏幕的左上角。

### <a name="remarks"></a>备注

如果适用，请[WM_SYSCOMMAND](#onsyscommand)发送。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onncmbuttondblclk"></a>  CWnd::OnNcMButtonDblClk

当用户双击鼠标中键时在光标处于非工作区时，框架将调用此成员函数。

```
afx_msg void OnNcMButtonDblClk(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>参数

*nHitTest*<br/>
指定[命中测试代码](#onnchittest)。 命中的测试是一个测试，以便确定光标的位置。

*point*<br/>
指定`CPoint`对象，其中包含 x 和 y 屏幕坐标的光标位置。 这些坐标始终都相对于屏幕的左上角。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onncmbuttondown"></a>  CWnd::OnNcMButtonDown

当用户按下鼠标中键时在光标处于非工作区时，框架将调用此成员函数。

```
afx_msg void OnNcMButtonDown(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>参数

*nHitTest*<br/>
指定[命中测试代码](#onnchittest)。 命中的测试是一个测试，以便确定光标的位置。

*point*<br/>
指定`CPoint`对象，其中包含 x 和 y 屏幕坐标的光标位置。 这些坐标始终都相对于屏幕的左上角。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onncmbuttonup"></a>  CWnd::OnNcMButtonUp

当用户释放鼠标中键时在光标处于非工作区时，框架将调用此成员函数。

```
afx_msg void OnNcMButtonUp(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>参数

*nHitTest*<br/>
指定[命中测试代码](#onnchittest)。 命中的测试是一个测试，以便确定光标的位置。

*point*<br/>
指定`CPoint`对象，其中包含 x 和 y 屏幕坐标的光标位置。 这些坐标始终都相对于屏幕的左上角。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onncmousehover"></a>  CWnd::OnNcMouseHover

当光标的先前调用中指定的时间段内悬停在窗口非工作区时，框架将调用此成员函数[TrackMouseEvent](/windows/desktop/api/winuser/nf-winuser-trackmouseevent)。

```
afx_msg void OnNcMouseHover(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nHitTest*|[in]返回的命中测试值[CWnd::DefWindowProc](#defwindowproc)函数作为处理结果[WM_NCHITTEST](/windows/desktop/inputdev/wm-nchittest)消息。|
|*point*|[in]一个[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*并*y*光标相对于屏幕的左上角的坐标。|

### <a name="remarks"></a>备注

此方法接收[WM_NCMOUSEHOVER](/windows/desktop/inputdev/wm-ncmousehover)通知，Windows SDK 中所述。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onncmouseleave"></a>  CWnd::OnNcMouseLeave

框架调用此成员函数，当光标离开之前调用中指定的窗口非工作区[TrackMouseEvent](/windows/desktop/api/winuser/nf-winuser-trackmouseevent)。

```
afx_msg void OnNcMouseLeave();
```

### <a name="remarks"></a>备注

此方法接收[WM_NCMOUSELEAVE](/windows/desktop/inputdev/wm-ncmouseleave)通知，Windows SDK 中所述。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onncmousemove"></a>  CWnd::OnNcMouseMove

在非工作区中移动光标时，框架将调用此成员函数。

```
afx_msg void OnNcMouseMove(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>参数

*nHitTest*<br/>
指定[命中测试代码](#onnchittest)。 命中的测试是一个测试，以便确定光标的位置。

*point*<br/>
指定`CPoint`对象，其中包含 x 和 y 屏幕坐标的光标位置。 这些坐标始终都相对于屏幕的左上角。

### <a name="remarks"></a>备注

如果适用，请[WM_SYSCOMMAND](#onsyscommand)发送消息。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onncpaint"></a>  CWnd::OnNcPaint

当需要绘制非工作区时，框架将调用此成员函数。

```
afx_msg void OnNcPaint();
```

### <a name="remarks"></a>备注

默认实现绘制窗口框架。

应用程序可以重写此调用，并绘制其自己的自定义窗口框架。 剪辑区域始终是矩形，即使更改框架的形状。

##  <a name="onncrbuttondblclk"></a>  CWnd::OnNcRButtonDblClk

框架调用此成员函数，当用户双击鼠标右键时在光标处于非工作区的`CWnd`。

```
afx_msg void OnNcRButtonDblClk(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>参数

*nHitTest*<br/>
指定[命中测试代码](#onnchittest)。 命中的测试是一个测试，以便确定光标的位置。

*point*<br/>
指定`CPoint`对象，其中包含 x 和 y 屏幕坐标的光标位置。 这些坐标始终都相对于屏幕的左上角。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onncrbuttondown"></a>  CWnd::OnNcRButtonDown

当用户在光标处于非工作区时按鼠标右键时，框架将调用此成员函数。

```
afx_msg void OnNcRButtonDown(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>参数

*nHitTest*<br/>
指定[命中测试代码](#onnchittest)。 命中的测试是一个测试，以便确定光标的位置。

*point*<br/>
指定`CPoint`对象，其中包含 x 和 y 屏幕坐标的光标位置。 这些坐标始终都相对于屏幕的左上角。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onncrbuttonup"></a>  CWnd::OnNcRButtonUp

当用户释放鼠标右键时在光标处于非工作区时，框架将调用此成员函数。

```
afx_msg void OnNcRButtonUp(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>参数

*nHitTest*<br/>
指定[命中测试代码](#onnchittest)。 命中的测试是一个测试，以便确定光标的位置。

*point*<br/>
指定`CPoint`对象，其中包含 x 和 y 屏幕坐标的光标位置。 这些坐标始终都相对于屏幕的左上角。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onncrenderingchanged"></a>  CWnd::OnNcRenderingChanged

非工作区渲染策略已更改时，框架将调用此成员。

```
afx_msg void OnNcRenderingChanged(BOOL bIsRendering);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*bIsRendering*|[in]如果窗口; 的非工作区中启用桌面窗口管理器 (DWM) 呈现，则返回 TRUE如果禁用呈现，则为 FALSE。|

### <a name="remarks"></a>备注

此方法接收[WM_DWMNCRENDERINGCHANGED](/windows/desktop/dwm/wm-dwmncrenderingchanged)通知，Windows SDK 中所述。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onncxbuttondblclk"></a>  CWnd::OnNcXButtonDblClk

当用户双击 XBUTTON1 或 XBUTTON2 时光标位于窗口非工作区时，框架将调用此成员函数。

```
void OnNcXButtonDblClk(
    short nHitTest,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nHitTest*|[in]返回的命中测试值[CWnd::DefWindowProc](#defwindowproc)函数作为处理结果[WM_NCHITTEST](/windows/desktop/inputdev/wm-nchittest)消息。|
|*nButton*|[in]如果第一个 Microsoft 智能鼠标 X 按钮是双击 XBUTTON1 或 XBUTTON2 值如果第二个 X 按钮是双击。|
|*point*|[in]一个[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*并*y*光标相对于工作区的左上角的坐标。|

### <a name="remarks"></a>备注

此方法接收[WM_XBUTTONDBLCLK](/windows/desktop/inputdev/wm-xbuttondblclk)通知，Windows SDK 中所述。 此消息发布到包含光标的窗口。 如果窗口已捕获鼠标，不会发布此消息。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onncxbuttondown"></a>  CWnd::OnNcXButtonDown

当用户按下 XBUTTON1 或 XBUTTON2 鼠标光标位于窗口非工作区，框架将调用此成员函数。

```
afx_msg void OnNcXButtonDown(
    short nHitTest,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nHitTest*|[in]返回的命中测试值[CWnd::DefWindowProc](#defwindowproc)函数作为处理结果[WM_NCHITTEST](/windows/desktop/inputdev/wm-nchittest)消息。|
|*nButton*|[in]值为按下第一个鼠标的 X 按钮时，如果 XBUTTON1 或 XBUTTON2 如果第二个 X 按钮被按下。|
|*point*|[in]一个[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*并*y*光标相对于屏幕的左上角的坐标。|

### <a name="remarks"></a>备注

此方法接收[WM_NCXBUTTONDOWN](/windows/desktop/inputdev/wm-ncxbuttondown)通知，Windows SDK 中所述。 此消息发布到包含光标的窗口。 如果窗口已捕获鼠标，不会发布此消息。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onncxbuttonup"></a>  CWnd::OnNcXButtonUp

当用户释放 XBUTTON1 或 XBUTTON2 鼠标光标位于窗口非工作区时，框架将调用此成员函数。

```
afx_msg void OnNcXButtonUp(
    short nHitTest,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nHitTest*|[in]返回的命中测试值[CWnd::DefWindowProc](#defwindowproc)函数作为处理结果[WM_NCHITTEST](/windows/desktop/inputdev/wm-nchittest)消息。|
|*nButton*|[in]值为释放第一个鼠标的 X 按钮时，如果 XBUTTON1 或 XBUTTON2 如果第二个 X 按钮发布。|
|*point*|[in]一个[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*并*y*光标相对于屏幕的左上角的坐标。|

### <a name="remarks"></a>备注

此方法接收[WM_NCXBUTTONUP](/windows/desktop/inputdev/wm-ncxbuttonup)通知，Windows SDK 中所述。 此消息发布到包含光标的窗口。 如果窗口已捕获鼠标，不会发布此消息。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onnextmenu"></a>  CWnd::OnNextMenu

使用右或向左箭头键在菜单栏和系统菜单之间切换时，框架将调用此成员函数。

```
afx_msg void OnNextMenu(
    UINT nKey,
    LPMDINEXTMENU lpMdiNextMenu);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nKey*|[in]指示哪个修改键被按下标志的按位组合 (OR)。 例如，MK_CONTROL 标志指示按下了 CTRL 键。<br /><br /> 有关标志列表，请参阅在"消息参数"副标题[有关鼠标输入](/windows/desktop/inputdev/about-mouse-input)。|
|*lpMdiNextMenu*|[in]指向[MDINEXTMENU](/windows/desktop/api/winuser/ns-winuser-tagmdinextmenu)结构，其中包含要激活的菜单有关的信息。|

### <a name="remarks"></a>备注

此方法接收[WM_UNINITMENUPOPUP](/windows/desktop/menurc/wm-uninitmenupopup)通知，Windows SDK 中所述。 在响应此消息，你的应用程序可以设置`hmenuNext`的成员[MDINEXTMENU](/windows/desktop/api/winuser/ns-winuser-tagmdinextmenu)结构，以指定要切换到的菜单和`hwndNext`成员以指定要接收通知的菜单消息的窗口.

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onnotify"></a>  CWnd::OnNotify

框架调用此成员函数来通知父窗口控件的控件中已发生事件或该控件要求某种类型的信息。

```
virtual BOOL OnNotify(
    WPARAM wParam,
    LPARAM lParam,
    LRESULT* pResult);
```

### <a name="parameters"></a>参数

*wParam*<br/>
标识发送消息，如果消息是从控件的控件。 否则为*wParam*为 0。

*lParam*<br/>
指向通知消息 (`NMHDR`) 结构，其中包含通知代码和其他信息。 对于某些通知消息，此参数指向具有较大结构`NMHDR`结构作为其第一个成员。

*pResult*<br/>
指向要在其中存储的结果代码，如果该消息处理 LRESULT 变量的指针。

### <a name="return-value"></a>返回值

应用程序返回非零，如果它可以处理此消息;否则为 0。

### <a name="remarks"></a>备注

`OnNotify` 处理控件通知的消息映射。

重写此成员函数在派生类以处理 WM_NOTIFY 消息。 除非重写将处理的消息映射的基类`OnNotify`调用。

WM_NOTIFY 消息的详细信息，请参阅技术注意 61 (TN061) [ON_NOTIFY 和 WM_NOTIFY 消息](../../mfc/tn061-on-notify-and-wm-notify-messages.md)。 您可能还需要学习的相关的主题中所述[控制主题](../../mfc/controls-mfc.md)，和 TN062， [Windows 控件消息反射](../../mfc/tn062-message-reflection-for-windows-controls.md)。

##  <a name="onnotifyformat"></a>  CWnd::OnNotifyFormat

框架调用此成员函数以确定当前窗口是否接受 WM_NOTIFY 通知消息中的 ANSI 或 Unicode 结构。

```
afx_msg UINT OnNotifyFormat(
    CWnd* pWnd,
    UINT nCommand);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*pWnd*|[in]一个指向`CWnd`对象，表示窗口发送[WM_NOTIFY](/windows/desktop/controls/wm-notify)消息。<br /><br /> 如果此参数是指向控件的*nCommand*参数是 NF_QUERY 或指向控件的父窗口的指针，如果*nCommand*是 NF_REQUERY。|
|*nCommand*|[in]一个专门 WM_NOTIFY 消息的命令值。 可能的值为：<br /><br /> -NF_QUERY-<br />     该消息是一个查询来确定是否应在 WM_NOTIFY 消息中使用的 ANSI 或 Unicode 结构。 从控件的控件，以及在响应此消息 NF_REQUERY 窗体创建过程到其父窗口发送此消息。<br />-NF_REQUERY-<br />     消息是为了使控件可将此消息的 NF_QUERY 形式发送到其父窗口的请求。 此请求来自父窗口中，并询问要再次查询有关的类型的结构的父 WM_NOTIFY 消息中使用的控件。 如果*nCommand*参数是 NF_REQUERY，返回值是重新查询操作的结果。|

### <a name="return-value"></a>返回值

|返回值|含义|
|------------------|-------------|
|NFR_ANSI|应由控件发送的 WM_NOTIFY 消息中使用 ANSI 结构。|
|NFR_UNICODE|应由控件发送的 WM_NOTIFY 消息中使用 Unicode 结构。|
|0|出现了错误。|

### <a name="remarks"></a>备注

此方法接收[WM_NOTIFYFORMAT](/windows/desktop/Controls/wm-notifyformat)通知，Windows SDK 中所述。 WM_NOTIFY 消息发送到其父窗口，在公共控件和公共控件的父窗口。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onpaint"></a>  CWnd::OnPaint

在 Windows 或应用程序发出请求以重新绘制应用程序的窗口的一部分时，框架将调用此成员函数。

```
afx_msg void OnPaint();
```

### <a name="remarks"></a>备注

[WM_PAINT](/windows/desktop/gdi/the-wm-paint-message)时发送消息[UpdateWindow](#updatewindow)或[RedrawWindow](#redrawwindow)调用成员函数。

一个窗口可能会收到内部绘制消息调用`RedrawWindow`成员函数和 RDW_INTERNALPAINT 标志设置。 在这种情况下，窗口可能没有更新区域。 应用程序应调用[GetUpdateRect](#getupdaterect)成员函数来确定窗口是否具有可更新区域。 如果`GetUpdateRect`返回 0 时，应用程序不应调用[BeginPaint](#beginpaint)并[EndPaint](#endpaint)成员函数。

检查是否有任何必要内部重新绘制或通过查看每个 WM_PAINT 消息其内部数据结构，因为 WM_PAINT 消息可能已导致无效的区域和对的调用的更新的应用程序负责`RedrawWindow`成员函数和 RDW_INTERNALPAINT 标志设置。

Windows 仅一次发送内部的 WM_PAINT 消息。 后内部 WM_PAINT 消息发送到通过窗口`UpdateWindow`成员函数没有进一步的 WM_PAINT 消息将发送或发布直到失效窗口，或者直到`RedrawWindow`与 RDW_INTERNALPAINT 再次调用成员函数标志设置。

有关呈现文档/视图应用程序中的映像的信息，请参阅[cview:: Ondraw](../../mfc/reference/cview-class.md#ondraw)。

详细了解使用`WM_Paint`，请参阅 Windows SDK 中的以下主题：

- [WM_PAINT 消息](/windows/desktop/gdi/the-wm-paint-message)

- [使用 WM_PAINT 消息](/windows/desktop/gdi/using-the-wm-paint-message)

##  <a name="onpaintclipboard"></a>  CWnd::OnPaintClipboard

剪贴板所有者的`OnPaintClipboard`剪贴板所有者已 CF_OWNERDISPLAY 格式在剪贴板上放置数据和剪贴板查看器的工作区需要重新绘制时，调用成员函数由剪贴板查看器。

```
afx_msg void OnPaintClipboard(
    CWnd* pClipAppWnd,
    HGLOBAL hPaintStruct);
```

### <a name="parameters"></a>参数

*pClipAppWnd*<br/>
指定指向剪贴板应用程序窗口的指针。 该指针可能是暂时的，不应存储起来供将来使用。

*hPaintStruct*<br/>
标识一个 [PAINTSTRUCT](/windows/desktop/api/winuser/ns-winuser-tagpaintstruct) 数据结构，该数据结构可定义要绘制的工作区部分。

### <a name="remarks"></a>备注

若要确定整个工作区还是只是它的一部分是否需要重新绘制，剪贴板所有者必须比较给定的绘图区域尺寸`rcpaint`的成员`PAINTSTRUCT`结构中最新给定尺寸[OnSizeClipboard](#onsizeclipboard)成员函数调用。

`OnPaintClipboard` 应使用[GlobalLock](/windows/desktop/api/winbase/nf-winbase-globallock) Windows 函数来锁定包含内存`PAINTSTRUCT`数据结构和解锁[GlobalUnlock](/windows/desktop/api/winbase/nf-winbase-globalunlock) Windows 函数之前退出。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onpalettechanged"></a>  CWnd::OnPaletteChanged

框架调用此成员函数针对所有顶级窗口后输入焦点的窗口已实现其逻辑调色板，从而更改系统调色板。

```
afx_msg void OnPaletteChanged(CWnd* pFocusWnd);
```

### <a name="parameters"></a>参数

*pFocusWnd*<br/>
指定指向导致系统调色板来更改窗口的指针。 指针可能是暂时的不应存储。

### <a name="remarks"></a>备注

此调用允许而无需使用调色板颜色来实现其逻辑调色板并更新其工作区将输入焦点的窗口。

`OnPaletteChanged`成员函数调用的所有顶层和重叠窗口，包括更改系统调色板和导致 WM_PALETTECHANGED 消息要发送的。 如果任何子窗口使用的调色板，必须向其传递此消息。

若要避免无限循环，该窗口不应实现其调色板它确定，除非*pFocusWnd*不包含到其自身的指针。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onpaletteischanging"></a>  CWnd::OnPaletteIsChanging

框架调用此成员函数以通知应用程序应用程序要实现其逻辑调色板。

```
afx_msg void OnPaletteIsChanging(CWnd* pRealizeWnd);
```

### <a name="parameters"></a>参数

*pRealizeWnd*<br/>
指定是要实现其逻辑调色板的窗口。

### <a name="remarks"></a>备注

框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onparentnotify"></a>  CWnd::OnParentNotify

父级的`OnParentNotify`创建或销毁，其子窗口时或在光标位于子窗口上方时，用户单击鼠标按钮时，由框架调用成员函数。

```
afx_msg void OnParentNotify(
    UINT message,
    LPARAM lParam);
```

### <a name="parameters"></a>参数

*message*<br/>
指定的事件的程序通知其父和子窗口的标识符。 该事件是低序位字*消息*。 如果事件是 WM_CREATE 或 WM_DESTROY 的高序位字*消息*的标识符的子窗口; 否则，高序位字是不确定。 事件 (低序位字*消息*) 可以是任何这些值：

- 正在创建 WM_CREATE 子窗口。

- 正在销毁 WM_DESTROY 子窗口。

- WM_LBUTTONDOWN 用户具有鼠标光标放在子窗口的上方并单击鼠标左键。

- WM_MBUTTONDOWN 用户具有鼠标光标放在子窗口的上方并单击鼠标中键。

- WM_RBUTTONDOWN 用户具有鼠标光标放在子窗口的上方并单击鼠标右键。

*lParam*<br/>
如果事件 （低序位字） 的*消息*WM_CREATE 或 WM_DESTROY， *lParam*指定的子窗口的窗口句柄; 否则为*lParam*包含 x 和 y光标的坐标。 X 坐标为低序位字，y 坐标中的高序位字。

### <a name="remarks"></a>备注

创建子窗口后，系统将调用`OnParentNotify`再[创建](#create)创建窗口的成员函数返回。 当正在销毁子窗口，系统将调用`OnParentNotify`任何处理将会发生销毁窗口之前。

`OnParentNotify` 是针对的子窗口，其中包括顶层窗口的所有祖先窗口进行调用。

所有子窗口都除具有[WS_EX_NOPARENTNOTIFY](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles)样式将此消息发送到其父窗口。 默认情况下，在对话框中的子窗口具有 WS_EX_NOPARENTNOTIFY 样式，除非子窗口的创建时未使用此样式通过调用[CreateEx](#createex)成员函数。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onpowerbroadcast"></a>  CWnd::OnPowerBroadcast

电源管理事件发生时，框架将调用此成员函数。

```
afx_msg UINT OnPowerBroadcast(
    UINT nPowerEvent,
    UINT nEventData);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nPowerEvent*|[in]电源管理事件。|
|*nEventData*|[in]特定于事件的数据。|

### <a name="return-value"></a>返回值

如果该事件的请求，返回 TRUE 以授予的请求或 BROADCAST_QUERY_DENY 拒绝该请求。

### <a name="remarks"></a>备注

此方法接收[WM_POWERBROADCAST](/windows/desktop/Power/wm-powerbroadcast)消息，Windows SDK 中所述。

*NPowerEvent*参数指定事件，如电池电量不足、 电源状态已更改，挂起操作的权限是请求还是拒绝、 事件后自动恢复操作，系统暂挂后恢复挂起操作或操作。 *NEventData*通常不使用参数。 有关详细信息，请参阅*wParam*并*lParam*的参数[WM_POWERBROADCAST](/windows/desktop/Power/wm-powerbroadcast)消息。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onquerydragicon"></a>  CWnd::OnQueryDragIcon

框架调用此成员函数不具有为其类定义的图标的最小化 （图标化） 窗口。

```
afx_msg HCURSOR OnQueryDragIcon();
```

### <a name="return-value"></a>返回值

一个双字值，该值包含在低序位字光标或图标的句柄。 游标或图标必须与显示器驱动程序的解决方法兼容。 如果应用程序将返回 NULL，系统会显示默认光标。 默认返回值为 NULL。

### <a name="remarks"></a>备注

系统会进行此调用，以获取要在用户拖动最小化的窗口时，显示的光标。 如果应用程序返回的图标或光标句柄，系统会将其转换为黑白。 如果应用程序返回的句柄，该句柄必须标识单色游标或兼容显示器驱动程序的分辨率的图标。 应用程序可以调用[CWinApp::LoadCursor](../../mfc/reference/cwinapp-class.md#loadcursor)或[CWinApp::LoadIcon](../../mfc/reference/cwinapp-class.md#loadicon)成员函数从其可执行文件中的资源加载光标或图标，并以获得此句柄。

##  <a name="onqueryendsession"></a>  CWnd::OnQueryEndSession

框架调用此成员函数，当用户选择结束 Windows 会话或当应用程序调用[ExitWindows](/windows/desktop/api/winuser/nf-winuser-exitwindows) Windows 函数。

```
afx_msg BOOL OnQueryEndSession();
```

### <a name="return-value"></a>返回值

如果应用程序可以方便地关闭; 非零值否则为 0。

### <a name="remarks"></a>备注

如果任何应用程序返回 0，不会结束 Windows 会话。 Windows 将停止调用`OnQueryEndSession`在一个应用程序，则返回 0 并将发送[WM_ENDSESSION](#onendsession) ，任何应用程序都已返回非零参数值为 FALSE 的消息。

##  <a name="onquerynewpalette"></a>  CWnd::OnQueryNewPalette

框架将调用此成员函数时`CWnd`将要接收输入的焦点的对象提供`CWnd`接收焦点时实现其逻辑调色板的机会。

```
afx_msg BOOL OnQueryNewPalette();
```

### <a name="return-value"></a>返回值

如果非零`CWnd`意识到其逻辑调色板; 否则为 0。

##  <a name="onqueryopen"></a>  CWnd::OnQueryOpen

框架将调用此成员函数时`CWnd`对象最小化和用户请求`CWnd`还原至其 preminimized 的大小和位置。

```
afx_msg BOOL OnQueryOpen();
```

### <a name="return-value"></a>返回值

非零，如果可以打开该图标，或为 0 以防止图标被打开。

### <a name="remarks"></a>备注

在处于`OnQueryOpen`，`CWnd`不应执行任何操作都将导致激活或焦点更改 （适用于示例中，创建的对话框）。

##  <a name="onqueryuistate"></a>  CWnd::OnQueryUIState

调用以检索窗口的用户界面 (UI) 状态。

```
afx_msg UINT OnQueryUIState();
```

### <a name="return-value"></a>返回值

如果焦点指示器和键盘快捷键可见，则返回值为 NULL。 否则，返回值可以是一个或多个以下值：

- UISF_HIDEFOCUS 焦点指示器处于隐藏状态。

- UISF_HIDEACCEL 键盘加速器处于隐藏状态。

- UISF_ACTIVE Windows XP:应在用于活动控件的样式绘制控件。

### <a name="remarks"></a>备注

此成员函数模拟的功能[WM_QUERYUISTATE](/windows/desktop/menurc/wm-queryuistate)消息，如 Windows SDK 中所述。

##  <a name="onrawinput"></a>  CWnd::OnRawInput

在当前窗口中获取原始输入时，框架将调用此成员函数。

```
afx_msg void OnRawInput(
    UINT nInputCode,
    HRAWINPUT hRawInput);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nInputCode*|[in]指示发生时或未位于前景时应用程序输入的输入的代码。 在任一情况下，应用程序必须调用[CWnd::DefWindowProc](#defwindowproc)以便系统可以执行清理。<br /><br /> 此参数可以是下列值之一：<br /><br /> 在前台应用程序时，将发生-RIM_INPUT 的输入。<br />不在前台应用程序时，将发生-RIM_INPUTSINK 的输入。|
|*hRawInput*|[in]句柄[RAWINPUT](/windows/desktop/api/winuser/ns-winuser-tagrawinput)结构，其中包含设备的原始输入。|

### <a name="remarks"></a>备注

此方法接收[WM_INPUT](/windows/desktop/inputdev/wm-appcommand)通知，Windows SDK 中所述。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onrbuttondblclk"></a>  CWnd::OnRButtonDblClk

当用户双击鼠标右键时，框架将调用此成员函数。

```
afx_msg void OnRButtonDblClk(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>参数

*nFlags*<br/>
指示是否各种虚拟键都已关闭。 此参数可以是下列值中的任意组合：

- 如果 CTRL 键已关闭，MK_CONTROL 设置。

- 如果没有鼠标按钮设 MK_LBUTTON 已关闭。

- 如果鼠标中键按下，设置 MK_MBUTTON。

- 如果鼠标右键已关闭，MK_RBUTTON 设置。

- 如果 SHIFT 键按下，设置 MK_SHIFT。

*point*<br/>
指定的 x 和 y 坐标的光标。 这些坐标始终都相对于窗口的左上角。

### <a name="remarks"></a>备注

具有 CS_DBLCLKS 的 windows [WNDCLASS](/windows/desktop/api/winuser/ns-winuser-tagwndclassa)样式可以接收`OnRButtonDblClk`调用。 这是在 Microsoft 基础类库中的 windows 的默认值。 Windows 调用`OnRButtonDblClk`当用户按下的、 释放，然后再次按下鼠标右键在系统内的双击时间限制。 双击鼠标右键按钮实际上会生成四个事件：[WM_RBUTTONDOWN](#onrbuttondown)并[WM_RBUTTONUP](#onrbuttonup)消息，`OnRButtonDblClk`调用时，并释放按钮时的另一个 WM_RBUTTONUP 消息。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onrbuttondown"></a>  CWnd::OnRButtonDown

在用户按鼠标右键时，框架将调用此成员函数。

```
afx_msg void OnRButtonDown(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>参数

*nFlags*<br/>
指示是否各种虚拟键都已关闭。 此参数可以是下列值中的任意组合：

- 如果 CTRL 键已关闭，MK_CONTROL 设置。

- 如果没有鼠标按钮设 MK_LBUTTON 已关闭。

- 如果鼠标中键按下，设置 MK_MBUTTON。

- 如果鼠标右键已关闭，MK_RBUTTON 设置。

- 如果 SHIFT 键按下，设置 MK_SHIFT。

*point*<br/>
指定的 x 和 y 坐标的光标。 这些坐标始终都相对于窗口的左上角。

### <a name="remarks"></a>备注

框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onrbuttonup"></a>  CWnd::OnRButtonUp

在用户释放鼠标右键时，框架将调用此成员函数。

```
afx_msg void OnRButtonUp(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>参数

*nFlags*<br/>
指示是否各种虚拟键都已关闭。 此参数可以是下列值中的任意组合：

- 如果 CTRL 键已关闭，MK_CONTROL 设置。

- 如果没有鼠标按钮设 MK_LBUTTON 已关闭。

- 如果鼠标中键按下，设置 MK_MBUTTON。

- 如果 SHIFT 键按下，设置 MK_SHIFT。

*point*<br/>
指定的 x 和 y 坐标的光标。 这些坐标始终都相对于窗口的左上角。

### <a name="remarks"></a>备注

框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onregisteredmousewheel"></a>  CWnd::OnRegisteredMouseWheel

用户滚动鼠标滚轮以及遇到滚轮的下一步陷波，框架将调用此成员函数。

```
afx_msg LRESULT OnRegisteredMouseWheel(
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>参数

*wParam*<br/>
指针的水平位置。

*lParam*<br/>
指针的垂直位置。

### <a name="return-value"></a>返回值

在此时间不重要。 始终为零。

### <a name="remarks"></a>备注

除非重写，否则`OnRegisteredMouseWheel`会将消息路由到适当的窗口 （的父窗口具有焦点），并调用[对 wm_mousewheel 进行](/windows/desktop/inputdev/wm-mousewheel)该窗口的处理程序。

重写此成员函数来提供自己的消息路由，或若要更改鼠标滚轮滚动行为。

> [!NOTE]
> `OnRegisteredMouseWheel` 为 Windows 95/98 和 Windows NT 3.51 处理消息。 对于 Windows NT 4.0 消息处理，使用[OnMouseWheel](#onmousewheel)。

##  <a name="onrenderallformats"></a>  CWnd::OnRenderAllFormats

剪贴板所有者`OnRenderAllFormats`正在销毁所有者应用程序时，由框架调用成员函数。

```
afx_msg void OnRenderAllFormats();
```

### <a name="remarks"></a>备注

剪贴板所有者应呈现中它是能够生成并通过调用到剪贴板上传递的每种格式的数据句柄的所有格式的数据[SetClipboardData](/windows/desktop/api/winuser/nf-winuser-setclipboarddata) Windows 函数。 这可确保剪贴板包含有效的数据，即使销毁呈现数据的应用程序也是如此。 应用程序应调用[打开剪贴板](#openclipboard)之前，调用成员函数[SetClipboardData](/windows/desktop/api/winuser/nf-winuser-setclipboarddata) Windows 函数并调用[CloseClipboard](/windows/desktop/api/winuser/nf-winuser-closeclipboard) Windows此后函数。

##  <a name="onrenderformat"></a>  CWnd::OnRenderFormat

剪贴板所有者`OnRenderFormat`需要呈现具有延迟呈现特定的格式时，由框架调用成员函数。

```
afx_msg void OnRenderFormat(UINT nFormat);
```

### <a name="parameters"></a>参数

*nFormat*<br/>
指定的剪贴板格式。

### <a name="remarks"></a>备注

接收方应呈现该格式的数据并将其传递到剪贴板，通过调用[SetClipboardData](/windows/desktop/api/winuser/nf-winuser-setclipboarddata) Windows 函数。

不要调用`OpenClipboard`成员函数或`CloseClipboard`中的 Windows 函数`OnRenderFormat`。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onsessionchange"></a>  CWnd::OnSessionChange

框架调用此成员函数以通知应用程序的会话状态的更改。

```
afx_msg void OnSessionChange(
    UINT nSessionState,
    UINT nId);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nSessionState*|[in]状态代码描述会话状态更改。|
|*nId*|[in]会话标识符。|

### <a name="remarks"></a>备注

此方法接收[WM_WTSSESSION_CHANGE](/windows/desktop/TermServ/wm-wtssession-change)通知，Windows SDK 中所述。

*NSessionState*参数指定的连接或断开连接的控制台或远程终端会话、 用户登录或注销、 锁定或解锁，会话或会话已更改为远程控制状态。 有关详细信息，请参阅*wParam*的参数[WM_WTSSESSION_CHANGE](/windows/desktop/TermServ/wm-wtssession-change)消息。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onsetcursor"></a>  CWnd::OnSetCursor

框架调用此成员函数，如果鼠标输入未捕获并且鼠标使光标中的移动`CWnd`对象。

```
afx_msg BOOL OnSetCursor(
    CWnd* pWnd,
    UINT nHitTest,
    UINT message);
```

### <a name="parameters"></a>参数

*pWnd*<br/>
指定指向包含光标的窗口的指针。 该指针可能是暂时的，不应存储起来供将来使用。

*nHitTest*<br/>
指定[命中测试](#onnchittest)区域代码。 命中的测试确定游标的位置。

*message*<br/>
指定鼠标消息号。

### <a name="return-value"></a>返回值

非零值，停止进一步处理，则为 0 以继续。

### <a name="remarks"></a>备注

默认实现调用父窗口的`OnSetCursor`之前处理。 如果父窗口返回 TRUE，将停止进一步处理。 调用父窗口提供了父窗口中的子窗口的游标的设置控制。

默认实现将光标设置到一个箭头，如果不是工作区中或已注册类游标如果它是。

如果*nHitTest*是 HTERROR 和*消息*是鼠标 button-down 消息，`MessageBeep`调用成员函数。

*消息*参数为 0 时`CWnd`进入菜单模式。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onsetfocus"></a>  CWnd::OnSetFocus

获取输入的焦点后，框架调用此成员函数。

```
afx_msg void OnSetFocus(CWnd* pOldWnd);
```

### <a name="parameters"></a>参数

*pOldWnd*<br/>
包含`CWnd`失去输入的焦点 （可能为 NULL） 的对象。 该指针可能是暂时的，不应存储起来供将来使用。

### <a name="remarks"></a>备注

若要显示一个插入符号，`CWnd`应在此时调用相应的插入符号函数。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onsettingchange"></a>  CWnd::OnSettingChange

框架将调用`OnSettingChange`Win32 SystemParametersInfo 函数更改系统范围设置时的所有顶级窗口。

```
afx_msg void OnSettingChange(
    UINT uFlags,
    LPCTSTR lpszSection);
```

### <a name="parameters"></a>参数

*uFlags*<br/>
当系统发送的消息为`SystemParametersInfo`调用时，此参数是一个标志，指示已更改系统参数。 值的列表，请参阅[SystemParametersInfo](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa) Windows SDK 中。 当应用程序发送消息时，此参数必须为 0。

*lpszSection*<br/>
指向一个字符串，指定已更改的部分的名称。 （该字符串不包括方括号括起来的节名称）。

### <a name="remarks"></a>备注

它对系统参数的更改和如果用户更改通过控制面板的设置，Windows 将发送消息时，应用程序应将消息发送给所有顶级窗口。

ON_WM_SETTINGCHANGE 消息为类似于 ON_WM_WININICHANGE 消息，存在以下差异：

- 运行 Windows NT 4.0 或更高版本，或在 Windows 95/98 使用 ON_WM_SETTINGCHANGE。

- 运行 Windows NT 3.51 或更低版本时，请使用 ON_WININICHANGE。 此消息现已过时。

应在消息映射中具有这些宏之一。 若要编写一个程序，适用于 Windows 95/98 和 Windows NT 4.0，请为 ON_WM_SETTINGCHANGE 编写一个处理程序。 在 Windows NT 3.51 下您的处理程序将调用`OnSettingChange`并*uFlags* ，将始终为零。

##  <a name="onshowwindow"></a>  CWnd::OnShowWindow

框架将调用此成员函数时`CWnd`对象是要显示或隐藏。

```
afx_msg void OnShowWindow(
    BOOL bShow,
    UINT nStatus);
```

### <a name="parameters"></a>参数

*bShow*<br/>
指定是否显示一个窗口。 如果当前显示在窗口; 其值为 TRUE如果要隐藏的窗口，它为 FALSE。

*nStatus*<br/>
指定显示在窗口的状态。 如果由于发送消息，则为 0`ShowWindow`成员函数调用; 否则为*nStatus*是以下之一：

- SW_PARENTCLOSING 父窗口正在关闭 （进行图标化） 或位于要隐藏弹出窗口。

- 打开 SW_PARENTOPENING 父窗口 （显示） 或所显示的弹出窗口。

### <a name="remarks"></a>备注

窗口隐藏或显示时`ShowWindow`时的重叠的窗口被最大化或还原，或关闭的重叠或弹出窗口时调用成员函数 （使其图标化） 或打开 （显示在屏幕上）。 重叠的窗口关闭时，隐藏所有与该窗口相关联的弹出窗口。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onsize"></a>  CWnd::OnSize

更改窗口的大小后，框架将调用此成员函数。

```
afx_msg void OnSize(
    UINT nType,
    int cx,
    int cy);
```

### <a name="parameters"></a>参数

*nType*<br/>
指定调整大小请求的类型。 此参数可以是下列值之一：

- SIZE_MAXIMIZED 窗口已最大化。

- SIZE_MINIMIZED 窗口已最小化。

- SIZE_RESTORED 窗口已调整大小，但 SIZE_MINIMIZED 和 SIZE_MAXIMIZED 都不适用。

- 某些其他窗口最大化时 SIZE_MAXHIDE 消息发送给所有弹出窗口。

- 某些其他窗口已还原到以前大小，SIZE_MAXSHOW 消息是发送给所有弹出窗口。

*cx*<br/>
指定客户端区域的新宽度。

*cy*<br/>
指定新工作区的高度。

### <a name="remarks"></a>备注

如果[SetScrollPos](#setscrollpos)或[MoveWindow](#movewindow)成员函数调用的子窗口`OnSize`，则`bRedraw`参数`SetScrollPos`或`MoveWindow`应为非零值导致`CWnd`进行重新绘制。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#109](../../mfc/reference/codesnippet/cpp/cwnd-class_50.cpp)]

##  <a name="onsizeclipboard"></a>  CWnd::OnSizeClipboard

剪贴板所有者`OnSizeClipboard`剪贴板包含数据时，调用成员函数由剪贴板查看器`CF_OWNERDISPLAY`属性和剪贴板查看器窗口的工作区的大小已更改。

```
afx_msg void OnSizeClipboard(
    CWnd* pClipAppWnd,
    HGLOBAL hRect);
```

### <a name="parameters"></a>参数

*pClipAppWnd*<br/>
标识剪贴板应用程序窗口。 指针可能是暂时的不应存储。

*hRect*<br/>
标识的全局内存对象。 内存对象包含指定剪贴板所有者绘制的区域的矩形数据结构。

### <a name="remarks"></a>备注

`OnSizeClipboard`调用成员函数是用 null 矩形 (0,0,0,0) 作为新的大小要销毁或最小化剪贴板应用程序时。 这将允许剪贴板所有者释放其显示资源。

内`OnSizeClipboard`，应用程序必须使用[GlobalLock](/windows/desktop/api/winbase/nf-winbase-globallock) Windows 函数来锁定包含 RECT 数据结构的内存。 让应用程序解锁[GlobalUnlock](/windows/desktop/api/winbase/nf-winbase-globalunlock) Windows 函数之前它将生成或返回控件。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onsizing"></a>  CWnd::OnSizing

框架调用此成员函数以指示用户正在调整矩形大小。

```
afx_msg void OnSizing(
    UINT nSide,
    LPRECT lpRect);
```

### <a name="parameters"></a>参数

*nSide*<br/>
要移动的窗口边缘。

*lpRect*<br/>
地址[CRect](../../atl-mfc-shared/reference/crect-class.md)或[RECT 结构](/windows/desktop/api/windef/ns-windef-tagrect)，其中将包含项目的坐标。

### <a name="remarks"></a>备注

通过处理此消息，应用程序可以监视的大小和位置的拖动矩形和，如果需要更改其大小或位置。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#110](../../mfc/reference/codesnippet/cpp/cwnd-class_51.cpp)]

##  <a name="onspoolerstatus"></a>  CWnd::OnSpoolerStatus

框架调用此成员函数从打印管理器添加或从打印管理器队列中删除作业时。

```
afx_msg void OnSpoolerStatus(
    UINT nStatus,
    UINT nJobs);
```

### <a name="parameters"></a>参数

*nStatus*<br/>
指定 SP_JOBSTATUS 标志。

*nJobs*<br/>
指定打印管理器队列中剩余的作业的数。

### <a name="remarks"></a>备注

此调用是仅用于提供信息。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onstylechanged"></a>  CWnd::OnStyleChanged

框架将调用此成员函数之后， [SetWindowLong](/windows/desktop/api/winuser/nf-winuser-setwindowlonga)函数已更改一个或多个窗口的样式。

```
afx_msg void OnStyleChanged(
    int nStyleType,
    LPSTYLESTRUCT lpStyleStruct);
```

### <a name="parameters"></a>参数

*nStyleType*<br/>
指定是否在窗口的扩展，或已改变的 nonextended 的样式。 此参数可以是以下值的组合：

- GWL_EXSTYLE 已更改窗口的扩展的样式。

- GWL_STYLE 窗口 nonextended 的样式已更改。

*lpStyleStruct*<br/>
指向[STYLESTRUCT](/windows/desktop/api/winuser/ns-winuser-stylestruct)结构，它包含的新样式的窗口。 应用程序可以检查样式，但它可以对其进行更改。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onstylechanging"></a>  CWnd::OnStyleChanging

框架将调用此成员函数时[SetWindowLong](/windows/desktop/api/winuser/nf-winuser-setwindowlonga)函数即将更改一个或多个窗口的样式。

```
afx_msg void OnStyleChanging(
    int nStyleType,
    LPSTYLESTRUCT lpStyleStruct);
```

### <a name="parameters"></a>参数

*nStyleType*<br/>
指定是否在窗口的扩展，或已改变的 nonextended 的样式。 此参数可以是以下值的组合：

- GWL_EXSTYLE 已更改窗口的扩展的样式。

- GWL_STYLE 窗口 nonextended 的样式已更改。

*lpStyleStruct*<br/>
指向[STYLESTRUCT](/windows/desktop/api/winuser/ns-winuser-stylestruct)结构，它包含的新样式的窗口。 应用程序可以检查样式并更改它们。

### <a name="remarks"></a>备注

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onsyschar"></a>  CWnd::OnSysChar

框架调用此成员函数，如果`CWnd`具有输入的焦点并且[WM_SYSKEYUP](#onsyskeyup)并[WM_SYSKEYDOWN](#onsyskeydown)消息转换。

```
afx_msg void OnSysChar(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>参数

*nChar*<br/>
指定控制菜单键的 ASCII 字符键代码。

*nRepCnt*<br/>
指定的重复计数 （次击键重复由于用户按下键而数）。

*nFlags*<br/>
*NFlags*参数可以为下列值：

|“值”|含义|
|-----------|-------------|
|0-15|指定的重复计数。 值是由于用户按下键而重复击键次数...|
|16-23|指定扫描代码。 值取决于原始设备制造商 (OEM)|
|24|指定密钥是否是扩展的密钥，例如增强的 101 或 102 键键盘显示的右侧 ALT 和 CTRL 键。 值为 1，如果它是一个扩展的密钥;否则，则为 0。|
|25-28|由 Windows 内部使用。|
|29|指定的上下文代码。 如果当按下了键; 并按住 ALT 键，则值为 1否则，值为 0。|
|30|指定上一个键的状态。 如果密钥已关闭之前发送消息，或如果密钥已启用，则为 0，则值为 1。|
|31|指定转换状态。 如果正在释放键，或如果按下了键则为 0，则值为 1。|

### <a name="remarks"></a>备注

它指定控件菜单键虚拟键的代码。 （有关标准虚拟键代码的列表，请参见 Winuser.h）

上下文代码为 0 时，可以传递 WM_SYSCHAR [WM_SYSCHAR](/windows/desktop/menurc/wm-syschar)到消息[TranslateAccelerator](/windows/desktop/api/winuser/nf-winuser-translateacceleratora)将处理它，就好像它是普通的关键消息，而不是系统的 Windows 函数字符键。 这允许使用与活动窗口，即使活动窗口不具有输入的焦点的加速键。

对于 IBM 增强 101 和 102 键键盘，增强型的密钥是右 ALT 和键盘; 的主要部分上的右 CTRL 键项、 DEL、 主页、 结束、 PAGE UP、 PAGE DOWN 和左侧的数字键盘中; 群集中的箭头键和斜杠 （/） 和数字键盘中的 ENTER 键。 一些其他键盘可能支持中的扩展密钥位*nFlags*。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onsyscolorchange"></a>  CWnd::OnSysColorChange

框架调用此成员函数针对所有顶级窗口时系统颜色设置中进行更改。

```
afx_msg void OnSysColorChange();
```

### <a name="remarks"></a>备注

Windows 调用`OnSysColorChange`受系统颜色更改任何窗口。

具有使用现有的系统颜色的画笔的应用程序应删除这些画笔并重新创建它们与新的系统颜色。

##  <a name="onsyscommand"></a>  CWnd::OnSysCommand

当用户从控件菜单中，选择命令或在用户选择最大化或最小化按钮时，框架将调用此成员函数。

```
afx_msg void OnSysCommand(
    UINT nID,
    LPARAM lParam);
```

### <a name="parameters"></a>参数

*nID*<br/>
指定请求系统命令的类型。 此参数可以是以下值之一：

- 关闭 SC_CLOSE`CWnd`对象。

- SC_HOTKEY 激活`CWnd`与应用程序指定热键相关联的对象。 低序位字*lParam*标识要激活窗口的 HWND。

- SC_HSCROLL 水平滚动。

- SC_KEYMENU 检索通过击键菜单。

- SC_MAXIMIZE （或 SC_ZOOM） 最大化`CWnd`对象。

- SC_MINIMIZE （或 SC_ICON） 最小化`CWnd`对象。

- SC_MOUSEMENU 检索菜单通过鼠标单击。

- SC_MOVE 移动`CWnd`对象。

- SC_NEXTWINDOW 将移到下一个窗口。

- SC_PREVWINDOW 将移到上一个窗口。

- 正常位置和大小 SC_RESTORE 还原窗口。

- SC_SCREENSAVE 执行系统的 [启动] 部分中指定屏幕保护程序应用程序。INI 文件。

- SC_SIZE 大小`CWnd`对象。

- SC_TASKLIST 执行或激活 Windows 任务管理器应用程序。

- SC_VSCROLL 垂直滚动。

*lParam*<br/>
如果使用鼠标，已选择的控件菜单命令*lParam*包含光标坐标。 低序位字包含 x 坐标和高序位字包含的 y 坐标。 否则不使用此参数。

- SC_HOTKEY 激活窗口与相关联的应用程序特定的热键。 低序位字*lParam*标识要激活的窗口。

- SC_SCREENSAVE 执行在控制面板的桌面部分中指定屏幕保存应用程序。

### <a name="remarks"></a>备注

默认情况下，`OnSysCommand`执行前面的表中指定的预定义操作的控件菜单请求。

在 WM_SYSCOMMAND 消息中的四个低顺序位*nID*参数由 Windows 在内部使用。 当应用程序测试的值*nID*，它必须先组合值 0xFFF0 *nID*通过使用按位值的和运算符来获取正确的结果。

可以通过修改控件菜单中的菜单项`GetSystemMenu`， `AppendMenu`， `InsertMenu`，和`ModifyMenu`成员函数。 修改控件菜单上的应用程序必须处理 WM_SYSCOMMAND 消息和应用程序不处理任何 WM_SYSCOMMAND 消息必须传递给`OnSysCommand`。 添加应用程序的任何命令值必须由应用程序处理且不能被传递到`OnSysCommand`。

应用程序可以执行任何系统命令在任何时候通过将 WM_SYSCOMMAND 消息传送到`OnSysCommand`。

定义要从控件菜单中选择项的加速器 （快捷） 键击转换成`OnSysCommand`调用; 所有击键转换为其他 accelerator [WM_COMMAND](#oncommand)消息。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onsysdeadchar"></a>  CWnd::OnSysDeadChar

框架调用此成员函数，如果`CWnd`对象具有输入焦点[OnSysKeyUp](#onsyskeyup)或[OnSysKeyDown](#onsyskeydown)调用成员函数。

```
afx_msg void OnSysDeadChar(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>参数

*nChar*<br/>
指定死键的字符值。

*nRepCnt*<br/>
指定的重复计数。

*nFlags*<br/>
指定扫描代码、 密钥转换代码、 上一项状态和上下文的代码中，如下面的列表中所示：

|“值”|含义|
|-----------|-------------|
|0-7|扫描代码 （依赖于 OEM 的值）。 高序位字低位字节。|
|8|扩展的密钥，如功能键或 （如果它是扩展的键为 1; 否则为 0） 数字键盘上的密钥。|
|9-10|未使用。|
|11-12|由 Windows 内部使用。|
|13|上下文代码 （如果按下了键时按下 ALT 键为 1; 否则为 0）。|
|14|以前的密钥状态 (如果该密钥已关闭之前的调用中，如果键已启动，则为 0，则为 1)。|
|15|转换状态 （如果正在释放键为 1，如果按下了键，则为 0）。|

### <a name="remarks"></a>备注

它指定成为语音符号键的字符值。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onsyskeydown"></a>  CWnd::OnSysKeyDown

如果`CWnd`对象具有输入的焦点，`OnSysKeyDown`由框架调用成员函数，当用户按住 ALT 键，然后按下另一个键。

```
afx_msg void OnSysKeyDown(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>参数

*nChar*<br/>
指定要按下的键的虚拟键代码。 标准虚拟键代码的列表，请参见 Winuser.h

*nRepCnt*<br/>
指定的重复计数。

*nFlags*<br/>
指定扫描代码、 密钥转换代码、 上一项状态和上下文的代码中，如下面的列表中所示：

|“值”|含义|
|-----------|-------------|
|0-7|扫描代码 （依赖于 OEM 的值）。 高序位字低位字节。|
|8|扩展的密钥，如功能键或 （如果它是扩展的键为 1; 否则为 0） 数字键盘上的密钥。|
|9-10|未使用。|
|11-12|由 Windows 内部使用。|
|13|上下文代码 (如果按下了键，0 否则时按下 ALT 键，则为 1)。|
|14|以前的密钥状态 (如果该密钥是向下发送邮件前，0 如果密钥已启用，则为 1)。|
|15|转换状态 （如果正在释放键为 1，如果按下了键，则为 0）。|

有关`OnSysKeyDown`调用，密钥转换位 （位 15） 为 0。 上下文代码位 （位 13） 为 1，如果按下了键; 时 ALT 键已关闭如果向活动窗口发送消息，因为没有窗口具有输入的焦点，则为 0。

### <a name="remarks"></a>备注

如果没有窗口当前具有输入的焦点，活动窗口的`OnSysKeyDown`调用成员函数。 `CWnd`对象，它接收该消息可区分这两种上下文检查的上下文代码`nFlags`。

通过上下文代码为 0 时，收到 WM_SYSKEYDOWN 消息`OnSysKeyDown`可以传递给[TranslateAccelerator](/windows/desktop/api/winuser/nf-winuser-translateacceleratora) Windows 函数，就好像它是正常的要点，而不是系统密钥消息处理它。 这允许使用与活动窗口，即使活动窗口不具有输入的焦点的加速键。

由于自动重复，多个`OnSysKeyDown`调用之前可能会出现[WM_SYSKEYUP](#onsyskeyup)接收消息。 上一个键的状态 （位 14） 可用于确定是否`OnSysKeyDown`调用指示第一个向下转换或向下重复的转换。

对于 IBM 增强 101 和 102 键键盘，增强型的密钥是右 ALT 和键盘; 的主要部分上的右 CTRL 键项、 DEL、 主页、 结束、 PAGE UP、 PAGE DOWN 和左侧的数字键盘中; 群集中的箭头键和斜杠 （/） 和数字键盘中的 ENTER 键。 一些其他键盘可能支持中的扩展密钥位*nFlags*。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onsyskeyup"></a>  CWnd::OnSysKeyUp

如果`CWnd`对象具有焦点，`OnSysKeyUp`由框架调用成员函数，当用户释放某个键的同时按住 ALT 键已按下。

```
afx_msg void OnSysKeyUp(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>参数

*nChar*<br/>
指定要按下的键的虚拟键代码。 标准虚拟键代码的列表，请参见 Winuser.h

*nRepCnt*<br/>
指定的重复计数。

*nFlags*<br/>
指定扫描代码、 密钥转换代码、 上一项状态和上下文的代码中，如下面的列表中所示：

|“值”|含义|
|-----------|-------------|
|0-7|扫描代码 （依赖于 OEM 的值）。 高序位字低位字节。|
|8|扩展的密钥，如功能键或 （如果它是扩展的键为 1; 否则为 0） 数字键盘上的密钥。|
|9-10|未使用。|
|11-12|由 Windows 内部使用。|
|13|上下文代码 (如果按下了键，0 否则时按下 ALT 键，则为 1)。|
|14|以前的密钥状态 (如果该密钥是向下发送邮件前，0 如果密钥已启用，则为 1)。|
|15|转换状态 （如果正在释放键为 1，如果按下了键，则为 0）。|

有关`OnSysKeyUp`调用，密钥转换位 （位 15） 为 1。 上下文代码位 （位 13） 为 1，如果按下了键; 时 ALT 键已关闭如果向活动窗口发送消息，因为没有窗口具有输入的焦点，则为 0。

### <a name="remarks"></a>备注

如果没有窗口当前具有输入的焦点，活动窗口的`OnSysKeyUp`调用成员函数。 `CWnd`对象，它接收该调用可区分这两种上下文检查的上下文代码*nFlags*。

通过上下文代码为 0 时，收到 WM_SYSKEYUP 消息`OnSysKeyUp`可以传递给[TranslateAccelerator](/windows/desktop/api/winuser/nf-winuser-translateacceleratora) Windows 函数，就好像它是正常的要点，而不是系统密钥消息处理它。 这允许 accelerator （快捷） 键，以使用与活动窗口，即使活动窗口不具有输入的焦点。

对于 IBM 增强 101 和 102 键键盘，增强型的密钥是右 ALT 和键盘; 的主要部分上的右 CTRL 键项、 DEL、 主页、 结束、 PAGE UP、 PAGE DOWN 和左侧的数字键盘中; 群集中的箭头键和斜杠 （/） 和数字键盘中的 ENTER 键。 一些其他键盘可能支持中的扩展密钥位*nFlags*。

非美国的CTRL + ALT 键组合作为处理增强的 102 键键盘，右边的 ALT 键。 下面显示消息和导致当用户按下并释放此键的调用的序列：

|序列|访问的函数|消息传递|
|--------------|-----------------------|--------------------|
|1.|[WM_KEYDOWN](#onkeydown)|VK_CONTROL|
|2.|[WM_KEYDOWN](#onkeydown)|VK_MENU|
|3.|[WM_KEYUP](#onkeyup)|VK_CONTROL|
|4.|[WM_SYSKEYUP](/windows/desktop/inputdev/wm-syskeyup)|VK_MENU|

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="ontcard"></a>  CWnd::OnTCard

当用户单击可创作的按钮时，框架将调用此成员函数。

```
afx_msg void OnTCard(
    UINT idAction,
    DWORD dwActionData);
```

### <a name="parameters"></a>参数

*idAction*<br/>
指示用户操作。 此参数可以是下列值之一：

- IDABORT 用户单击可创作的中止按钮。

- IDCANCEL 用户单击可创作的取消按钮。

- IDCLOSE 用户关闭培训卡。

- IDHELP 用户单击可创作的 Windows 帮助按钮。

- IDIGNORE 用户单击可创作的忽略按钮。

- IDOK 用户单击可创作的确定按钮。

- IDNO 用户单击可创作的按钮。

- IDRETRY 用户单击可创作的重试按钮。

- HELP_TCARD_DATA 用户单击可创作的按钮。 *DwActionData*参数包含帮助作者指定一个长整型。

- HELP_TCARD_NEXT 用户单击可创作的下一步按钮。

- HELP_TCARD_OTHER_CALLER 另一个应用程序已请求培训卡。

- IDYES 用户单击可创作的是按钮。

*dwActionData*<br/>
如果*idAction*指定 HELP_TCARD_DATA，该参数是一个长整型，帮助作者指定。 否则，此参数为零。

### <a name="remarks"></a>备注

仅当应用程序已启动 Windows 帮助的培训网卡时，调用此函数。 应用程序通过对的调用中指定 HELP_TCARD 命令启动培训卡[WinHelp](../../mfc/reference/cwinapp-class.md#winhelp)函数。

##  <a name="ontimechange"></a>  CWnd::OnTimeChange

更改系统时间后，框架将调用此成员函数。

```
afx_msg void OnTimeChange();
```

### <a name="remarks"></a>备注

有任何应用程序，更改系统时间发送此消息给所有顶级窗口。 若要将 WM_TIMECHANGE 消息发送给所有顶级窗口中，应用程序可以使用[SendMessage](/windows/desktop/api/winuser/nf-winuser-sendmessage) Windows 函数和其*hwnd*参数设置为 HWND_BROADCAST。

##  <a name="ontimer"></a>  CWnd::OnTimer

框架调用此成员函数中指定每个时间间隔过后[SetTimer](#settimer)成员函数用于安装一个计时器。

```
afx_msg void OnTimer(UINT_PTR nIDEvent);
```

### <a name="parameters"></a>参数

*nIDEvent*<br/>
指定计时器的标识符。

### <a name="remarks"></a>备注

[DispatchMessage](/windows/desktop/api/winuser/nf-winuser-dispatchmessage) Windows 函数发送[WM_TIMER](/windows/desktop/winmsg/wm-timer)消息应用程序的消息队列中没有其他消息时。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

### <a name="example"></a>示例

  请参阅中的示例[CWnd::SetTimer](#settimer)。

##  <a name="ontoolhittest"></a>  CWnd::OnToolHitTest

框架调用此成员函数以确定某个点是否在指定工具的边框。

```
virtual INT_PTR OnToolHitTest(
    CPoint point,
    TOOLINFO* pTI) const;
```

### <a name="parameters"></a>参数

*point*<br/>
指定游标 x 和 y 坐标。 这些坐标始终都相对于窗口的左上角

*pTI*<br/>
一个指向[TOOLINFO](/windows/desktop/api/commctrl/ns-commctrl-tagtoolinfoa)结构。 默认情况下设置以下结构值：

- *hwnd*  =  `m_hWnd`窗口的句柄

- *uId*  =  `(UINT)hWndChild`子窗口的句柄

- *uFlags* &#124;= TTF_IDISHWND 处理的工具

- *lpszText* = LPSTR_TEXTCALLBACK 指针转换为指定窗口中显示字符串

### <a name="return-value"></a>返回值

如果找到了该工具提示控件，该窗口控件 id。 如果工具提示控件未找到，-1。

### <a name="remarks"></a>备注

如果在矩形中，关键是，它将检索有关工具的信息。

如果工具提示与之关联的区域不是一个按钮， `OnToolHitTest` TTF_NOTBUTTON 和 TTF_CENTERTIP 设置结构标志。

重写`OnToolHitTest`以提供比默认提供不同的信息。

请参阅[TOOLINFO](/windows/desktop/api/commctrl/ns-commctrl-tagtoolinfoa)，在 Windows SDK 中，有关结构的详细信息。

##  <a name="ontouchinput"></a>  CWnd::OnTouchInput

处理来自 Windows 触摸屏的单个输入。

```
virtual BOOL OnTouchInput(
    CPoint pt,
    int nInputNumber,
    int nInputsCount,
    PTOUCHINPUT pInput);
```

### <a name="parameters"></a>参数

*pt*<br/>
其中，将屏幕接触 （在客户端坐标中） 的点。

*nInputNumber*<br/>
触摸屏输入的数。

*nInputsCount*<br/>
触摸输入的总数。

*pInput*<br/>
指向 TOUCHINPUT 结构的指针。

### <a name="return-value"></a>返回值

如果应用程序处理 Windows 触摸屏输入; 则为 TRUE否则为 FALSE。

### <a name="remarks"></a>备注

##  <a name="ontouchinputs"></a>  CWnd::OnTouchInputs

处理来自 Windows 触摸输入。

```
virtual BOOL OnTouchInputs(
    UINT nInputsCount,
    PTOUCHINPUT pInputs);
```

### <a name="parameters"></a>参数

*nInputsCount*<br/>
总数 Windows 触控输入。

*pInputs*<br/>
TOUCHINPUT 的数组。

### <a name="return-value"></a>返回值

如果应用程序，则返回 TRUE 进程 Windows 触控输入;否则为 FALSE。

### <a name="remarks"></a>备注

##  <a name="onunichar"></a>  CWnd::OnUniChar

当按下某个键时，框架将调用此成员函数。 即，当前窗口具有键盘焦点和一个[WM_KEYDOWN](/windows/desktop/inputdev/wm-keydown)消息进行解释[TranslateMessage](/windows/desktop/api/winuser/nf-winuser-translatemessage)函数。

```
afx_msg void OnUniChar(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nChar*|[in]指定按下的键的字符代码。|
|*nRepCnt*|[in]指定当前消息的重复次数。 值为击键是由于用户按下键而 autorepeated 次数。 如果击键会保留足够长的时间，将发送多条消息。 但是，重复次数不具有累积性。|
|*nFlags*|[in]下表中所示指定扫描代码、 扩展的密钥、 上下文代码、 上一项状态和转换状态的标志：<br /><br /> **0-7:** 指定扫描代码。 值取决于原始设备制造商 (OEM)。<br /><br /> **8:** 指定扩展的密钥，例如增强的 101 或 102 键键盘显示的右侧 ALT 和 CTRL 键。 该标志为 1，如果密钥是扩展的密钥;否则，则为 0。<br /><br /> **9-12:** 由 Windows 内部使用。<br /><br /> **13:** 指定的上下文代码。 如果当按下了键; 并按住 ALT 键，该标志为 1否则，值为 0。<br /><br /> **14:** 指定上一个键的状态。 如果该键处于松开，该标志是如果密钥已关闭之前发送消息，则为 1 或 0。<br /><br /> **15:** 指定转换状态。 如果按下了键，该标志是如果正在释放键，则为 1 或 0。|

### <a name="remarks"></a>备注

此方法接收[WM_UNICHAR](/windows/desktop/inputdev/wm-unichar)通知，Windows SDK 中所述。 [WM_UNICHAR](/windows/desktop/inputdev/wm-unichar)邮件旨在发送或发布到 ANSI windows 的 Unicode 字符。 它等效于[WM_CHAR](/windows/desktop/inputdev/wm-char)消息，但使用 Unicode 转换格式-32 编码 (UTF-32)，而[WM_CHAR](/windows/desktop/inputdev/wm-char)消息使用 utf-16。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onuninitmenupopup"></a>  CWnd::OnUnInitMenuPopup

框架将调用此成员函数时下拉列表菜单或子菜单已销毁。

```
afx_msg void OnUnInitMenuPopup(
    CMenu* pPopupMenu,
    UINT nFlags);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*pMenu*|[in]指向[CMenu](../../mfc/reference/cmenu-class.md)对象，表示菜单或子菜单。|
|*nFlags*|[in]已被销毁菜单。 目前，它只能是窗口菜单的 MF_SYSMENU。|

### <a name="remarks"></a>备注

此方法接收[WM_UNINITMENUPOPUP](/windows/desktop/menurc/wm-uninitmenupopup)通知，Windows SDK 中所述。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onupdateuistate"></a>  CWnd::OnUpdateUIState

调用以更改指定窗口及其所有子窗口的用户界面 (UI) 状态。

```
afx_msg void OnUpdateUIState(
    UINT nAction,
    UINT nUIElement);
```

### <a name="parameters"></a>参数

*nAction*<br/>
指定要执行的操作。 可以是以下值之一：

- UIS_CLEAR 的 UI 状态元素 (由指定*nUIElement*) 应隐藏。

- UIS_INITIALIZE 的 UI 状态元素 (由指定*nUIElement*) 应根据最后一个输入事件进行更改。 有关详细信息，请参阅**备注**一部分[WM_UPDATEISTATE](/windows/desktop/menurc/wm-updateuistate)。

- UIS_SET 的 UI 状态元素 (由指定*nUIElement*) 应为可见。

*nUIElement*<br/>
指定受影响的用户界面状态元素或控件的样式。 可以是以下值之一：

- UISF_HIDEACCEL 键盘加速器。

- UISF_HIDEFOCUS 焦点指示器。

- UISF_ACTIVE Windows XP:应在用于活动控件的样式绘制控件。

### <a name="remarks"></a>备注

此成员函数模拟的功能[WM_UPDATEUISTATE](/windows/desktop/menurc/wm-updateuistate)消息，如 Windows SDK 中所述。

##  <a name="onuserchanged"></a>  CWnd::OnUserChanged

框架调用此成员的所有窗口后用户已登录或注销。

```
afx_msg void OnUserChanged();
```

### <a name="remarks"></a>备注

此方法接收[WM_USERCHANGED](https://msdn.microsoft.com/library/windows/desktop/ms632651)通知消息时，Windows SDK 中所述。 当用户登录和注销时，操作系统更新特定于用户的设置。 系统更新的设置后立即发送此消息。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onvkeytoitem"></a>  CWnd::OnVKeyToItem

如果`CWnd`对象拥有与列表框[LBS_WANTKEYBOARDINPUT](../../mfc/reference/styles-used-by-mfc.md#list-box-styles)样式，列表框将发送 WM_VKEYTOITEM 消息，以响应对 WM_KEYDOWN 消息。

```
afx_msg int OnVKeyToItem(
    UINT nKey,
    CListBox* pListBox,
    UINT nIndex);
```

### <a name="parameters"></a>参数

*nKey*<br/>
指定用户按下的键的虚拟键代码。 标准虚拟键代码的列表，请参见 Winuser.h

*pListBox*<br/>
指定指向列表框。 该指针可能是暂时的，不应存储起来供将来使用。

*nIndex*<br/>
指定当前插入符号位置。

### <a name="return-value"></a>返回值

指定在响应消息中的应用程序执行的操作。 返回值-2 指示应用程序处理的选择项的所有方面并不需要进一步的操作的列表框。 返回值为-1 表示列表框中应执行击键的响应的默认操作。 返回值为 0 或更高版本的列表框中指定项的从零开始的索引，并指示列表框中应为击键上给定的项执行默认操作。

### <a name="remarks"></a>备注

仅为列表框具有框架调用此成员函数[LBS_HASSTRINGS](../../mfc/reference/styles-used-by-mfc.md#list-box-styles)样式。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onvscroll"></a>  CWnd::OnVScroll

当用户单击窗口的垂直滚动条，框架将调用此成员函数。

```
afx_msg void OnVScroll(
    UINT nSBCode,
    UINT nPos,
    CScrollBar* pScrollBar);
```

### <a name="parameters"></a>参数

*nSBCode*<br/>
指定的滚动条代码，指示用户的滚动请求。 此参数可以是以下值之一：

- SB_BOTTOM 滚动到底部。

- SB_ENDSCROLL 最终滚动。

- SB_LINEDOWN 一个向下滚动一行。

- SB_LINEUP 滚动行上移一行。

- 向下 SB_PAGEDOWN 滚动一页。

- 向上 SB_PAGEUP 滚动一页。

- SB_THUMBPOSITION 滚动到的绝对位置。 中提供了当前位置*nPos*。

- SB_THUMBTRACK 拖动滚动框移到指定位置。 中提供了当前位置*nPos*。

- SB_TOP 滚动到顶部。

*nPos*<br/>
如果滚动条代码 SB_THUMBPOSITION 或 SB_THUMBTRACK;，包含滚动框的当前位置否则不使用。 具体取决于初始滚动范围*nPos*可以是负数，并且应强制转换为**int**如有必要。

*pScrollBar*<br/>
如果滚动消息来自的滚动条控件，包含控件的指针。 如果用户单击窗口的滚动条，则此参数为 NULL。 该指针可能是暂时的，不应存储起来供将来使用。

### <a name="remarks"></a>备注

`OnVScroll` 通常使用的应用程序进行拖动滚动框时，提供一些反馈。

如果`OnVScroll`的内容滚动`CWnd`对象，它还必须重置以滚动框的位置[SetScrollPos](#setscrollpos)成员函数。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onvscrollclipboard"></a>  CWnd::OnVScrollClipboard

剪贴板所有者`OnVScrollClipboard`剪贴板数据有 CF_OWNERDISPLAY 格式并且剪贴板查看器的垂直滚动条中没有一个事件时，调用成员函数由剪贴板查看器。

```
afx_msg void OnVScrollClipboard(
    CWnd* pClipAppWnd,
    UINT nSBCode,
    UINT nPos);
```

### <a name="parameters"></a>参数

*pClipAppWnd*<br/>
指定指向剪贴板查看器窗口的指针。 该指针可能是暂时的，不应存储起来供将来使用。

*nSBCode*<br/>
指定以下的滚动条值之一：

- SB_BOTTOM 滚动到底部。

- SB_ENDSCROLL 最终滚动。

- SB_LINEDOWN 一个向下滚动一行。

- SB_LINEUP 滚动行上移一行。

- 向下 SB_PAGEDOWN 滚动一页。

- 向上 SB_PAGEUP 滚动一页。

- SB_THUMBPOSITION 滚动到的绝对位置。 中提供了当前位置*nPos*。

- SB_TOP 滚动到顶部。

*nPos*<br/>
如果滚动条代码 SB_THUMBPOSITION;，包含滚动框位置否则为*nPos*不使用。

### <a name="remarks"></a>备注

所有者应滚动剪贴板图像、 使相应部分失效以及更新滚动条值。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onwindowmaximizedchanged"></a>  CWnd::OnWindowMaximizedChanged

当前窗口已最大化，并在窗口由桌面窗口管理器 (DWM) 时，框架将调用此成员。

```
afx_msg void OnWindowMaximizedChanged(BOOL bIsMaximized);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*bIsMaximized*|[in]如果当前窗口已最大化，并且如果它不是 FALSE，则为 TRUE。|

### <a name="remarks"></a>备注

此方法接收[WM_DWMWINDOWMAXIMIZEDCHANGE](/windows/desktop/dwm/wm-dwmwindowmaximizedchange)通知消息时，Windows SDK 中所述。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onwindowposchanged"></a>  CWnd::OnWindowPosChanged

框架在大小、 位置或 Z 顺序已因调用而更改时调用此成员函数[SetWindowPos](/windows/desktop/api/winuser/nf-winuser-setwindowpos)成员函数或另一个窗口管理函数。

```
afx_msg void OnWindowPosChanged(WINDOWPOS* lpwndpos);
```

### <a name="parameters"></a>参数

*lpwndpos*<br/>
指向[WINDOWPOS](/windows/desktop/api/winuser/ns-winuser-tagwindowpos)数据结构，其中包含有关窗口的新大小和位置的信息。

### <a name="remarks"></a>备注

默认实现将发送[WM_SIZE](/windows/desktop/winmsg/wm-size)并[WM_MOVE](/windows/desktop/winmsg/wm-move)到窗口的消息。 如果应用程序处理，不会发送这些消息`OnWindowPosChanged`调用而不会调用其基类。 若要执行任何移动或大小更改处理在调用效率更高`OnWindowPosChanged`而不会调用其基类。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onwindowposchanging"></a>  CWnd::OnWindowPosChanging

框架在大小、 位置或 Z 顺序即将因调用而更改时调用此成员函数[SetWindowPos](/windows/desktop/api/winuser/nf-winuser-setwindowpos)成员函数或另一个窗口管理函数。

```
afx_msg void OnWindowPosChanging(WINDOWPOS* lpwndpos);
```

### <a name="parameters"></a>参数

*lpwndpos*<br/>
指向`WINDOWPOS`数据结构，其中包含有关窗口的新大小和位置的信息。

### <a name="remarks"></a>备注

应用程序可以防止更改到窗口通过设置或清除中的相应位**标志**的成员[WINDOWPOS](/windows/desktop/api/winuser/ns-winuser-tagwindowpos)结构。

使用窗口[WS_OVERLAPPED](styles-used-by-mfc.md#window-styles)或[WS_THICKFRAME](styles-used-by-mfc.md#window-styles)样式的默认实现将发送[WM_GETMINMAXINFO](/windows/desktop/winmsg/wm-getminmaxinfo)到窗口的消息。 这是验证新的大小和窗口的位置并实施 CS_BYTEALIGNCLIENT 和 CS_BYTEALIGN 客户端样式。 应用程序可以通过不调用它的基类重写此功能。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onwininichange"></a>  CWnd::OnWinIniChange

框架调用此成员函数具有对 Windows 初始化文件，进行更改后 WIN。INI。

```
afx_msg void OnWinIniChange(LPCTSTR lpszSection);
```

### <a name="parameters"></a>参数

*lpszSection*<br/>
指向一个字符串，指定已更改的部分的名称。 （该字符串不包括方括号括起来的节名称）。

### <a name="remarks"></a>备注

[SystemParametersInfo](/windows/desktop/api/winuser/nf-winuser-systemparametersinfoa) Windows 函数调用`OnWinIniChange`应用程序使用该函数来更改在 WIN 设置后。INI 文件。

若要将 WM_WININICHANGE 消息发送给所有顶级窗口中，应用程序可以使用[SendMessage](/windows/desktop/api/winuser/nf-winuser-sendmessage) Windows 函数和其*hwnd*参数设置为 HWND_BROADCAST。

如果应用程序更改很多不同部分中的获胜。同时在 INI，该应用程序应该发送一个 WM_WININICHANGE 消息包含*lpszSection*设置为 NULL。 否则，应用程序应将发送 WM_WININICHANGE 每次发出对 WIN 更改。INI。

如果应用程序接收`OnWinIniChange`使用调用*lpszSection*设置为 NULL，该应用程序应检查 WIN 中的所有部分。影响应用程序的 INI。

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onwndmsg"></a>  CWnd::OnWndMsg

调用此成员函数`WindowProc`，或在消息反射过程中调用。

```
virtual BOOL OnWndMsg(
    UINT message,
    WPARAM wParam,
    LPARAM lParam,
    LRESULT* pResult);
```

### <a name="parameters"></a>参数

*message*<br/>
指定要发送的消息。

*wParam*<br/>
指定消息相关的其他信息。

*lParam*<br/>
指定消息相关的其他信息。

*pResult*<br/>
返回值[WindowProc](#windowproc)。 取决于消息;可以为 NULL。

### <a name="return-value"></a>返回值

如果消息已处理; 则为 TRUE否则为 FALSE。

### <a name="remarks"></a>备注

`OnWndMsg` 确定消息类型和任一调用合适的框架功能 (例如， [OnCommand](#oncommand) WM_COMMAND 对于) 或在消息映射中查找相应的消息。

有关消息反射的详细信息，请参阅[处理反射消息](../../mfc/handling-reflected-messages.md)。

##  <a name="onxbuttondblclk"></a>  CWnd::OnXButtonDblClk

当用户双击 XBUTTON1 或 XBUTTON2 在光标位于窗口的工作区中时，框架将调用此成员函数。

```
afx_msg void OnXButtonDblClk(
    UINT nFlags,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nFlags*|[in]指示哪个修改键被按下标志的按位组合 (OR)。 例如，MK_CONTROL 标志指示按下了 CTRL 键。|
|*nButton*|[in]如果第一个 Microsoft 智能鼠标 X 按钮是双击 XBUTTON1 或 XBUTTON2 值如果第二个 X 按钮是双击。|
|*point*|[in]一个[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*并*y*光标相对于工作区的左上角的坐标。|

### <a name="remarks"></a>备注

此方法接收[WM_XBUTTONDBLCLK](/windows/desktop/inputdev/wm-xbuttondblclk)通知，Windows SDK 中所述。 如果没有捕获鼠标，消息被发送给光标下的窗口。 否则，该消息被发送给已捕获鼠标的窗口。

*NFlags*参数可以是下表中列出的修改键的组合。 有关详细信息，请参阅[有关鼠标输入](/windows/desktop/inputdev/about-mouse-input)。

|修改键|描述|
|------------------|-----------------|
|MK_CONTROL|按下 CTRL 键。|
|MK_LBUTTON|鼠标左键已按下。|
|MK_MBUTTON|鼠标中键已按下。|
|MK_RBUTTON|鼠标右键已按下。|
|MK_SHIFT|按下 SHIFT 键。|
|MK_XBUTTON1|Microsoft 智能鼠标的 XBUTTON1 鼠标按钮按下。|
|MK_XBUTTON2|Microsoft 智能鼠标 XBUTTON2 鼠标左键已按下。|

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onxbuttondown"></a>  CWnd::OnXButtonDown

当用户按下 XBUTTON1 或 XBUTTON2 光标位于窗口的工作区中，框架将调用此成员函数。

```
afx_msg void OnXButtonDown(
    UINT nFlags,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nFlags*|[in]指示哪个修改键被按下标志的按位组合 (OR)。 例如，MK_CONTROL 标志指示按下了 CTRL 键。|
|*nButton*|[in]值为如果单击第一个 Microsoft 智能鼠标 X 按钮，XBUTTON1 或 XBUTTON2 如果第二个 X 按钮被单击。|
|*point*|[in]一个[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*并*y*光标相对于工作区的左上角的坐标。|

### <a name="remarks"></a>备注

此方法接收[WM_XBUTTONDOWN](/windows/desktop/inputdev/wm-xbuttondown)通知，Windows SDK 中所述。 如果没有捕获鼠标，消息被发送给光标下的窗口。 否则，该消息被发送给已捕获鼠标的窗口。

*NFlags*参数可以是下表中列出的修改键的组合。 有关详细信息，请参阅[有关鼠标输入](/windows/desktop/inputdev/about-mouse-input)。

|修改键|描述|
|------------------|-----------------|
|MK_CONTROL|按下 CTRL 键。|
|MK_LBUTTON|鼠标左键已按下。|
|MK_MBUTTON|鼠标中键已按下。|
|MK_RBUTTON|鼠标右键已按下。|
|MK_SHIFT|按下 SHIFT 键。|
|MK_XBUTTON1|Microsoft 智能鼠标的 XBUTTON1 鼠标按钮按下。|
|MK_XBUTTON2|Microsoft 智能鼠标 XBUTTON2 鼠标左键已按下。|

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="onxbuttonup"></a>  CWnd::OnXButtonUp

当用户释放 XBUTTON1 或 XBUTTON2 在光标位于窗口的工作区中时，框架将调用此成员函数。

```
afx_msg void OnXButtonUp(
    UINT nFlags,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>参数

|参数|描述|
|---------------|-----------------|
|*nFlags*|[in]指示哪个修改键被按下标志的按位组合 (OR)。 例如，MK_CONTROL 标志指示按下了 CTRL 键。|
|*nButton*|[in]如果第一个 Microsoft 智能鼠标 X 按钮被单击，XBUTTON1 或 XBUTTON2 值如果第二个 X 按钮被单击。|
|*point*|[in]一个[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象，它指定*x*并*y*光标相对于工作区的左上角的坐标。|

### <a name="remarks"></a>备注

此方法接收[WM_XBUTTONUP](/windows/desktop/inputdev/wm-xbuttonup)通知，Windows SDK 中所述。 如果没有捕获鼠标，消息被发送给光标下的窗口。 否则，该消息被发送给已捕获鼠标的窗口。

*NFlags*参数可以是下表中列出的修改键的组合。 有关详细信息，请参阅[有关鼠标输入](/windows/desktop/inputdev/about-mouse-input)。

|修改键|描述|
|------------------|-----------------|
|MK_CONTROL|按下 CTRL 键。|
|MK_LBUTTON|鼠标左键已按下。|
|MK_MBUTTON|鼠标中键已按下。|
|MK_RBUTTON|鼠标右键已按下。|
|MK_SHIFT|按下 SHIFT 键。|
|MK_XBUTTON1|Microsoft 智能鼠标的 XBUTTON1 鼠标按钮按下。|
|MK_XBUTTON2|Microsoft 智能鼠标 XBUTTON2 鼠标左键已按下。|

> [!NOTE]
> 框架调用此成员函数来支持你的应用程序处理 Windows 消息。 传递到函数的参数反映了收到消息时框架所接收的参数。 如果调用此函数的基类实现，该实现将使用最初随消息传递的参数，而不是你提供给该函数的参数。

##  <a name="openclipboard"></a>  CWnd::OpenClipboard

打开剪贴板。

```
BOOL OpenClipboard();
```

### <a name="return-value"></a>返回值

非零，如果通过打开剪贴板`CWnd`，或 0，如果另一个应用程序或窗口具有剪贴板打开。

### <a name="remarks"></a>备注

其他应用程序将不能修改直到剪贴板[CloseClipboard](/windows/desktop/api/winuser/nf-winuser-closeclipboard)调用 Windows 函数。

当前`CWnd`对象将会成为直到剪贴板所有者[EmptyClipboard](/windows/desktop/api/winuser/nf-winuser-emptyclipboard)调用 Windows 函数。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#111](../../mfc/reference/codesnippet/cpp/cwnd-class_52.cpp)]

##  <a name="operator_hwnd"></a>  CWnd::operator HWND

使用此运算符获取的句柄`CWnd`对象。

```
operator HWND() const;
```

##  <a name="operator_neq"></a>  CWnd::operator ！ =

比较两个`CWnd`对象以确定它们是否执行不具有相同[m_hWnd](#m_hwnd)。

```
BOOL operator!=(const CWnd& wnd) const;
```

### <a name="parameters"></a>参数

*wnd*<br/>
对 `CWnd` 对象的引用。

### <a name="return-value"></a>返回值

如果相等，则非零值否则为 0。

##  <a name="operator_eq_eq"></a>  CWnd::operator = =

比较两个`CWnd`对象以确定它们是否具有相同[m_hWnd](#m_hwnd)。

```
BOOL operator==(const CWnd& wnd) const;
```

### <a name="parameters"></a>参数

*wnd*<br/>
对 `CWnd` 对象的引用。

### <a name="return-value"></a>返回值

如果相等，则非零值否则为 0。

##  <a name="paintwindowlesscontrols"></a>  CWnd::PaintWindowlessControls

在控件容器上绘制无窗口控件。

```
BOOL PaintWindowlessControls(CDC* pDC);
```

### <a name="parameters"></a>参数

*pDC*<br/>
在其上绘制无窗口控件的设备上下文。

### <a name="return-value"></a>返回值

如果控件容器与无窗口控件则为 TRUE 返回所绘制成功，否则为 FALSE。

##  <a name="postmessage"></a>  CWnd::PostMessage

在窗口的消息队列中放置一条消息，然后返回而不等待相应的窗口来处理该消息。

```
BOOL PostMessage(
    UINT message,
    WPARAM wParam = 0,
    LPARAM lParam = 0);
```

### <a name="parameters"></a>参数

*message*<br/>
指定要发布的消息。

*wParam*<br/>
指定其他消息信息。 此参数的内容取决于要发布的消息。

*lParam*<br/>
指定其他消息信息。 此参数的内容取决于要发布的消息。

### <a name="return-value"></a>返回值

发送消息; 如果非零值否则为 0。

### <a name="remarks"></a>备注

通过调用检索队列中的消息的消息[GetMessage](/windows/desktop/api/winuser/nf-winuser-getmessage)或[PeekMessage](/windows/desktop/api/winuser/nf-winuser-peekmessagea) Windows 函数。

Windows [PostMessage](/windows/desktop/api/winuser/nf-winuser-postmessagea)函数可用来访问另一个应用程序。

### <a name="example"></a>示例

  有关示例，请参阅[AfxGetMainWnd](../../mfc/reference/application-information-and-management.md#afxgetmainwnd)。

##  <a name="postncdestroy"></a>  CWnd::PostNcDestroy

默认情况下调用[OnNcDestroy](#onncdestroy)成员函数在窗口已销毁之后。

```
virtual void PostNcDestroy();
```

### <a name="remarks"></a>备注

派生的类可以使用此函数，例如，删除自定义清理**这**指针。

##  <a name="precreatewindow"></a>  CWnd::PreCreateWindow

由框架创建附加到此 Windows 窗口之前调用`CWnd`对象。

```
virtual BOOL PreCreateWindow(CREATESTRUCT& cs);
```

### <a name="parameters"></a>参数

*cs*<br/>
一个[CREATESTRUCT](/windows/desktop/api/winuser/ns-winuser-tagcreatestructa)结构。

### <a name="return-value"></a>返回值

如果应继续窗口创建; 非零值0 以指示创建失败。

### <a name="remarks"></a>备注

> [!WARNING]
> `CWnd::PreCreateWindow` 现在将分配的 hMenu 成员*cs*到**这**如果菜单为 NULL 且 style 包含 WS_CHILD 的指针。 能正常运行，请确保您的对话框控件有一个 ID，不为 NULL。
>
> 在托管/本机互操作方案中，此更改修复了崩溃。 中的跟踪语句`CWnd::Create`警报问题的开发人员。

永远不会直接调用此函数。

此函数的默认实现检查 NULL 窗口类名称，并将替换为相应的默认值。 重写此成员函数以修改`CREATESTRUCT`结构创建窗口之前。

每个类派生自`CWnd`将其自身的功能添加到其重写`PreCreateWindow`。 根据设计，这些派生的`PreCreateWindow`未记录。 若要确定适合于每个类和样式之间的相互依赖项的样式，可以检查应用程序的基类的 MFC 源代码。 如果您选择替代`PreCreateWindow,`可以确定应用程序的基类中所用的样式是否提供通过使用 MFC 源代码从收集的信息所需的功能。

更改窗口样式的详细信息，请参阅[更改 MFC 创建的窗口样式](../../mfc/changing-the-styles-of-a-window-created-by-mfc.md)。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#112](../../mfc/reference/codesnippet/cpp/cwnd-class_53.cpp)]

##  <a name="presubclasswindow"></a>  CWnd::PreSubclassWindow

此成员函数由框架，以允许其他必要子类化，然后再对窗口子类化调用。

```
virtual void PreSubclassWindow();
```

### <a name="remarks"></a>备注

重写此成员函数允许动态子类化的控件。 它是一种高级可重写。

##  <a name="pretranslatemessage"></a>  CWnd::PreTranslateMessage

在将窗口消息发送到 [TranslateMessage](../../mfc/reference/cwinapp-class.md) 和 [DispatchMessage](/windows/desktop/api/winuser/nf-winuser-translatemessage) Windows 函数之前，由 [CWinApp](/windows/desktop/api/winuser/nf-winuser-dispatchmessage) 类用于对此消息进行转换。

```
virtual BOOL PreTranslateMessage(MSG* pMsg);
```

### <a name="parameters"></a>参数

*pMsg*<br/>
指向[MSG](/windows/desktop/api/winuser/ns-winuser-tagmsg)结构，其中包含要处理的消息。

### <a name="return-value"></a>返回值

如果消息已转换，并且不应被调度; 非零值如果消息未翻译，且应被调度，则为 0。

##  <a name="print"></a>  CWnd::Print

调用此成员函数以绘制在指定的设备上下文中，最常见原因是打印机设备上下文中当前窗口。

```
void Print(
    CDC* pDC,
    DWORD dwFlags) const;
```

### <a name="parameters"></a>参数

*pDC*<br/>
一个指向设备上下文的指针。

*dwFlags*<br/>
指定绘图选项。 此参数可以是一个或多个这些标志：

- PRF_CHECKVISIBLE 绘制窗口才可见。

- PRF_CHILDREN 绘制所有可见子窗口。

- PRF_CLIENT 绘制窗口的客户端区域。

- PRF_ERASEBKGND 绘图窗口前，清除背景。

- PRF_NONCLIENT 绘制窗口的非工作区。

- PRF_OWNED 绘制所有拥有的 windows。

### <a name="remarks"></a>备注

[CWnd::DefWindowProc](#defwindowproc)函数将处理此信息基于指定的绘图选项：

- 如果指定 PRF_CHECKVISIBLE 窗口不可见，则不执行任何操作。

- 如果指定 PRF_NONCLIENT，绘制给定的设备上下文中的非工作区。

- 如果指定 PRF_ERASEBKGND，发送窗口[WM_ERASEBKGND](/windows/desktop/winmsg/wm-erasebkgnd)消息。

- 如果指定 PRF_CLIENT，发送窗口[WM_PRINTCLIENT](/windows/desktop/gdi/wm-printclient)消息。

- 如果设置 PRF_CHILDREN，发送的每个可见子窗口[WM_PRINT](/windows/desktop/gdi/wm-print)消息。

- 如果设置 PRF_OWNED，发送每个可见拥有的窗口 WM_PRINT 消息。

##  <a name="printclient"></a>  CWnd::PrintClient

调用此成员函数以绘制指定的设备上下文 （通常是打印机设备上下文） 中的任何窗口。

```
void PrintClient(
    CDC* pDC,
    DWORD dwFlags) const;
```

### <a name="parameters"></a>参数

*pDC*<br/>
一个指向设备上下文的指针。

*dwFlags*<br/>
指定绘图选项。 此参数可以是一个或多个这些标志：

- PRF_CHECKVISIBLE 绘制窗口才可见。

- PRF_CHILDREN 绘制所有可见子窗口。

- PRF_CLIENT 绘制窗口的客户端区域。

- PRF_ERASEBKGND 绘图窗口前，清除背景。

- PRF_NONCLIENT 绘制窗口的非工作区。

- PRF_OWNED 绘制所有拥有的 windows。

##  <a name="printwindow"></a>  CWnd::PrintWindow

将可视窗口复制到指定设备上下文（通常是打印机设备上下文）。

```
BOOL PrintWindow(
    CDC* pDC,
    UINT nFlags) const;
```

### <a name="parameters"></a>参数

*pDC*<br/>
指向要打印到的设备上下文的指针。

*nFlags*<br/>
指定绘图选项。 有关可能的值的列表，请参阅[PrintWindow](/windows/desktop/api/winuser/nf-winuser-printwindow)。

### <a name="return-value"></a>返回值

如果函数成功，则为非零值；否则为

### <a name="remarks"></a>备注

此成员函数模拟函数的功能[PrintWindow](/windows/desktop/api/winuser/nf-winuser-printwindow)，如 Windows SDK 中所述。

##  <a name="redrawwindow"></a>  CWnd::RedrawWindow

更新指定的矩形或给定的窗口的工作区中的区域。

```
BOOL RedrawWindow(
    LPCRECT lpRectUpdate = NULL,
    CRgn* prgnUpdate = NULL,
    UINT flags = RDW_INVALIDATE | RDW_UPDATENOW | RDW_ERASE);
```

### <a name="parameters"></a>参数

*lpRectUpdate*<br/>
指向[RECT 结构](/windows/desktop/api/windef/ns-windef-tagrect)其中包含更新矩形的坐标。 如果忽略此参数*prgnUpdate*包含有效的区域句柄。

*prgnUpdate*<br/>
标识更新区域。 如果这两个*prgnUpdate*并*lpRectUpdate*均为 NULL，则整个工作区添加到更新区域。

*flags*<br/>
以下标志用于使窗口：

- RDW_ERASE 将使窗口接收[WM_ERASEBKGND](/windows/desktop/winmsg/wm-erasebkgnd)时重新绘制窗口消息。 此外必须指定 RDW_INVALIDATE 标志;否则 RDW_ERASE 没有任何影响。

- RDW_FRAME 导致相交要接收的更新区域的窗口非工作区的任何部分[WM_NCPAINT](/windows/desktop/gdi/wm-ncpaint)消息。 此外必须指定 RDW_INVALIDATE 标志;否则 RDW_FRAME 没有任何影响。

- 导致 RDW_INTERNALPAINT [WM_PAINT](/windows/desktop/gdi/wm-paint)消息发布到窗口而不考虑该窗口是否包含一个无效的区域。

- 使之无效 RDW_INVALIDATE *lpRectUpdate*或*prgnUpdate* （仅一个可能不为 NULL）。 如果二者都为 NULL，整个窗口将会失效。

以下标志用于验证窗口：

- RDW_NOERASE 取消任何挂起的 WM_ERASEBKGND 消息。

- RDW_NOFRAME 取消任何挂起的 WM_NCPAINT 消息。 此标志必须与 RDW_VALIDATE 一起使用，且通常用于 RDW_NOCHILDREN。 此选项应时要小心，因为它无法阻止进行正确绘制窗口的各个部分。

- RDW_NOINTERNALPAINT 取消任何挂起的内部 WM_PAINT 消息。 此标志不会影响 WM_PAINT 消息而产生的无效区域。

- 验证 RDW_VALIDATE *lpRectUpdate*或*prgnUpdate* （仅一个可能不为 NULL）。 如果二者都为 NULL，将验证整个窗口。 此标志不会影响内部 WM_PAINT 消息。

下列标志控制何时重新绘制时发生。 绘制不由`RedrawWindow`作用，除非指定这些位之一。

- RDW_ERASENOW 导致受影响的窗口 （如由 RDW_ALLCHILDREN 和 RDW_NOCHILDREN 标志来指定） 以接收 WM_NCPAINT 和 WM_ERASEBKGND 消息，如有必要，该函数返回之前。 延迟 WM_PAINT 消息。

- RDW_UPDATENOW 导致受影响的窗口 （如由 RDW_ALLCHILDREN 和 RDW_NOCHILDREN 标志来指定） 以接收 WM_NCPAINT、 WM_ERASEBKGND 和 WM_PAINT 消息，如有必要，该函数返回之前。

默认情况下，windows 受`RedrawWindow`函数取决于是否指定的窗口具有 WS_CLIPCHILDREN 样式。 不受影响的 WS_CLIPCHILDREN windows 子窗口。 但是，不是 WS_CLIPCHILDREN windows 这些窗口是以递归方式验证或直到遇到 WS_CLIPCHILDREN 窗口失效。 以下标志控制哪些 windows 受到`RedrawWindow`函数：

- RDW_ALLCHILDREN 包括子窗口，如果有重操作中。

- RDW_NOCHILDREN 排除子窗口，如果有重操作。

### <a name="return-value"></a>返回值

如果在窗口已成功，则重绘，非零值否则为 0。

### <a name="remarks"></a>备注

当`RedrawWindow`成员函数使用要使之无效的桌面窗口中，一部分该窗口不会收到[WM_PAINT](/windows/desktop/gdi/wm-paint)消息。 若要重新绘制桌面，应用程序应使用[CWnd::ValidateRgn](#validatergn)， [CWnd::InvalidateRgn](#invalidatergn)， [CWnd::UpdateWindow](#updatewindow)，或[RedrawWindow](/windows/desktop/api/winuser/nf-winuser-redrawwindow)

##  <a name="reflectchildnotify"></a>  CWnd::ReflectChildNotify

从框架调用此消息函数[OnChildNotify](#onchildnotify)。

```
BOOL ReflectChildNotify(
    UINT message,
    WPARAM wParam,
    LPARAM lParam,
    LRESULT* pResult);
```

### <a name="parameters"></a>参数

*message*<br/>
指定的消息才会反映。

*wParam*<br/>
指定消息相关的其他信息。

*lParam*<br/>
指定消息相关的其他信息。

*pResult*<br/>
所生成的子窗口的父窗口返回的结果。 可以为 NULL。

### <a name="return-value"></a>返回值

如果已反映消息; 则为 TRUE否则为 FALSE。

### <a name="remarks"></a>备注

它是一个帮助器函数，它反映*消息*与其数据源。

反映消息直接发送[CWnd::OnWndMsg](#onwndmsg)或[CCmdTarget::OnCmdMsg](../../mfc/reference/ccmdtarget-class.md#oncmdmsg)。

有关消息反射的详细信息，请参阅[处理反射消息](../../mfc/handling-reflected-messages.md)。

##  <a name="reflectlastmsg"></a>  CWnd::ReflectLastMsg

此成员函数调用由框架以反映到子窗口的最后一个消息。

```
static BOOL PASCAL ReflectLastMsg(
    HWND hWndChild,
    LRESULT* pResult = NULL);
```

### <a name="parameters"></a>参数

*hWndChild*<br/>
子窗口的句柄。

*pResult*<br/>
所生成的子窗口的父窗口返回的结果。 可以为 NULL。

### <a name="return-value"></a>返回值

如果该消息已处理; 非零值否则为 0。

### <a name="remarks"></a>备注

此成员函数将调用[SendChildNotifyLastMsg](#sendchildnotifylastmsg)如果窗口由标识*hWndChild* OLE 控件或永久的映射中的窗口。

有关消息反射的详细信息，请参阅[处理反射消息](../../mfc/handling-reflected-messages.md)。

##  <a name="releasedc"></a>  CWnd::ReleaseDC

释放设备上下文，释放它由其他应用程序使用。

```
int ReleaseDC(CDC* pDC);
```

### <a name="parameters"></a>参数

*pDC*<br/>
标识要释放的设备上下文。

### <a name="return-value"></a>返回值

如果成功，则不为 0；否则为 0。

### <a name="remarks"></a>备注

效果`ReleaseDC`成员函数取决于设备上下文类型。

应用程序必须调用`ReleaseDC`每次调用成员函数[GetWindowDC](#getwindowdc)成员函数和每次调用[GetDC](#getdc)成员函数。

##  <a name="repositionbars"></a>  CWnd::RepositionBars

调用以重新定位和调整窗口的工作区中的控件条的大小。

```
void RepositionBars(UINT nIDFirst,
    UINT nIDLast,
    UINT nIDLeftOver,
    UINT nFlag = reposDefault,
    LPRECT lpRectParam = NULL,
    LPCRECT lpRectClient = NULL,
    BOOL bStretch = TRUE) ;
```

### <a name="parameters"></a>参数

*nIDFirst*<br/>
第一个 ID 来重新定位和调整大小的控件条的范围内。

*nIDLast*<br/>
若要重新定位和调整大小的控件条的范围中的最后一个 ID。

*nIDLeftOver*<br/>
指定填充客户端区域的其余部分的窗格的 ID。

*nFlag*<br/>
可以具有以下值之一：

- `CWnd::reposDefault` 执行控件条的布局。 *lpRectParam*未使用，可以为 NULL。

- `CWnd::reposQuery` 未完成的控件条布局;相反*lpRectParam*像布局最初实际上已执行初始化工作区的大小。

- `CWnd::reposExtra` 将的值相加*lpRectParam*的客户端区域*nIDLast*也能执行布局。

*lpRectParam*<br/>
指向[RECT 结构](/windows/desktop/api/windef/ns-windef-tagrect); 的使用情况取决于值*nFlag*。

*lpRectClient*<br/>
指向[RECT 结构](/windows/desktop/api/windef/ns-windef-tagrect)包含可用的客户端区域。 如果为 NULL，则将使用窗口的工作区。

*bStretch*<br/>
指示是否应被栏拉伸到帧的大小。

### <a name="remarks"></a>备注

*NIDFirst*并*nIDLast*参数定义的工作区中重新定位控件条 Id 范围。 *NIDLeftOver*参数指定的重新定位和调整大小以填充不填充控件条的客户端区域的其余部分的子窗口 （通常视图） 的 ID。

##  <a name="runmodalloop"></a>  CWnd::RunModalLoop

调用此成员函数可检索、 转换或调度消息，直到[ContinueModal](#continuemodal)返回 FALSE。

```
int RunModalLoop(DWORD dwFlags = 0);
```

### <a name="parameters"></a>参数

*dwFlags*<br/>
指定要发送的 Windows 消息。 可以是以下值之一：

- MLF_NOIDLEMSG 不发送[WM_ENTERIDLE](/windows/desktop/dlgbox/wm-enteridle)到父级的消息。

- MLF_NOKICKIDLE 不将 WM_KICKIDLE 消息发送到窗口。

- MLF_SHOWONIDLE 显示窗口时消息队列进入空闲状态。

### <a name="return-value"></a>返回值

指定的值*n 结果*参数传递给[EndModalLoop](#endmodalloop)成员函数，然后用于结束模式循环。

### <a name="remarks"></a>备注

默认情况下`ContinueModal`方法将返回 FALSE 后的`EndModalLoop`调用。 返回与提供的值*n 结果*到`EndModalLoop`。

##  <a name="screentoclient"></a>  CWnd::ScreenToClient

将显示中的给定点或矩形的屏幕坐标转换为客户端坐标。

```
void ScreenToClient(LPPOINT lpPoint) const;  void ScreenToClient(LPRECT lpRect) const;
```

### <a name="parameters"></a>参数

*lpPoint*<br/>
指向[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象或[POINT 结构](/windows/desktop/api/windef/ns-windef-tagpoint)，其中包含要转换的屏幕坐标。

*lpRect*<br/>
指向[CRect](../../atl-mfc-shared/reference/crect-class.md)对象或[RECT 结构](/windows/desktop/api/windef/ns-windef-tagrect)，其中包含要转换的屏幕坐标。

### <a name="remarks"></a>备注

`ScreenToClient`成员函数将替换中给出的屏幕坐标*lpPoint*或*lpRect*与客户端坐标。 新的坐标是相对于左上角的`CWnd`工作区。

### <a name="example"></a>示例

  有关示例，请参阅[CListCtrl::GetItemRect](../../mfc/reference/clistctrl-class.md#getitemrect)。

##  <a name="scrollwindow"></a>  CWnd::ScrollWindow

将当前的客户端区域的内容滚动`CWnd`对象。

```
void ScrollWindow(
    int xAmount,
    int yAmount,
    LPCRECT lpRect = NULL,
    LPCRECT lpClipRect = NULL);
```

### <a name="parameters"></a>参数

*xAmount*<br/>
指定量，以设备为单位，水平滚动。 此参数必须为负值可向左滚动。

*yAmount*<br/>
指定量，以设备为单位的垂直滚动。 此参数必须是负值将向上滚动。

*lpRect*<br/>
指向[CRect](../../atl-mfc-shared/reference/crect-class.md)对象或[RECT 结构](/windows/desktop/api/windef/ns-windef-tagrect)，它指定要滚动的客户端区域的一部分。 如果*lpRect*为 NULL，滚动整个客户端区域。 如果游标矩形相交，滚动矩形，将插入符号是重新定位。

*lpClipRect*<br/>
指向`CRect`对象或`RECT`结构，它指定要滚动的剪辑矩形。 滚动到只有此矩形内的位。 此矩形外的 bits 不会受到影响，即使它们位于*lpRect*矩形。 如果*lpClipRect*为 NULL，不存在修剪执行滚动矩形上。

### <a name="remarks"></a>备注

如果将插入符号位于`CWnd`滚动，`ScrollWindow`自动隐藏插入符号以防止它被清除和完成滚动，然后还原将插入符号。 相应地调整插入符号位置。

区域由发现`ScrollWindow`成员函数不重新绘制，但合并到当前`CWnd`对象的更新区域。 应用程序将最终接收[WM_PAINT](/windows/desktop/gdi/wm-paint)条消息，通知区域需要重新绘制。 若要在同一时间完成滚动重新绘制未覆盖的区域，请调用[UpdateWindow](#updatewindow)成员函数后立即调用`ScrollWindow`。

如果*lpRect*为 NULL，任何子窗口中的 windows 上均偏移所指定的量的位置*xAmount*并*yAmount*，和中的任何无效 （未上漆） 区域`CWnd`还偏移量。 `ScrollWindow` 当将更快*lpRect*为 NULL。

如果*lpRect*不为 NULL，子窗口的位置不是中的已更改，和无效区域`CWnd`不偏移量。 若要防止更新问题时*lpRect*是不为 NULL，请调用`UpdateWindow`成员函数以重新绘制`CWnd`之前调用`ScrollWindow`。

##  <a name="scrollwindowex"></a>  CWnd::ScrollWindowEx

滚动窗口的客户端区域中的内容。

```
int ScrollWindowEx(
    int dx,
    int dy,
    LPCRECT lpRectScroll,
    LPCRECT lpRectClip,
    CRgn* prgnUpdate,
    LPRECT lpRectUpdate,
    UINT flags);
```

### <a name="parameters"></a>参数

*dx*<br/>
指定量，以设备为单位，水平滚动。 此参数必须具有负值可向左滚动。

*dy*<br/>
指定量，以设备为单位的垂直滚动。 此参数必须具有负值将向上滚动。

*lpRectScroll*<br/>
指向[RECT 结构](/windows/desktop/api/windef/ns-windef-tagrect)，它指定要滚动的客户端区域的一部分。 如果此参数为 NULL，滚动整个客户端区域。

*lpRectClip*<br/>
指向`RECT`结构，它指定要滚动的剪辑矩形。 此结构将优先于由指向该矩形*lpRectScroll*。 滚动到只有此矩形内的位。 此矩形外的 bits 不会受到影响，即使它们位于*lpRectScroll*矩形。 如果此参数为 NULL，不存在修剪对滚动矩形。

*prgnUpdate*<br/>
标识被修改，以容纳通过滚动失效的区域的区域。 此参数可以为 NULL。

*lpRectUpdate*<br/>
指向`RECT`结构，它将接收通过滚动失效的矩形边界。 此参数可以为 NULL。

*flags*<br/>
可以具有以下值之一：

- SW_ERASE 时使用 SW_INVALIDATE，指定将通过发送擦除新无效的区域[WM_ERASEBKGND](/windows/desktop/winmsg/wm-erasebkgnd)到窗口的消息。

- SW_INVALIDATE 使标识区域*prgnUpdate*后滚动。

- 指向相交的矩形的所有子窗口的 SW_SCROLLCHILDREN 滚动*lpRectScroll*中指定的像素数*dx*并*dy*。 Windows 将发送[WM_MOVE](/windows/desktop/winmsg/wm-move)相交的所有子窗口的消息*lpRectScroll*，即使它们不会移动。 子窗口滚动和游标矩形相交滚动矩形时，将插入符号是重新定位。

### <a name="return-value"></a>返回值

返回值是 SIMPLEREGION （矩形无效区域）、 COMPLEXREGION （非矩形无效的区域; 重叠的矩形），还是 NULLREGION （没有无效区域），如果函数运行成功;否则，返回值是错误。

### <a name="remarks"></a>备注

此函数是类似于[ScrollWindow](/windows/desktop/api/winuser/nf-winuser-scrollwindow)函数，使用的一些其他功能。

如果[SW_INVALIDATE](/windows/desktop/api/winuser/nf-winuser-scrollwindowex)并[SW_ERASE](/windows/desktop/api/winuser/nf-winuser-scrollwindowex)未指定，`ScrollWindowEx`成员函数不会导致失效离开滚动的区域。 如果设置了这些标志之一，则`ScrollWindowEx`使此区域无效。 区域不更新后，应用程序调用直至[UpdateWindow](/windows/desktop/api/winuser/nf-winuser-updatewindow)成员函数，将调用[RedrawWindow](/windows/desktop/api/winuser/nf-winuser-redrawwindow)成员函数 (指定[RDW_UPDATENOW](/windows/desktop/api/winuser/nf-winuser-redrawwindow)或[RDW_ERASENOW](/windows/desktop/api/winuser/nf-winuser-redrawwindow))，或检索[WM_PAINT](/windows/desktop/gdi/wm-paint)从应用程序队列的消息。

如果窗口具有[WS_CLIPCHILDREN](/windows/desktop/api/winuser/nf-winuser-createwindowa)样式，返回由指定的区域*prgnUpdate*并*lpRectUpdate*表示必须滚动窗口的总区域更新，包括需要更新的子窗口中的任何区域。

如果[SW_SCROLLCHILDREN](/windows/desktop/api/winuser/nf-winuser-scrollwindowex)指定标志时，Windows 不会正确更新屏幕如果滚动的子窗口的一部分。 位于源矩形外滚动的子窗口的一部分不会被删除，并将不会重绘正确地在其新的目标位置中。 使用[DeferWindowPos](/windows/desktop/api/winuser/nf-winuser-deferwindowpos) Windows 函数来执行不包含同时位于完全内移动子窗口*lpRectScroll*矩形。 如果设置了 SW_SCROLLCHILDREN 标志和插入符号矩形相交滚动矩形，重新定位光标。

所有输入和输出坐标 (对于*lpRectScroll*， *lpRectClip*， *lpRectUpdate*，并*prgnUpdate*) 被假定为中客户端坐标，而不考虑窗口是否具有 CS_OWNDC 或 CS_CLASSDC 类样式。 使用[LPtoDP](/windows/desktop/api/wingdi/nf-wingdi-lptodp)并[DPtoLP](/windows/desktop/api/wingdi/nf-wingdi-dptolp) Windows 函数要转换到和从逻辑坐标表示，如有必要。

##  <a name="sendchildnotifylastmsg"></a>  CWnd::SendChildNotifyLastMsg

由框架提供了一条通知消息到子窗口，从父窗口中，因此子窗口可以处理任务调用此成员函数。

```
BOOL SendChildNotifyLastMsg(LRESULT* pResult = NULL);
```

### <a name="parameters"></a>参数

*pResult*<br/>
所生成的子窗口的父窗口返回的结果。

### <a name="return-value"></a>返回值

如果子窗口已处理的消息发送给其父级; 非零值否则为 0。

### <a name="remarks"></a>备注

`SendChildNotifyLastMsg` 如果它是一条消息，反映当前的消息发送到源。

有关消息反射的详细信息，请参阅[处理反射消息](../../mfc/handling-reflected-messages.md)。

##  <a name="senddlgitemmessage"></a>  CWnd::SendDlgItemMessage

向控件发送一条消息。

```
LRESULT SendDlgItemMessage(
    int nID,
    UINT message,
    WPARAM wParam = 0,
    LPARAM lParam = 0);
```

### <a name="parameters"></a>参数

*nID*<br/>
指定将接收该消息的对话框控件的标识符。

*message*<br/>
指定要发送的消息。

*wParam*<br/>
指定消息相关的其他信息。

*lParam*<br/>
指定消息相关的其他信息。

### <a name="return-value"></a>返回值

指定返回的控件的窗口过程，则为 0，如果找不到该控件的值。

### <a name="remarks"></a>备注

`SendDlgItemMessage`成员函数不返回之前处理消息。

使用`SendDlgItemMessage`等同于获取`CWnd`* 为给定的控件并调用[SendMessage](#sendmessage)成员函数。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#113](../../mfc/reference/codesnippet/cpp/cwnd-class_54.cpp)]

##  <a name="sendmessage"></a>  CWnd::SendMessage

将指定的消息发送到此窗口。

```
LRESULT SendMessage(
    UINT message,
    WPARAM wParam = 0,
    LPARAM lParam = 0);
```

### <a name="parameters"></a>参数

*message*<br/>
指定要发送的消息。

*wParam*<br/>
指定消息相关的其他信息。

*lParam*<br/>
指定消息相关的其他信息。

### <a name="return-value"></a>返回值

消息处理; 的结果其值取决于发送的消息。

### <a name="remarks"></a>备注

`SendMessage`成员函数直接调用的窗口过程并不会返回直到该窗口过程处理消息。 这是与此相反[PostMessage](#postmessage)成员函数，它将邮件放在窗口的消息队列并立即返回。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#101](../../mfc/reference/codesnippet/cpp/cwnd-class_41.cpp)]

##  <a name="sendmessagetodescendants"></a>  CWnd::SendMessageToDescendants

调用此成员函数将指定的 Windows 消息发送到所有子代窗口。

```
void SendMessageToDescendants(
    UINT message,
    WPARAM wParam = 0,
    LPARAM lParam = 0,
    BOOL bDeep = TRUE,
    BOOL bOnlyPerm = FALSE);
```

### <a name="parameters"></a>参数

*message*<br/>
指定要发送的消息。

*wParam*<br/>
指定消息相关的其他信息。

*lParam*<br/>
指定消息相关的其他信息。

*bDeep*<br/>
指定要搜索的级别。 如果为 TRUE，以递归方式搜索所有子级;如果为 FALSE，则搜索仅直接子级。

*bOnlyPerm*<br/>
指定临时 windows 是否将接收此消息。 如果为 TRUE，临时 windows 可以接收消息;如果为 FALSE，仅永久 windows 收到的消息。 临时 windows 上的详细信息请参阅[技术说明 3](../../mfc/tn003-mapping-of-windows-handles-to-objects.md)。

### <a name="remarks"></a>备注

如果*bDeep*为 FALSE 时，只需为在窗口的直接子级发送消息; 否则该消息发送到所有子代窗口。

如果*bDeep*并*bOnlyPerm*均为 TRUE，以下临时 windows 继续搜索。 在这种情况下，仅在搜索过程中遇到永久 windows 收到的消息。 如果*bDeep*为 FALSE 时，消息仅发送给窗口的直接子级。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#114](../../mfc/reference/codesnippet/cpp/cwnd-class_55.cpp)]

##  <a name="sendnotifymessage"></a>  CWnd::SendNotifyMessage

将指定的消息发送到窗口。

```
BOOL SendNotifyMessage(
    UINT message,
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>参数

*message*<br/>
指定要发送的消息。

*wParam*<br/>
指定消息相关的其他信息。

*lParam*<br/>
指定消息相关的其他信息。

### <a name="return-value"></a>返回值

如果该函数成功，则为非 0；否则为 0。

### <a name="remarks"></a>备注

如果窗口由调用线程，创建`SendNotifyMessage`窗口调用的窗口过程并不会返回之前的窗口过程处理完该消息。 如果该窗口由不同的线程，创建`SendNotifyMessage`消息传递到窗口过程，并返回立即; 它不会等待完成消息处理的窗口过程。

##  <a name="setactivewindow"></a>  CWnd::SetActiveWindow

使`CWnd`活动窗口。

```
CWnd* SetActiveWindow();
```

### <a name="return-value"></a>返回值

之前处于活动状态的窗口。

返回的指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

`SetActiveWindow`应谨慎使用成员函数，因为它允许应用程序任意接管活动窗口，并输入的焦点。 通常情况下，Windows 将负责所有激活。

##  <a name="setcapture"></a>  CWnd::SetCapture

导致所有后续鼠标输入发送到当前`CWnd`对象而不考虑光标的位置。

```
CWnd* SetCapture();
```

### <a name="return-value"></a>返回值

指向以前接收到所有鼠标输入的窗口对象的指针。 如果没有此类窗口，则为 NULL。 返回的指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

当`CWnd`不再需要所有鼠标输入，该应用程序应调用[ReleaseCapture](/windows/desktop/api/winuser/nf-winuser-releasecapture)函数，以便其他窗口可以接收鼠标输入。

捕获鼠标输入，而没有 WM_NCHITTEST 或 WM_SETCURSOR 消息发送到活动窗口。

##  <a name="setcaretpos"></a>  CWnd::SetCaretPos

设置将插入符号的位置。

```
static void PASCAL SetCaretPos(POINT point);
```

### <a name="parameters"></a>参数

*point*<br/>
指定新的 x 和 y 坐标 （在工作区坐标中） 的脱字号。

### <a name="remarks"></a>备注

`SetCaretPos`成员函数将脱字号移动，仅当归当前任务中的窗口。 `SetCaretPos` 指示隐藏插入符号移动插入符号。

将插入符号是共享的资源。 如果没有将插入符号，一个窗口，不应将插入符号。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#115](../../mfc/reference/codesnippet/cpp/cwnd-class_56.cpp)]

##  <a name="setclipboardviewer"></a>  CWnd::SetClipboardViewer

将此窗口添加到 windows 剪贴板的内容更改时通知 （通过 WM_DRAWCLIPBOARD 消息） 的链。

```
HWND SetClipboardViewer();
```

### <a name="return-value"></a>返回值

如果成功，则剪贴板查看器链中下一步的窗口的句柄。 应用程序应该保存此句柄 （作为成员变量可以存储） 和响应剪贴板查看器链消息时使用它。

### <a name="remarks"></a>备注

一个窗口，其中是剪贴板查看器链的一部分必须应对[WM_DRAWCLIPBOARD](#ondrawclipboard)， [WM_CHANGECBCHAIN](#onchangecbchain)，并[WM_DESTROY](#ondestroy)消息并将消息传递到下一步链中的窗口。

此成员函数将 WM_DRAWCLIPBOARD 消息发送到窗口。 由于尚未返回的句柄剪贴板查看器链中下一个窗口，应用程序不应将传递到在调用期间收到的 WM_DRAWCLIPBOARD 消息上`SetClipboardViewer`。

若要从剪贴板查看器链中删除本身，应用程序必须调用[ChangeClipboardChain](#changeclipboardchain)成员函数。

##  <a name="setdlgctrlid"></a>  CWnd::SetDlgCtrlID

将窗口 ID 或窗口的控件 ID 设置为新值。

```
int SetDlgCtrlID(int nID);
```

### <a name="parameters"></a>参数

*nID*<br/>
要设置控件的标识符的新值。

### <a name="return-value"></a>返回值

窗口中，如果成功，则以前的标识符否则为 0。

### <a name="remarks"></a>备注

该窗口可以是任何子窗口，不仅在对话框中的控件。 在窗口不能为顶级窗口。

##  <a name="setdlgitemint"></a>  CWnd::SetDlgItemInt

在对话框中指定的整数值的字符串表示形式中设置给定控件的文本。

```
void SetDlgItemInt(
    int nID,
    UINT nValue,
    BOOL bSigned = TRUE);
```

### <a name="parameters"></a>参数

*nID*<br/>
指定要更改的控件的整数 ID。

*nValue*<br/>
指定用于生成的项文本的整数值。

*bSigned*<br/>
指定是否已签名或无符号整数值。 如果此参数为 TRUE， *n 值*进行签名。 如果此参数为 TRUE 并*n 值*小于 0，放置在登录之前在字符串中的第一个数字相减。 如果此参数为 FALSE 时， *n 值*是无符号。

### <a name="remarks"></a>备注

`SetDlgItemInt` 将发送[WM_SETTEXT](/windows/desktop/winmsg/wm-settext)到给定的控件的消息。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::SetDlgItemText](#setdlgitemtext)。

##  <a name="setdlgitemtext"></a>  CWnd::SetDlgItemText

设置的标题或拥有的窗口或对话框中控件的文本。

```
void SetDlgItemText(
    int nID,
    LPCTSTR lpszString);
```

### <a name="parameters"></a>参数

*nID*<br/>
标识要设置其文本的控件。

*lpszString*<br/>
指向[CString](../../atl-mfc-shared/reference/cstringt-class.md)对象或以 null 结尾的字符串，包含要复制到该控件的文本。

### <a name="remarks"></a>备注

`SetDlgItemText` 将发送[WM_SETTEXT](/windows/desktop/winmsg/wm-settext)到给定的控件的消息。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#116](../../mfc/reference/codesnippet/cpp/cwnd-class_57.cpp)]

##  <a name="setforegroundwindow"></a>  CWnd::SetForegroundWindow

将创建窗口的线程置于前台，并激活窗口。

```
BOOL SetForegroundWindow();
```

### <a name="return-value"></a>返回值

如果该函数成功，则为非 0；否则为 0。

### <a name="remarks"></a>备注

键盘输入定向到窗口，和各种视觉提示更改用户。 前景窗口是用户当前使用的窗口。 前景窗口仅适用于顶级窗口 （框架的窗口或对话框框）。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::FindWindow](#findwindow)。

##  <a name="setfocus"></a>  CWnd::SetFocus

声明输入焦点。

```
CWnd* SetFocus();
```

### <a name="return-value"></a>返回值

指向以前具有输入的焦点的窗口对象的指针。 如果没有此类窗口，则为 NULL。 返回的指针可能是暂时的不应存储。

### <a name="remarks"></a>备注

输入的焦点将定向到此窗口的所有后续的键盘输入。 任何以前具有输入的焦点的窗口失去它。

`SetFocus`成员函数将发送[WM_KILLFOCUS](/windows/desktop/inputdev/wm-killfocus)失去输入的焦点的窗口消息和一个[WM_SETFOCUS](/windows/desktop/inputdev/wm-setfocus)对接收到输入的焦点的窗口消息。 它还会激活窗口或其父级。

如果当前窗口处于活动状态，但不具有焦点 （即，没有窗口具有焦点时），按下任何键将生成消息[WM_SYSCHAR](#onsyschar)， [WM_SYSKEYDOWN](#onsyskeydown)，或[WM_SYSKEYUP](#onsyskeyup).

##  <a name="setfont"></a>  CWnd::SetFont

将 WM_SETFONT 消息发送到窗口以使用指定的字体。

```
void SetFont(
    CFont* pFont,
    BOOL bRedraw = TRUE);
```

### <a name="parameters"></a>参数

*pFont*<br/>
指向 `CFont` 对象的指针。

*bRedraw*<br/>
窗口来处理该 WM_SETFONT 消息; 后立即重绘，则返回 TRUE否则为 FALSE。

### <a name="remarks"></a>备注

除非在窗口处理 WM_SETFONT 消息，则此方法无效。 很多 MFC 类派生自`CWnd`处理此消息，因为它们会附加到的预定义的窗口类，包括 WM_SETFONT 消息的消息处理程序。 若要使用此方法从派生类`CWnd`必须定义 WM_SETFONT 消息的方法处理程序。

##  <a name="seticon"></a>  CWnd::SetIcon

调用此成员函数以设置为一个特定的图标的句柄由鉴定*hIcon*。

```
HICON SetIcon(
    HICON hIcon,
    BOOL bBigIcon);
```

### <a name="parameters"></a>参数

*hIcon*<br/>
句柄上一个图标。

*bBigIcon*<br/>
指定 32 像素由 32 像素的图标如果为 TRUE;如果为 FALSE 的 16 像素图标指定 16 像素。

### <a name="return-value"></a>返回值

图标的图柄。

### <a name="remarks"></a>备注

注册窗口类时，它将选择一个图标。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::GetSystemMenu](#getsystemmenu)。

##  <a name="setlayeredwindowattributes"></a>  CWnd::SetLayeredWindowAttributes

设置分层窗口的不透明度和透明度颜色键。

```
BOOL SetLayeredWindowAttributes(
    COLORREF crKey,
    BYTE bAlpha,
    DWORD dwFlags);
```

### <a name="parameters"></a>参数

*crKey*<br/>
指向一个 COLORREF 值，指定用于撰写分层的窗口的透明度颜色键。 通过用这种颜色窗口绘制的所有像素将都是透明的。 若要生成 COLORREF，使用 RGB 宏。

*bAlpha*<br/>
用于描述分层窗口的暗度的 alpha 值。 有关详细信息，请参阅`SourceConstantAlpha`的成员[BLENDFUNCTION](/windows/desktop/api/wingdi/ns-wingdi-_blendfunction)结构。 当*bAlpha*为 0，则窗口是完全透明。 当*bAlpha*为 255，窗口是不透明。

*dwFlags*<br/>
指定要采取的操作。 此参数可以是一个或多个以下值。 有关可能的值的列表，请参阅[SetLayeredWindowAttributes](/windows/desktop/api/winuser/nf-winuser-setlayeredwindowattributes)。

### <a name="return-value"></a>返回值

如果函数成功，则为非零值；否则为

### <a name="remarks"></a>备注

此成员函数模拟函数的功能[SetLayeredWindowAttributes](/windows/desktop/api/winuser/nf-winuser-setlayeredwindowattributes)，如 Windows SDK 中所述。

##  <a name="setmenu"></a>  CWnd::SetMenu

将当前菜单设置为指定的菜单。

```
BOOL SetMenu(CMenu* pMenu);
```

### <a name="parameters"></a>参数

*pMenu*<br/>
标识新菜单。 如果此参数为 NULL，删除当前菜单。

### <a name="return-value"></a>返回值

如果更改菜单; 非零值否则为 0。

### <a name="remarks"></a>备注

将导致重绘以反映此菜单更改窗口。

`SetMenu` 将不会销毁上一个菜单。 应用程序应调用[CMenu::DestroyMenu](../../mfc/reference/cmenu-class.md#destroymenu)成员函数来完成此任务。

### <a name="example"></a>示例

  有关示例，请参阅[CMenu::LoadMenu](../../mfc/reference/cmenu-class.md#loadmenu)。

##  <a name="setowner"></a>  CWnd::SetOwner

将当前窗口的所有者设置为指定的窗口对象。

```
void SetOwner(CWnd* pOwnerWnd);
```

### <a name="parameters"></a>参数

*pOwnerWnd*<br/>
标识的新所有者的窗口对象。 如果此参数为 NULL，则窗口对象有没有所有者。

### <a name="remarks"></a>备注

此所有者可以随后接收来自当前窗口对象的命令消息。 默认情况下，当前窗口的父级是其所有者。

通常它可用于与窗口层次结构无关的窗口对象之间建立连接。 例如， [CToolBar](../../mfc/reference/ctoolbar-class.md)将通知发送到与父对象而不是其所有者。 这样，工具栏将通知发送到另一个窗口 （如的就地框架窗口中） 时成为一个窗口 （如 OLE 容器应用程序窗口） 的子级。 此外，当服务器窗口被停用或过程的就地激活时编辑，由框架窗口拥有任何窗口隐藏或显示。 通过调用显式设置此所有权`SetOwner`。

此函数的所有权概念是不同于所有权这一概念[GetWindow](/windows/desktop/api/winuser/nf-winuser-getwindow)。

##  <a name="setparent"></a>  CWnd::SetParent

更改子窗口的父窗口。

```
CWnd* SetParent(CWnd* pWndNewParent);
```

### <a name="parameters"></a>参数

*pWndNewParent*<br/>
标识新的父窗口。

### <a name="return-value"></a>返回值

上一个父窗口对象如果成功，则指向的指针。 返回的指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

如果可见子窗口时，Windows 将执行的适当重绘和重新绘制。

##  <a name="setproperty"></a>  CWnd::SetProperty

调用此成员函数可设置指定的 OLE 控件属性*dwDispID*。

```
void AFX_CDECL SetProperty(
    DISPID dwDispID,
    VARTYPE vtProp, ...);
```

### <a name="parameters"></a>参数

*dwDispID*<br/>
标识要设置的属性。

*vtProp*<br/>
指定要设置的属性的类型。 有关可能的值，请参阅备注部分 [COleDispatchDriver::InvokeHelper](../../mfc/reference/coledispatchdriver-class.md#invokehelper)。

*...*<br/>
指定的类型的单个参数*vtProp*。

### <a name="remarks"></a>备注

> [!NOTE]
> 应仅在调用此函数`CWnd`表示 OLE 控件的对象。

有关此成员函数中使用的 OLE 控件容器的详细信息，请参阅文章[ActiveX 控件容器：ActiveX 控件容器中的 ActiveX 控件编程](../../mfc/programming-activex-controls-in-a-activex-control-container.md)。

##  <a name="setredraw"></a>  CWnd::SetRedraw

应用程序调用`SetRedraw`以允许重绘，或以防止更改重绘的更改。

```
void SetRedraw(BOOL bRedraw = TRUE);
```

### <a name="parameters"></a>参数

*bRedraw*<br/>
指定重绘标志的状态。 如果此参数为 TRUE，设置了标志; 将重绘如果为 FALSE，，清除该标记。

### <a name="remarks"></a>备注

此成员函数设置或清除重绘标志。 虽然清除重绘标志，则内容将不会更新每项更改后，将不重新绘制直到重绘标志设置。 例如，需要将多个项添加到列表框中的应用程序可以清除重绘标志、 添加项，并将重绘标志。 最后，应用程序可以调用[Invalidate](#invalidate)或[InvalidateRect](#invalidaterect)成员函数，以使列表框进行重新绘制。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#117](../../mfc/reference/codesnippet/cpp/cwnd-class_58.cpp)]

##  <a name="setscrollinfo"></a>  CWnd::SetScrollInfo

调用此成员函数可对设置的信息，`SCROLLINFO`结构维护的有关滚动条。

```
BOOL SetScrollInfo(
    int nBar,
    LPSCROLLINFO lpScrollInfo,
    BOOL bRedraw = TRUE);
```

### <a name="parameters"></a>参数

*nBar*<br/>
指定滚动条控件或窗口的非工作区的一部分。 如果它属于非工作区，nBar 还指示滚动条是否放置水平、 垂直，或两者。 它必须是以下值之一：

- SB_CTL 包含滚动条控件的参数。 `m_hWnd`数据成员必须为滚动条控件的句柄。

- SB_HORZ 指定窗口的水平滚动条。

- SB_VERT 指定窗口的垂直滚动条。

*lpScrollInfo*<br/>
一个指向[SCROLLINFO](/windows/desktop/api/winuser/ns-winuser-tagscrollinfo)结构。 请参阅 Windows SDK，了解有关此结构的详细信息。

*bRedraw*<br/>
指定是否重绘滚动条，以反映新的位置。 如果*bRedraw*为 TRUE 时，重绘滚动条。 如果为 FALSE，则它不重绘。 默认情况下，重绘滚动条。

### <a name="return-value"></a>返回值

如果成功，则返回为 TRUE。 否则，它为 FALSE。

### <a name="remarks"></a>备注

[SCROLLINFO](/windows/desktop/api/winuser/ns-winuser-tagscrollinfo)结构包含滚动条，其中包括的最小值和最大滚动位置、 页面大小和滚动框 （滚动块） 的位置有关的信息。 请参阅`SCROLLINFO`结构适用于有关更改结构的默认值的详细信息的 Windows SDK 中的主题。

MFC Windows 消息处理程序指示滚动条位置[CWnd::OnHScroll](#onhscroll)并[CWnd::OnVScroll](#onvscroll)，提供仅 16 位的位置数据。 [GetScrollInfo](#getscrollinfo)和`SetScrollInfo`提供 32 位的滚动条位置数据。 因此，应用程序可以调用`GetScrollInfo`时处理`CWnd::OnHScroll`或`CWnd::OnVScroll`获取 32 位滚动条位置数据。

> [!NOTE]
> [CWnd::GetScrollInfo](#getscrollinfo)使应用程序可以使用 32 位滚动条位置。

##  <a name="setscrollpos"></a>  CWnd::SetScrollPos

设置滚动框的当前位置，而且，如果请求，也将重绘滚动条以反映滚动框的新位置。

```
int SetScrollPos(
    int nBar,
    int nPos,
    BOOL bRedraw = TRUE);
```

### <a name="parameters"></a>参数

*nBar*<br/>
指定要设置的滚动条。 此参数可以是以下之一：

- SB_HORZ 设置窗口的水平滚动条中滚动框的位置。

- SB_VERT 设置窗口的垂直滚动条中滚动框的位置。

*nPos*<br/>
指定滚动框的新位置。 它必须在滚动的范围内。

*bRedraw*<br/>
指定是否重新绘制的滚动条，以反映新的滚动框位置。 如果此参数为 TRUE，将重新绘制的滚动条;如果为 FALSE，将不会重新绘制的滚动条。

### <a name="return-value"></a>返回值

滚动框的上一位置。

### <a name="remarks"></a>备注

设置*bRedraw*为 FALSE 时非常有用的滚动条将重新绘制到另一个函数的后续调用。

##  <a name="setscrollrange"></a>  CWnd::SetScrollRange

设置给定滚动条的最小和最大位置值。

```
void SetScrollRange(
    int nBar,
    int nMinPos,
    int nMaxPos,
    BOOL bRedraw = TRUE);
```

### <a name="parameters"></a>参数

*nBar*<br/>
指定要设置的滚动条。 此参数可以是以下值：

- SB_HORZ 设置窗口的水平滚动条的范围。

- SB_VERT 设置窗口的垂直滚动条的范围。

*nMinPos*<br/>
指定最小的滚动位置。

*nMaxPos*<br/>
指定滚动位置的最大值。

*bRedraw*<br/>
指定是否重绘滚动条，以反映更改。 如果*bRedraw*为 TRUE 时，重绘滚动条; 如果为 FALSE，不重绘滚动条。

### <a name="remarks"></a>备注

它还可以使用隐藏或显示标准滚动条。

应用程序不应调用此函数可处理滚动条通知消息时隐藏滚动条。

如果在调用`SetScrollRange`紧随调用[SetScrollPos](#setscrollpos)成员函数*bRedraw*中的参数`SetScrollPos`成员函数应为 0，以避免从滚动条所绘制两次。

标准滚动条的默认范围是 0 到 100 之间。 滚动条控件的默认范围为空 (同时*nMinPos*并*nMaxPos*值均为 0)。 指定的值之间的差异*nMinPos*并*nMaxPos*不能大于 INT_MAX。

##  <a name="settimer"></a>  CWnd::SetTimer

安装系统计时器。

```
UINT_PTR SetTimer(
    UINT_PTR nIDEvent,
    UINT nElapse,
    void (CALLBACK* lpfnTimer)(HWND,
    UINT,
    UINT_PTR,
    DWORD));
```

### <a name="parameters"></a>参数

*nIDEvent*<br/>
指定非零计时器标识符。 如果计时器标识符是唯一的则在此相同的值返回`SetTimer`。 否则为`SetTimer`确定新的唯一值，并返回该对象。 针对窗口计时器 （它具有 NULL 回调功能），值必须是唯一仅适用于其他窗口计时器是与当前窗口相关联。 针对回调计时器，值必须是唯一的所有进程中的所有计时器。 因此，在创建回调计时器时，很有可能返回的值可能不同于您指定的值。

*nElapse*<br/>
指定的超时值或间隔时间，以毫秒为单位。

*lpfnTimer*<br/>
指定的应用程序提供的地址`TimerProc`处理的回调函数[WM_TIMER](/windows/desktop/winmsg/wm-timer)消息。 如果此参数为 NULL，WM_TIMER 消息放在应用程序的消息队列中并由处理`CWnd`对象。

### <a name="return-value"></a>返回值

如果函数运行成功，新的计时器的计时器标识符。 此值可能或可能不是通过传递中的值相等*nIDEvent*参数。 应用程序应始终将传递到的返回值[KillTimer](#killtimer)成员函数以计时器。 如果成功，则非零值否则为为 0。

### <a name="remarks"></a>备注

指定了间隔值，并且每次间隔过后，系统发布到安装的应用程序的安装消息队列 WM_TIMER 消息或消息传递到应用程序定义`TimerProc`回调函数。

*LpfnTimer*回调函数不需要命名为`TimerProc`，但它必须声明为静态的定义，如下所示。

```
void CALLBACK TimerProc(
    HWND hWnd,   // handle of CWnd that called SetTimer
    UINT nMsg,   // WM_TIMER
    UINT_PTR nIDEvent,   // timer identification
    DWORD dwTime    // system time);
```

### <a name="example"></a>示例

此示例使用`CWnd::SetTimer`， `CWnd::OnTimer`，和`CWnd::KillTimer`处理 WM_TIMER 消息。 第一个计时器设置为将 WM_TIMER 消息发送到主框架窗口中每隔 2 秒`OnStartTimer`。 `OnTimer`事件处理程序处理主框架窗口的 WM_TIMER 消息。 此方法可导致 PC 扬声器每 2 秒发出提示音。 第二个计时器回调函数每 3.75 秒将发送一条消息。 `OnStopTimer` 将通过调用停止这两个计时器`CWnd::KillTimer`为每个计时器 id。

[!code-cpp[NVC_MFCWindowing#118](../../mfc/reference/codesnippet/cpp/cwnd-class_59.cpp)]

##  <a name="setwindowcontexthelpid"></a>  CWnd::SetWindowContextHelpId

调用此成员函数以将与指定的窗口关联的帮助上下文标识符。

```
BOOL SetWindowContextHelpId(DWORD dwContextHelpId);
```

### <a name="parameters"></a>参数

*dwContextHelpId*<br/>
帮助上下文标识符。

### <a name="return-value"></a>返回值

如果该函数成功，则为非 0；否则为 0。

### <a name="remarks"></a>备注

如果子窗口不具有帮助上下文标识符，它将继承其父窗口的标识符。 同样，如果拥有的窗口不具有帮助上下文标识符，它将继承其所有者窗口的标识符。 此继承的帮助上下文标识符允许应用程序设置的对话框的只是一个标识符和它的所有控件。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#119](../../mfc/reference/codesnippet/cpp/cwnd-class_60.cpp)]

##  <a name="setwindowplacement"></a>  CWnd::SetWindowPlacement

设置窗口的显示状态以及正常（已还原）、最小化和最大化位置。

```
BOOL SetWindowPlacement(const WINDOWPLACEMENT* lpwndpl);
```

### <a name="parameters"></a>参数

*lpwndpl*<br/>
指向[WINDOWPLACEMENT](/windows/desktop/api/winuser/ns-winuser-tagwindowplacement)结构，它指定新的显示状态和位置。

### <a name="return-value"></a>返回值

如果该函数成功，则为非 0；否则为 0。

##  <a name="setwindowpos"></a>  CWnd::SetWindowPos

更改大小、 位置和子，弹出窗口和顶级窗口的 Z 顺序。

```
BOOL SetWindowPos(
    const CWnd* pWndInsertAfter,
    int x,
    int y,
    int cx,
    int cy,
    UINT nFlags);
```

### <a name="parameters"></a>参数

*pWndInsertAfter*<br/>
标识`CWnd`对象，它将前加上 （在高于） 这`CWnd`Z 顺序中的对象。 此参数可以是一个指向`CWnd`或指向以下值之一：

- `wndBottom` 将该窗口在 Z 顺序的底部。 如果此`CWnd`是最顶层窗口，窗口失去其最上面的状态; 在所有其他窗口的底部，系统将该窗口。

- `wndTop` 将该窗口在 Z 顺序的顶部。

- `wndTopMost` 将该窗口最重要的是非最顶层窗口。 窗口保持其最顶端的位置，即使它已停用。

- `wndNoTopMost` 重新定位到的所有非最顶端窗口顶部的窗口 (即，所有的最顶层窗口后面)。 如果窗口已为非最顶层窗口，则此标志无效。

有关如何使用此参数的规则，请参阅本主题的"备注"部分。

*x*<br/>
指定窗口的左侧和右侧的新位置。

*y*<br/>
指定窗口的顶部的新位置。

*cx*<br/>
指定新窗口的宽度。

*cy*<br/>
指定新窗口的高度。

*nFlags*<br/>
指定大小和位置选项。 此参数可以是下列标志的组合：

- SWP_DRAWFRAME 窗口周围绘制 （在窗口创建时定义） 的框架。

- SWP_FRAMECHANGED 发送 WM_NCCALCSIZE 消息到窗口中，即使不会更改窗口的大小。 如果未指定此标志，该窗口的大小正在更改时才发送 WM_NCCALCSIZE。

- SWP_HIDEWINDOW 隐藏窗口。

- SWP_NOACTIVATE 不会激活窗口。 如果未设置此标志，为窗口激活，并移动到顶部的最顶层或非最顶层的组 (具体取决于设置*pWndInsertAfter*参数)。

- SWP_NOCOPYBITS 放弃的工作区的全部内容。 如果未指定此标志，客户端区域中的有效内容保存并复制到工作区后的窗口大小或重新定位。

- SWP_NOMOVE 保留当前的位置 (将忽略*x*并*y*参数)。

- SWP_NOOWNERZORDER 不会更改在 Z 顺序中的所有者窗口的位置。

- SWP_NOREDRAW 不重绘更改。 如果设置此标志，没有任何类型的重新绘制时发生。 这适用于工作区、 非工作区 （包括标题和滚动条） 和父窗口作为移动窗口结果发现的任何部分。 设置此标志后，应用程序必须显式使失效或重绘必须重绘的父窗口的窗口的任何部分。

- SWP_NOREPOSITION SWP_NOOWNERZORDER 与相同。

- SWP_NOSENDCHANGING 会阻止接收 WM_WINDOWPOSCHANGING 消息窗口。

- SWP_NOSIZE 保留当前大小 (将忽略*cx*并*cy*参数)。

- SWP_NOZORDER 保留当前的订购 (将忽略*pWndInsertAfter*)。

- SWP_SHOWWINDOW 显示窗口。

### <a name="return-value"></a>返回值

如果函数成功，则非零值否则为为 0。

### <a name="remarks"></a>备注

Windows 根据其 Z-顺序; 在屏幕上进行排序在窗口顶部的 Z 顺序出现在顺序中的所有其他窗口之上。

子窗口的所有坐标都都工作区坐标 （相对于父窗口的工作区的左上角）。

可以将窗口移动到顶部的 Z 顺序设置*pWndInsertAfter*参数 **& wndTopMost**和确保 SWP_NOZORDER 标志未设置或设置窗口的 Z 顺序，它是任何现有的最顶层窗口之上。 最顶层建立非最顶端窗口后，其拥有的 windows 还会最顶层。 不更改其所有者。

最顶端窗口不再是如果器重定位到底部，最顶层元素 ( **& wndBottom**) 的 Z 顺序或任何非最顶端窗口后。 非最顶层建立最顶层窗口后，所有其所有者和其所拥有的 windows 还会非最顶层窗口。

如果 SWP_NOACTIVATE 和 SWP_NOZORDER 均未指定 （即，当应用程序请求一个窗口是同时激活，置于指定 Z 顺序），在指定的值*pWndInsertAfter*仅在使用在以下情况：

- 既不 **& wndTopMost**也不 **& wndNoTopMost**中指定*pWndInsertAfter*参数。

- 此窗口不是活动窗口。

应用程序不能激活非活动窗口，而无需它引入了 Z 顺序的顶部。 应用程序可以更改的不受限制地激活的窗口的 Z 顺序。

非最顶端窗口可能拥有的最顶层窗口中，但反之则不然。 本身所做的最顶层窗口，以确保所有拥有 windows 保持高于其所有者是拥有最顶层窗口的任何窗口 （例如，对话框）。

Windows 版本 3.1 和更高版本中，可以移动到顶部的 Z 顺序并通过设置其 WS_EX_TOPMOST 样式那里锁定 windows。 此类的最顶层窗口维护其最上面的位置，即使已停用。 例如，选择 WinHelp 总在最前面命令使最顶层，帮助窗口中，且然后返回到你的应用程序时保持可见。

若要创建的最顶层窗口，请调用`SetWindowPos`与*pWndInsertAfter*参数等于 **& wndTopMost**，或在创建窗口时设置 WS_EX_TOPMOST 样式。

使用 Z 顺序包含任何 windows 使用 WS_EX_TOPMOST 样式，如果移动窗口 **& wndTopMost**值放在顶部的所有非最顶层窗口，但仍低于任何最顶层窗口。 当应用程序激活而无需 WS_EX_TOPMOST 位非活动窗口时，窗口移动所有非最顶端窗口之上但之下任何最顶层窗口。

如果`SetWindowPos`时，将调用*pWndInsertAfter*参数是 **& wndBottom**和`CWnd`是最顶层窗口，窗口失去它最顶层的状态 （清除 WS_EX_TOPMOST） 和系统将该窗口在 Z 顺序的底部。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#120](../../mfc/reference/codesnippet/cpp/cwnd-class_61.cpp)]

##  <a name="setwindowrgn"></a>  CWnd::SetWindowRgn

调用此成员函数可将窗口的区域设置。

```
int SetWindowRgn(
    HRGN hRgn,
    BOOL bRedraw);
```

### <a name="parameters"></a>参数

*hRgn*<br/>
区域句柄。

*bRedraw*<br/>
如果为 TRUE，操作系统也将重绘窗口设置区域; 后否则，事实并非如此。 通常情况下，设置*bRedraw*为 true; 如果窗口是可见。 如果设置为 TRUE，系统 WM_WINDOWPOSCHANGING 和 WM_WINDOWPOSCHANGED 将消息发送到窗口。

### <a name="return-value"></a>返回值

如果函数成功，则返回值为非零值。 如果函数失败，则返回值为零。

### <a name="remarks"></a>备注

窗口的窗口区域的坐标是相对于窗口没有窗口的客户端区域的左上角。

在成功调用后`SetWindowRgn`，操作系统拥有区域句柄所指定的区域*hRgn*。 操作系统不生成区域的副本，因此不执行任何进一步函数调用与该区域句柄，但不要关闭此区域句柄。

##  <a name="setwindowtext"></a>  CWnd::SetWindowText

设置为指定的文本窗口的标题。

```
void SetWindowText(LPCTSTR lpszString);
```

### <a name="parameters"></a>参数

*lpszString*<br/>
指向[CString](../../atl-mfc-shared/reference/cstringt-class.md)对象或要用作新的标题或控件文本的以 null 结尾的字符串。

### <a name="remarks"></a>备注

如果窗口是一个控件，设置在控件内的文本。

此函数会导致[WM_SETTEXT](/windows/desktop/winmsg/wm-settext)消息要发送到此窗口。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#121](../../mfc/reference/codesnippet/cpp/cwnd-class_62.cpp)]

##  <a name="showcaret"></a>  CWnd::ShowCaret

在插入符号的当前位置的屏幕上显示插入符号。

```
void ShowCaret();
```

### <a name="remarks"></a>备注

显示之后，插入符号开始自动闪烁。

`ShowCaret`成员函数显示了将插入符号，是否它具有当前的形状并不是被隐藏两个或多个时间连续。 如果将插入符号不归此窗口，不会显示插入符号。

隐藏插入符号是累积的。 如果[HideCaret](#hidecaret)成员函数调用五次连续，`ShowCaret`必须调用五次以显示插入符号。

将插入符号是共享的资源。 仅当它具有输入的焦点或处于活动状态时，窗口应显示插入符号。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::CreateCaret](#createcaret)。

##  <a name="showownedpopups"></a>  CWnd::ShowOwnedPopups

显示或隐藏此窗口所拥有的所有弹出窗口。

```
void ShowOwnedPopups(BOOL bShow = TRUE);
```

### <a name="parameters"></a>参数

*bShow*<br/>
指定是否要显示或隐藏弹出窗口。 如果此参数为 TRUE，则会显示所有隐藏的弹出窗口。 如果此参数为 FALSE，将隐藏所有可见的弹出窗口。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::SetWindowPos](#setwindowpos)。

##  <a name="showscrollbar"></a>  CWnd::ShowScrollBar

显示或隐藏滚动条。

```
void ShowScrollBar(
    UINT nBar,
    BOOL bShow = TRUE);
```

### <a name="parameters"></a>参数

*nBar*<br/>
指定滚动条控件或窗口的非工作区的一部分。 如果它属于非工作区*nBar*还用于指明是否滚动条位于水平、 垂直，或两者。 它必须是以下值之一：

- SB_BOTH 指定窗口的水平和垂直滚动条。

- SB_HORZ 指定窗口的水平滚动条。

- SB_VERT 指定窗口的垂直滚动条。

*bShow*<br/>
指定 Windows 是否显示或隐藏滚动条。 如果此参数为 TRUE，显示滚动条;否则会隐藏滚动条。

### <a name="remarks"></a>备注

应用程序不应调用`ShowScrollBar`处理滚动条通知消息时隐藏滚动条。

##  <a name="showwindow"></a>  CWnd::ShowWindow

设置窗口的可见性状态。

```
BOOL ShowWindow(int nCmdShow);
```

### <a name="parameters"></a>参数

*nCmdShow*<br/>
指定如何`CWnd`是否显示。 它必须是以下值之一：

- SW_HIDE 隐藏此窗口，并将激活传递到另一个窗口。

- SW_MINIMIZE 最小化窗口，并激活系统的列表中的顶级窗口。

- SW_RESTORE 激活并显示窗口。 如果最小化或最大化窗口，Windows 会将其还原到其原始大小和位置。

- SW_SHOW 激活窗口并将其显示在其当前大小和位置。

- SW_SHOWMAXIMIZED 激活窗口，并将其显示为最大化窗口。

- SW_SHOWMINIMIZED 激活窗口，并将其显示为一个图标。

- SW_SHOWMINNOACTIVE 以图标形式显示的窗口。 当前处于活动状态的窗口将保持活动状态。

- SW_SHOWNA 在其当前状态将显示窗口。 当前处于活动状态的窗口将保持活动状态。

- SW_SHOWNOACTIVATE 显示窗口中的最新的大小和位置。 当前处于活动状态的窗口将保持活动状态。

- SW_SHOWNORMAL 激活并显示窗口。 如果最小化或最大化窗口，Windows 会将其还原到其原始大小和位置。

### <a name="return-value"></a>返回值

如果窗口是以前可见，则非零值0`CWnd`之前为隐藏状态。

### <a name="remarks"></a>备注

`ShowWindow` 必须调用每个应用程序使用的主窗口中仅一次[CWinApp::m_nCmdShow](../../mfc/reference/cwinapp-class.md#m_ncmdshow)。 对后续调用`ShowWindow`必须使用而不是指定的上面列出的值之一`CWinApp::m_nCmdShow`。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::CalcWindowRect](#calcwindowrect)。

##  <a name="subclassdlgitem"></a>  CWnd::SubclassDlgItem

调用此成员函数可对"动态子类"基于对话框模板创建的控件，并将其附加到此`CWnd`对象。

```
BOOL SubclassDlgItem(
    UINT nID,
    CWnd* pParent);
```

### <a name="parameters"></a>参数

*nID*<br/>
控件的 id。

*pParent*<br/>
控件的父级 （通常为对话框）。

### <a name="return-value"></a>返回值

如果该函数成功，则为非 0；否则为 0。

### <a name="remarks"></a>备注

Windows 消息动态子类化控件时，将通过路由`CWnd`的消息映射，并调用消息处理程序`CWnd`第一次的类。 传递给类的基类的消息将传递到控件中的默认消息处理程序。

此成员函数将附加到 Windows 控件`CWnd`对象，并替换控件的`WndProc`和`AfxWndProc`函数。 该函数将存储的旧`WndProc`中返回的位置`GetSuperWndProcAddr`成员函数。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#122](../../mfc/reference/codesnippet/cpp/cwnd-class_63.cpp)]

##  <a name="subclasswindow"></a>  CWnd::SubclassWindow

调用此成员函数可对"动态子类"窗口，并将其附加到此`CWnd`对象。

```
BOOL SubclassWindow(HWND hWnd);
```

### <a name="parameters"></a>参数

*hWnd*<br/>
窗口的句柄。

### <a name="return-value"></a>返回值

如果该函数成功，则为非 0；否则为 0。

### <a name="remarks"></a>备注

Windows 消息动态子类化窗口时，将通过路由`CWnd`的消息映射，并调用消息处理程序`CWnd`第一次的类。 传递给类的基类的消息将传递到窗口中的默认消息处理程序。

此成员函数将附加到 Windows 控件`CWnd`对象，并取代了窗口`WndProc`和`AfxWndProc`函数。 该函数将存储指向旧`WndProc`在`CWnd`对象。

> [!NOTE]
> 窗口必须尚未被附加到 MFC 对象时调用此函数。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#123](../../mfc/reference/codesnippet/cpp/cwnd-class_64.cpp)]

##  <a name="unlockwindowupdate"></a>  CWnd::UnlockWindowUpdate

调用此成员函数以解锁使用已锁定的窗口`CWnd::LockWindowUpdate`。

```
void UnlockWindowUpdate();
```

### <a name="remarks"></a>备注

可以使用锁定一次只能有一个窗口`LockWindowUpdate`。 请参阅[CWnd::LockWindowUpdate](#lockwindowupdate)或 Win32 函数[LockWindowUpdate](/windows/desktop/api/winuser/nf-winuser-lockwindowupdate)有关锁定 windows 的详细信息。

##  <a name="unsubclasswindow"></a>  CWnd::UnsubclassWindow

调用此成员函数可设置`WndProc`回其原始值并分离窗口 HWND 从由标识`CWnd`对象。

```
HWND UnsubclassWindow();
```

### <a name="return-value"></a>返回值

Unsubclassed 窗口的句柄。

### <a name="example"></a>示例

  有关示例，请参阅[CWnd::SubclassWindow](#subclasswindow)。

##  <a name="updatedata"></a>  CWnd::UpdateData

调用此成员函数来初始化对话框中中的数据，或以检索和验证对话框数据。

```
BOOL UpdateData(BOOL bSaveAndValidate = TRUE);
```

### <a name="parameters"></a>参数

*bSaveAndValidate*<br/>
该标志指示是否为 (FALSE) 初始化对话框或数据检索 (TRUE)。

### <a name="return-value"></a>返回值

如果操作成功，则非零值否则为 0。 如果*bSaveAndValidat*e 是 TRUE，则返回值为非零值表示已成功验证数据。

### <a name="remarks"></a>备注

框架将自动调用`UpdateData`与*bSaveAndValidate*设置为 FALSE 时的默认实现中创建模式对话框[CDialog::OnInitDialog](../../mfc/reference/cdialog-class.md#oninitdialog)。 调用发生对话框中才会显示。 默认实现[CDialog::OnOK](../../mfc/reference/cdialog-class.md#onok)调用此成员函数*bSaveAndValidate*设置为 TRUE 来检索数据，并且如果成功，将关闭该对话框。 （如果在对话框中单击取消按钮，则对话框的已关闭而无需正在检索的数据。）

##  <a name="updatedialogcontrols"></a>  CWnd::UpdateDialogControls

调用此成员函数以更新对话框按钮和对话框或使用的窗口中的其他控件的状态[ON_UPDATE_COMMAND_UI](message-map-macros-mfc.md#on_update_command_ui)回调机制。

```
void UpdateDialogControls(
    CCmdTarget* pTarget,
    BOOL bDisableIfNoHndler);
```

### <a name="parameters"></a>参数

*pTarget*<br/>
指向应用程序，在主框架窗口和用来发送更新消息。

*bDisableIfNoHndler*<br/>
该标志指示是否没有任何更新处理程序的控件应自动显示为已禁用。

### <a name="remarks"></a>备注

如果子控件不具有一个处理程序和*bDisableIfNoHndler*为 TRUE，则将禁用的子控件。

框架调用此成员函数的对话栏或工具栏中的控件的应用程序的一部分空闲处理。

##  <a name="updatelayeredwindow"></a>  CWnd::UpdateLayeredWindow

更新分层窗口的位置、大小、形状、内容和透明度。

```
BOOL UpdateLayeredWindow(
    CDC* pDCDst,
    POINT* pptDst,
    SIZE* psize,
    CDC* pDCSrc,
    POINT* pptSrc,
    COLORREF crKey,
    BLENDFUNCTION* pblend,
    DWORD dwFlags);
```

### <a name="parameters"></a>参数

*pDCDst*<br/>
指向屏幕设备上下文的指针。 它用于调色板的颜色匹配的窗口内容更新时。 如果*pDCDst*为 NULL，将使用默认调色板。

如果*pDCSrc*为 NULL， *pDCDst*必须为 NULL。

*pptDst*<br/>
一个指向`POINT`结构，它指定新的分层窗口的屏幕位置。 如果不更改当前的位置，请*pptDst*可以为 NULL。

*psize*<br/>
指向`SIZE`结构，它指定分层窗口的新大小。 如果不更改窗口的大小， *psize*可以为 NULL。

如果*pDCSrc*为 NULL， *psize*必须为 NULL。

*pDCSrc*<br/>
指向定义分层的窗口的面的 DC 的指针。 如果未更改的形状和窗口的视觉对象上下文， *pDCSrc*可以为 NULL。

*pptSrc*<br/>
指向`POINT`结构，它指定在设备上下文中的层的位置。

如果*pDCSrc*为 NULL， *pptSrc*应为 NULL。

*crKey*<br/>
指向一个 COLORREF 值，指定用于撰写分层的窗口的透明度颜色键。 通过用这种颜色窗口绘制的所有像素将都是透明的。 若要生成 COLORREF，使用 RGB 宏。

*pblend*<br/>
指向[BLENDFUNCTION](/windows/desktop/api/wingdi/ns-wingdi-_blendfunction)结构，它指定要在撰写分层的窗口时使用的透明度值。

*dwFlags*<br/>
指定要采取的操作。 此参数可以是一个或多个以下值。 有关可能的值的列表，请参阅[UpdateLayeredWindow](/windows/desktop/api/winuser/nf-winuser-updatelayeredwindow)。

### <a name="return-value"></a>返回值

如果函数成功，则为非零值；否则为

### <a name="remarks"></a>备注

此成员函数模拟函数的功能[UpdateLayeredWindow](/windows/desktop/api/winuser/nf-winuser-updatelayeredwindow)，如 Windows SDK 中所述。

##  <a name="updatewindow"></a>  CWnd::UpdateWindow

通过发送更新的工作区[WM_PAINT](/windows/desktop/gdi/wm-paint)消息更新区域是否不为空。

```
void UpdateWindow();
```

### <a name="remarks"></a>备注

`UpdateWindow`成员函数将发送 WM_PAINT 消息直接绕过应用程序队列。 如果更新区域为空，不会发送 WM_PAINT。

### <a name="example"></a>示例

[!code-cpp[NVC_MFCWindowing#124](../../mfc/reference/codesnippet/cpp/cwnd-class_65.cpp)]

##  <a name="validaterect"></a>  CWnd::ValidateRect

通过从窗口的更新区域中删除该矩形，来验证给定矩形内的客户端区域。

```
void ValidateRect(LPCRECT lpRect);
```

### <a name="parameters"></a>参数

*lpRect*<br/>
指向[CRect](../../atl-mfc-shared/reference/crect-class.md)对象或[RECT 结构](/windows/desktop/api/windef/ns-windef-tagrect)，其中包含矩形的客户端坐标从更新区域中删除。 如果*lpRect*为 NULL，整个窗口进行验证。

### <a name="remarks"></a>备注

[BeginPaint](#beginpaint)成员函数会自动验证整个工作区。 既不`ValidateRect`也不[ValidateRgn](#validatergn)如果更新区域的一部分需要验证之前，应调用成员函数[WM_PAINT](/windows/desktop/gdi/wm-paint)下一次生成。

Windows 将继续生成 WM_PAINT 消息，直到当前更新区域进行验证。

##  <a name="validatergn"></a>  CWnd::ValidateRgn

通过从窗口的当前更新区域中删除该区域，来验证给定区域内的客户端区域。

```
void ValidateRgn(CRgn* pRgn);
```

### <a name="parameters"></a>参数

*pRgn*<br/>
一个指向[CRgn](../../mfc/reference/crgn-class.md)对象，它标识定义要从更新区域中删除的区域的区域。 如果此参数为 NULL，删除整个客户端区域。

### <a name="remarks"></a>备注

给定的区域必须已创建以前由区域函数。 假定为工作区坐标中的区域坐标。

[BeginPaint](#beginpaint)成员函数会自动验证整个工作区。 既不[ValidateRect](#validaterect)也不`ValidateRgn`应调用成员函数，如果必须在下一步之前验证更新区域的一部分[WM_PAINT](/windows/desktop/gdi/wm-paint)生成消息。

##  <a name="windowfrompoint"></a>  CWnd::WindowFromPoint

检索包含指定的点，则窗口*点*必须在屏幕上指定点的屏幕坐标。

```
static CWnd* PASCAL WindowFromPoint(POINT point);
```

### <a name="parameters"></a>参数

*point*<br/>
指定[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)对象或[点](/windows/desktop/api/windef/ns-windef-tagpoint)数据结构，它定义要检查的点。

### <a name="return-value"></a>返回值

指向点存在于的窗口对象的指针。 如果不存在时段，在给定时间点，则为 NULL。 返回的指针可能是暂时的不应存储供以后使用。

### <a name="remarks"></a>备注

`WindowFromPoint` 不检索隐藏或禁用窗口中，即使是在窗口中。 应用程序应使用[ChildWindowFromPoint](#childwindowfrompoint)受限搜索的成员函数。

##  <a name="windowproc"></a>  CWnd::WindowProc

提供 Windows 过程 ( `WindowProc`) 为`CWnd`对象。

```
virtual LRESULT WindowProc(
    UINT message,
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>参数

*message*<br/>
指定要处理的 Windows 消息。

*wParam*<br/>
提供使用在处理消息的其他信息。 参数值取决于消息。

*lParam*<br/>
提供使用在处理消息的其他信息。 参数值取决于消息。

### <a name="return-value"></a>返回值

返回值取决于消息。

### <a name="remarks"></a>备注

它将分派消息窗口的消息映射。

##  <a name="winhelp"></a>  CWnd::WinHelp

调用以启动 WinHelp 应用程序。

```
virtual void WinHelp(
    DWORD_PTR dwData,
    UINT nCmd = HELP_CONTEXT);
```

### <a name="parameters"></a>参数

*dwData*<br/>
指定其他数据。 使用的值取决于的值*nCmd*参数。

*nCmd*<br/>
指定请求的帮助的类型。 有关一系列可能的值以及它们如何影响*dwData*参数，请参阅[WinHelp](/windows/desktop/api/winuser/nf-winuser-winhelpa) Windows SDK 中的 Windows 函数。

### <a name="remarks"></a>备注

请参阅[CWinApp::WinHelp](../../mfc/reference/cwinapp-class.md#winhelp)有关详细信息。

##  <a name="registertouchwindow"></a>  CWnd::RegisterTouchWindow

注册或注销 Windows 触摸支持。

```
BOOL RegisterTouchWindow(
    BOOL bRegister = TRUE,
    ULONG ulFlags = 0);
```

### <a name="parameters"></a>参数

*bRegister*<br/>
TRUE 表示注册 Windows 触控支持;FALSE 否则为。

*ulFlags*<br/>
一组位标志，用于指定可选的修改。 此字段可能包含 0 或以下值之一：TWF_FINETOUCH，TWF_WANTPALM。

### <a name="return-value"></a>返回值

若成功，则为 TRUE；否则为 FALSE。

### <a name="remarks"></a>备注

##  <a name="resizedynamiclayout"></a>  CWnd::ResizeDynamicLayout

如果对窗口启用了动态布局，则窗口大小更改以调整子窗口布局时会通过框架调用。

```
virtual void ResizeDynamicLayout();
```

### <a name="remarks"></a>备注

## <a name="see-also"></a>请参阅

[CCmdTarget 类](../../mfc/reference/ccmdtarget-class.md)<br/>
[层次结构图](../../mfc/hierarchy-chart.md)<br/>
[CFrameWnd 类](../../mfc/reference/cframewnd-class.md)<br/>
[CView 类](../../mfc/reference/cview-class.md)
